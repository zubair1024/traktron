H.util.eval("function Oi(a){var b=a.ownerDocument,b=b.documentElement||b.body.parentNode||b.body;a=a.getBoundingClientRect();return{x:a.left+(\"number\"===typeof window.pageXOffset?window.pageXOffset:b.scrollLeft),y:a.top+(\"number\"===typeof window.pageYOffset?window.pageYOffset:b.scrollTop)}}var Pi=/Edge\\/\\d+/.test(navigator.appVersion),Qi=Function(\"return this\")();function Ri(a,b,c,d,e,f,g){Ri.a.constructor.call(this,a);this.pointers=b;this.changedPointers=c;this.targetPointers=d;this.currentPointer=e;this.originalEvent=g;this.target=f}u(Ri,ec);r(\"H.mapevents.Event\",Ri);function Si(a,b,c,d,e,f){if(isNaN(a))throw Error(\"x needs to be a number\");if(isNaN(b))throw Error(\"y needs to be a number\");if(isNaN(c))throw Error(\"pointer must have an id\");this.viewportX=a;this.viewportY=b;this.target=null;this.id=c;this.type=d;this.dragTarget=null;this.zj=this.button=e!==z?e:-1;this.buttons=f!==z?f:0}r(\"H.mapevents.Pointer\",Si);\nfunction Ti(a,b,c){if(isNaN(b))throw Error(\"x needs to be a number\");if(isNaN(c))throw Error(\"y needs to be a number\");a.viewportX=b;a.viewportY=c}Si.prototype.vv=function(){return this.zj};Si.prototype.getLastChangedButton=Si.prototype.vv;function Ui(a,b){a.zj=b;a.buttons|=Si.prototype.Cp[+b]||0}function Vi(a,b){a.zj=b;a.buttons&=~(Si.prototype.Cp[+b]||0)}Si.prototype.Cp=[1,4,2];var Wi={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};Si.Button=Wi;function Xi(a){this.ca=a instanceof Array?a.slice(0):[]}m=Xi.prototype;m.clear=function(){this.ca.splice(0,this.ca.length)};m.length=function(){return this.ca.length};m.item=function(a){return this.ca[a]};m.indexOf=function(a){for(var b=this.ca.length;b--;)if(this.ca[b].id===a)return b;return-1};function Yi(a,b){var c=a.indexOf(b);return-1!==c?a.ca[c]:null}m.remove=function(a){a=this.indexOf(a);return-1!==a?this.ca.splice(a,1)[0]:null};\nfunction Zi(a,b){for(var c=a.ca.length,d=[];c--;)a.ca[c].type!==b&&d.push(a.ca[c]);a.ca=d}function $i(a,b){for(var c=a.ca.length;c--;)if(a.ca[c].dragTarget===b)return!0;return!1}m.push=function(a){if(a instanceof Si)return this.ca.push(a);throw Error(\"list needs a pointer\");};m.ld=function(){return this.ca};m.i=function(){return new Xi(this.ca)};function aj(a,b,c){c=c||{};if(!(a instanceof R))throw Error(\"events: map instance required\");if(!(b instanceof Array))throw Error(\"events: map array required\");yb.call(this);this.Pl=c.Pl||300;this.Mp=c.Mp||50;this.ct=c.ct||50;this.dt=c.dt||500;this.gn=c.gn||900;this.jr=c.jr||50;this.map=a;this.ya=this.map.q;this.element=this.ya.element;this.cm=b;this.na=new Xi;this.Ia=new Xi;this.le={};this.ja=null;this.hj=!0;this.Lh={};this.Gh={};this.Ch=null;this.Qg=w(this.Qg,this);this.Ou={pointerdown:this.Gu,\npointermove:this.Hu,pointerup:this.Iu,pointercancel:this.Fu};bj(this)}u(aj,yb);function bj(a,b){for(var c,d,e=0,f=a.cm.length,e=0;e<f;e++)d=a.cm[e],c=d.C,\"function\"===typeof c&&(b?(d.target||a.element).removeEventListener(d.Ba,c):(d.target||a.element).addEventListener(d.Ba,c))}\nfunction cj(a,b,c){var d,e=a.Ou[b],f,g;if(\"function\"===typeof e)for(\"pointermove\"!==b&&(a.hj=!0),f=0,g=a.Ia.length();f<g;f++)b=a.Ia.item(f),a.element.contains(c.target)?(d=a,d=d.ja===b?b.target:0<=b.viewportX&&b.viewportX<d.ya.width&&0<=b.viewportY&&b.viewportY<d.ya.height?d.map.ph(b.viewportX,b.viewportY)||d.map:null):d=null,dj(b.id,a.Lh),e.call(a,b,d,c);a.Ia.clear()}m=aj.prototype;\nm.Iu=function(a,b,c){a.target=b;ej(this,a,c);fj(this,b,\"pointerup\",c,a);\"mouse\"!==a.type&&fj(this,b,\"pointerleave\",c,a);b=this.le[a.id];var d={x:a.viewportX,y:a.viewportY},e=c.timeStamp,f=a.target,g=this.Ch;b&&b.target===f&&b.rl.distance(d)<this.ct&&e-b.Po<this.dt?(fj(this,f,\"tap\",c,a),g&&g.target===f&&e-g.Po<this.Pl?g.rl.distance({x:a.viewportX,y:a.viewportY})<this.Mp&&(fj(this,f,\"dbltap\",c,a),this.Ch=null):this.Ch={target:f,rl:new G(a.viewportX,a.viewportY),Po:c.timeStamp}):this.Ch=null;this.le=\n{};dj(a.id,this.Gh)};function ej(a,b,c){b===a.ja&&(fj(a,b.dragTarget,\"dragend\",c,b),a.ja=null,dj(b.id,a.Lh));b.dragTarget=null}m.Qg=function(a,b){var c=this;fj(this,a.dragTarget,\"drag\",b,a);dj(a.id,this.Lh);this.Lh[a.id]=setTimeout(function(){c.Qg(a,b)},150)};function dj(a,b){b[a]&&(clearTimeout(b[a]),delete b[a])}\nfunction gj(a,b,c){var d=b.target,e=new G(b.viewportX,b.viewportY),f=b.id;dj(f,a.Gh);a.Gh[f]=setTimeout(function(){d&&d===b.target&&e.distance({x:b.viewportX,y:b.viewportY})<a.jr&&(fj(a,d,\"longpress\",c,b),delete a.le[b.id])},a.gn)}\nm.Hu=function(a,b,c){var d=a.dragTarget,e=a.id,f;f=a.target;a.target=b;f!==b&&(fj(this,f,\"pointerleave\",c,a),fj(this,b,\"pointerenter\",c,a));d?this.ja?this.Qg(a,c):this.hj?this.hj=!1:(this.ja=a,fj(this,d,\"dragstart\",c,a),this.Qg(a,c),delete this.le[e],this.hj=!0):(!this.ja||this.ja&&this.ja.dragTarget!==b&&this.ja.dragTarget!==this.map)&&fj(this,b,\"pointermove\",c,a)};\nm.Gu=function(a,b,c){var d=!(/^(?:mouse|pen)$/.test(a.type)&&0!==c.button),e;b&&(a.target=b,this.le[a.id]={rl:new G(a.viewportX,a.viewportY),target:a.target,Po:c.timeStamp},\"mouse\"!==a.type&&fj(this,b,\"pointerenter\",c,a),e=fj(this,b,\"pointerdown\",c,a),!this.ja&&d&&(b.draggable&&!$i(this.na,b)?a.dragTarget=b:!this.map.draggable||e.defaultPrevented||$i(this.na,this.map)||(a.dragTarget=this.map)),gj(this,a,c))};\nm.Fu=function(a,b,c){a.target=null;b?(fj(this,b,\"pointerleave\",c,a),fj(this,b,\"pointercancel\",c,a)):fj(this,this.map,\"pointercancel\",c,a);ej(this,a,c);this.le={};dj(a.id,this.Gh)};function fj(a,b,c,d,e){var f;if(b&&\"function\"===typeof b.dispatchEvent){f=Ri;var g=a.na.ld(),h=a.Ia.ld();a=a.na;var k,l=a.ca.length,n=[];for(k=0;k<l;k++)a.ca[k].target===b&&n.push(a.ca[k]);f=new f(c,g,h,n,e,b,d);e.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(c)?e.zj:Wi.NONE;b.dispatchEvent(f)}return f}\nm.c=function(){bj(this,!0);this.na.clear();this.Ia.clear();var a=this.Lh,b;for(b in a)dj(b,a);var a=this.Gh,c;for(c in a)dj(c,a);this.ja=this.le=this.Ch=this.map=this.Ia=this.na=this.cm=this.aa=null;yb.prototype.c.call(this)};function hj(a){this.yf=w(this.yf,this);aj.call(this,a,[{Ba:\"touchstart\",C:this.yf},{Ba:\"touchmove\",C:this.yf},{Ba:\"touchend\",C:this.yf},{Ba:\"touchcancel\",C:this.yf}]);this.ht={touchstart:\"pointerdown\",touchmove:\"pointermove\",touchend:\"pointerup\",touchcancel:\"pointercancel\"};this.Lq=(a=(a=a.nc)?a.f():null)?Array.prototype.slice.call(a.querySelectorAll(\"a\"),0):[]}u(hj,aj);\nhj.prototype.yf=function(a){var b=a.touches,c=this.na.length(),d;if(\"touchstart\"===a.type&&c>=b.length){c=this.na.i();for(d=b.length;d--;)c.remove(b[d].identifier);for(d=c.length();d--;)this.na.remove(c.item(d).id);this.Ia=c;cj(this,\"pointercancel\",a);this.Ia.clear()}if(this.ht[a.type]){b=Oi(this.ya.element);c=a.type;d=a.changedTouches;var e=d.length,f,g,h,k,l,n;this.Ia.clear();for(n=0;n<e;n++)if(h=d[n],l=Yi(this.na,h.identifier),f=h.pageX-b.x,g=h.pageY-b.y,l)if(\"touchmove\"===c){if(h=Math.abs(l.viewportX-\nf),k=Math.abs(l.viewportY-g),1<h||1<k||1===h&&1===k)Ti(l,f,g),this.Ia.push(l)}else\"touchend\"===c&&(this.na.remove(l.id),this.Ia.push(l),Vi(l,Wi.LEFT));else l=new Si(f,g,h.identifier,\"touch\",Wi.LEFT,1),this.na.push(l),this.Ia.push(l);cj(this,this.ht[a.type],a);-1===this.Lq.indexOf(a.target)&&a.preventDefault()}};hj.prototype.c=function(){this.Lq=null;aj.prototype.c.call(this)};function ij(a){var b=[],b=jj(this);(navigator.pointerEnabled||navigator.msPointerEnabled)&&b.push({Ba:\"MSHoldVisual\",C:\"prevent\"});aj.call(this,a,b)}u(ij,aj);function jj(a){var b=navigator.pointerEnabled,c,d,e=[];a.Km=w(a.Km,a);\"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver\".split(\" \").forEach(function(f){c=f.toLowerCase().replace(/ms/g,\"\");d=b?c:f;e.push({Ba:d,C:a.Km,target:\"MSPointerUp\"===f||\"MSPointerMove\"===f?window:null})});return e}\nvar kj={2:\"touch\",3:\"pen\",4:\"mouse\"};ij.prototype.Kl=function(a,b){var c;c=a.pointerType;\"number\"===typeof c&&(c=kj[c]);c=new Si(b.x,b.y,a.pointerId,c,a.button,a.buttons);this.na.push(c);return c};\nij.prototype.Km=function(a){var b=navigator.yx?a.type:a.type.toLowerCase().replace(/ms/g,\"\"),c=Oi(this.element),d=Yi(this.na,a.pointerId),e=a.pageX-c.x,c=a.pageY-c.y,f=kj[a.pointerType]||a.pointerType;Pi&&\"rtl\"===y.getComputedStyle(this.ya.element).direction&&(e-=(y.devicePixelRatio-1)*this.ya.width);d||b in{pointerup:1,pointerout:1,pointercancel:1}||\"touch\"===f&&\"pointerdown\"!==b||(d=this.Kl(a,{x:e,y:c}));d&&(b in{pointerup:1,pointercancel:1}?(\"touch\"===f&&this.na.remove(d.id),Vi(d,a.button)):\"pointerdown\"===\nb&&(\"touch\"===a.pointerType&&(Zi(this.na,\"mouse\"),Zi(this.na,\"pen\")),Ui(d,a.button)),this.Ia.push(d),\"pointermove\"!==b?(Ti(d,e,c),cj(this,\"pointerout\"===b||\"pointerover\"===b?\"pointermove\":b,a)):d.viewportX===e&&d.viewportY===c||a.target===document.documentElement||(Ti(d,e,c),cj(this,b,a)));this.Ia.clear()};function lj(a,b,c,d){lj.a.constructor.call(this,\"contextmenu\");this.items=[];this.viewportX=a;this.viewportY=b;this.target=c;this.originalEvent=d}u(lj,ec);r(\"H.mapevents.ContextMenuEvent\",lj);function mj(a){this.Hm=w(this.Hm,this);this.Jm=w(this.Jm,this);this.Im=w(this.Im,this);this.jk=!1;this.mf=-1;this.ar=0;mj.a.constructor.call(this,a,[{Ba:\"contextmenu\",C:this.Hm},{target:a,Ba:\"longpress\",C:this.Jm},{target:a,Ba:\"dbltap\",C:this.Im}])}u(mj,aj);m=mj.prototype;m.Jm=function(a){var b=a.currentPointer;\"touch\"===b.type&&1===a.pointers.length&&nj(this,b.viewportX,b.viewportY,a.originalEvent,a.target)};m.Im=function(a){\"touch\"===a.currentPointer.type&&(this.ar=Date.now())};\nm.Hm=function(a){var b=this;-1===this.mf?this.mf=setTimeout(function(){var c=Oi(b.element),d=a.pageX-c.x,c=a.pageY-c.y;b.mf=-1;nj(b,d,c,a)},this.Pl):(clearInterval(this.mf),this.mf=-1);a.preventDefault()};function nj(a,b,c,d,e){var f=a.map;e=e||f.ph(b,c)||f;var g=Date.now()-a.ar;!a.jk&&g>a.gn&&(a.jk=!0,e.dispatchEvent(new lj(b,c,e,d)),Eg(f.f(),a.dp,a.Rp,!1,a))}m.dp=[\"mousedown\",\"touchstart\",\"pointerdown\",\"wheel\"];\nm.Rp=function(){this.jk&&(this.jk=!1,this.map.dispatchEvent(new ec(\"contextmenuclose\",this.map)))};m.c=function(){var a=this.map.f();clearInterval(this.mf);a&&Gg(a,this.dp,this.Rp,!1,this);aj.prototype.c.call(this)};function oj(a,b,c,d,e){oj.a.constructor.call(this,\"wheel\");this.delta=a;this.viewportX=b;this.viewportY=c;this.target=d;this.originalEvent=e}u(oj,ec);r(\"H.mapevents.WheelEvent\",oj);function pj(a){var b=\"onwheel\"in document;this.Mt=b;this.Jt=(b?\"d\":\"wheelD\")+\"elta\";this.Lm=w(this.Lm,this);pj.a.constructor.call(this,a,[{Ba:(b?\"\":\"mouse\")+\"wheel\",C:this.Lm}]);this.q=this.map.q}u(pj,aj);\npj.prototype.normalize=function(a,b,c){var d=this.Jt,e=a[d+(d+\"Y\"in a?\"Y\":\"\")],f,g,h;Pi&&\"rtl\"===y.getComputedStyle(this.q.element).direction&&(b-=(y.devicePixelRatio-1)*this.q.width);e&&(h=Math.abs,f=h(e),e=(!(g=a[d+\"X\"])||3<=f/h(g))&&(!(g=a[d+\"Z\"])||3<=f/h(g))?((0<e)-(0>e))*(this.Mt?1:-1):0);return new oj(e,b,c,null,a)};\npj.prototype.Lm=function(a){var b=Oi(this.element);a=this.normalize(a,a.pageX-b.x,a.pageY-b.y);a.delta&&((a.target=b=this.map.Ca(a.viewportX,a.viewportY)[0])&&xa(b.dispatchEvent)&&b.dispatchEvent(a),a.defaultPrevented||this.map.dispatchEvent(a))};function qj(a){var b=window;this.ge=w(this.ge,this);aj.call(this,a,[{Ba:\"mousedown\",C:this.ge},{Ba:\"mousemove\",C:this.ge,target:b},{Ba:\"mouseup\",C:this.ge,target:b},{Ba:\"mouseover\",C:this.ge},{Ba:\"mouseout\",C:this.ge},{Ba:\"dragstart\",C:this.hk}])}u(qj,aj);qj.prototype.Kl=function(a,b){var c=new Si(b.x,b.y,1,\"mouse\");this.na.push(c);return c};\nqj.prototype.ge=function(a){var b=a.type,c=Oi(this.element),d={x:a.pageX-c.x,y:a.pageY-c.y},c=this.na.item(0)||this.Kl(a,d);this.Ia.push(c);Ti(c,d.x,d.y);/^mouse(?:move|over|out)$/.test(b)?cj(this,\"pointermove\",a):(/^mouse(down|up)$/.test(b)&&(d=a.which-1,\"up\"===Qi.RegExp.$1?Vi(c,d):Ui(c,d)),cj(this,b.replace(\"mouse\",\"pointer\"),a));this.Ia.clear()};qj.prototype.hk=function(a){a.preventDefault()};function rj(a){var b=a.q.element.style;if(-1!==sj.indexOf(a))throw Error(\"InvalidArgument: map is already in use\");this.b=a;sj.push(a);b.msTouchAction=b.touchAction=\"none\";this.Gp=this.qt=this.sn=this.No=null;navigator.msPointerEnabled||navigator.pointerEnabled?this.No=new ij(this.b):(this.No=new hj(this.b),this.sn=new qj(this.b));this.qt=new pj(this.b);this.Gp=new mj(this.b);this.b.jd(this.e,this);yb.call(this)}u(rj,yb);r(\"H.mapevents.MapEvents\",rj);var sj=[];\nrj.prototype.e=function(){this.b=null;this.No.e();this.qt.e();this.Gp.e();this.sn&&this.sn.e();sj.splice(sj.indexOf(this.b),1);yb.prototype.e.call(this)};rj.prototype.dispose=rj.prototype.e;rj.prototype.fv=function(){return this.b};rj.prototype.getAttachedMap=rj.prototype.fv;function tj(a,b){if(-1!==uj.indexOf(a))throw Error(\"InvalidArgument: events are already used\");var c=b||{},d;yb.call(this);this.b=d=a.b;this.Iw=a;uj.push(a);this.b.draggable=!0;this.lb=c.kinetics||{duration:600,Wl:Ag};this.Yp=7;this.enable(c.enabled||this.Yp);c=R.EngineType;this.q=this.b.q;this.ti=this.q.element;this.M=this.b.M;this.Tn=c.P2D;d.addEventListener(\"dragstart\",this.hk,!1,this);d.addEventListener(\"drag\",this.Mr,!1,this);d.addEventListener(\"dragend\",this.Nr,!1,this);d.addEventListener(\"wheel\",\nthis.Qr,!1,this);d.addEventListener(\"dbltap\",this.Lr,!1,this);d.addEventListener(\"tap\",this.Pr,!1,this);d.addEventListener(\"pointermove\",this.bs,!1,this);Fg(this.ti,\"contextmenu\",this.Kr,!1,this);a.jd(this.e,this)}u(tj,yb);r(\"H.mapevents.Behavior\",tj);var uj=[];tj.prototype.ba=0;tj.DRAGGING=1;tj.WHEELZOOM=2;tj.DBLTAPZOOM=4;m=tj.prototype;\nm.hk=function(a){var b=a.pointers;a=this.q;var c=b[0],b=b[1]||{};this.ba&1&&(a.startInteraction(17,this.lb),a.interaction(c.viewportX,c.viewportY,b.viewportX,b.viewportY),this.ba&2&&this.Gi(c.viewportX,c.viewportY))};m.Mr=function(a){var b=a.pointers[0],c=a.pointers[1]||{};this.ba&1&&(this.q.interaction(b.viewportX,b.viewportY,c.viewportX,c.viewportY),a.originalEvent.preventDefault())};m.Nr=function(){this.ba&1&&this.q.endInteraction(!this.lb)};\nm.Gi=function(a,b){var c,d;this.cn&&(c=this.b.getZoom(),d=Math[0>this.cn?\"ceil\":\"floor\"](c),c!==d&&(this.cn=null,this.zoom(c,d,a,b)))};m.au=0.006;m.zoom=function(a,b,c,d){var e=this.b.M;if(isNaN(+a))throw Error(\"start zoom needs to be a number\");if(isNaN(+b))throw Error(\"to zoom needs to be a number\");0!==+b-+a&&(e.startControl(null,c,d),e.control(0,0,this.au),e.endControl(!0,function(a){a.zoom=b}))};\nm.Qr=function(a){var b,c,d,e;this.ba&2&&(b=a.delta,c=this.b.getZoom(),e=Math[0>b?\"ceil\":\"floor\"](c-b),d=this.b,d.jb().type===this.Tn?(this.zoom(c,e,a.viewportX,a.viewportY),this.cn=b):(c=this.b.M.Gc(),c.fov+=16*b,d.M.$c(c)),a.originalEvent.preventDefault())};m.Pr=function(a){a=a.currentPointer;this.Tn!==this.b.jb().type&&(a=this.b.Pe(a.viewportX,a.viewportY),this.b.M.$c(a))};m.bs=function(a){a=a.currentPointer;this.b.jb().setPointer(a.viewportX,a.viewportY)};\nm.Lr=function(a){var b=a.currentPointer,c=this.b.getZoom(),d=a.currentPointer.type;this.Tn===this.b.jb().type&&(a=\"mouse\"===d?0===a.originalEvent.button?-1:1:0<a.pointers.length?1:-1,a=Math[0>a?\"ceil\":\"floor\"](c-a),this.ba&4&&this.zoom(c,a,b.viewportX,b.viewportY))};m.Kr=function(a){return this.ba&4?(a.preventDefault(),!1):!0};\nm.e=function(){var a=this.b;a&&(a.draggable=!1,a.removeEventListener(\"dragstart\",this.hk,!1,this),a.removeEventListener(\"drag\",this.Mr,!1,this),a.removeEventListener(\"dragend\",this.Nr,!1,this),a.removeEventListener(\"wheel\",this.Qr,!1,this),a.removeEventListener(\"tap\",this.Pr,!1,this),a.removeEventListener(\"dbltap\",this.Lr,!1,this),a.removeEventListener(\"pointermove\",this.bs,!1,this),this.b=null);this.ti&&(this.ti.style.msTouchAction=\"\",Gg(this.ti,\"contextmenu\",this.Kr,!1,this),this.ti=null);this.lb=\nthis.q=null;uj.splice(uj.indexOf(this.Iw),1);yb.prototype.e.call(this)};tj.prototype.dispose=tj.prototype.e;tj.prototype.disable=function(a){this.q.endInteraction(!0);a?this.ba&a&&(this.ba-=a,a&1&&(this.b.draggable=!1)):(this.ba=0,this.b.draggable=!1)};tj.prototype.disable=tj.prototype.disable;tj.prototype.enable=function(a){a?this.ba&a||(this.ba+=a,a&1&&(this.b.draggable=!0)):(this.ba=this.Yp,this.b.draggable=!0)};tj.prototype.enable=tj.prototype.enable;\ntj.prototype.isEnabled=function(a){if(isNaN(a))throw Error(\"behavior: number required\");return!!(this.ba&a)};tj.prototype.isEnabled=tj.prototype.isEnabled;r(\"H.mapevents.buildInfo\",function(){return Hi(\"mapsjs-mapevents\",\"0.12.4\",\"7091e2f\")});\n");