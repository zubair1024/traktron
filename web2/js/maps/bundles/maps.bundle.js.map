{"version":3,"sources":["webpack:///maps.bundle.js","webpack:///webpack/bootstrap 5806d2067a6084641c5c","webpack:///./js/maps/index.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.export.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.is-object.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.an-object.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.wks.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.global.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.fails.js","webpack:///external \"App\"","webpack:///./~/babel-polyfill/~/core-js/modules/$.has.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.to-length.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.descriptors.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.object-sap.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.redefine.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.to-iobject.js","webpack:///./js/maps/styler.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.ctx.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.defined.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.hide.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.cof.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.core.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.to-object.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.property-desc.js","webpack:///./~/script-loader/addScript.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.a-function.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.add-to-unscopables.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.uid.js","webpack:///./js/maps/project.js","webpack:///./js/maps/viewers/manager/layer-manager.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.for-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.iterators.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.set-to-string-tag.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.to-index.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.to-integer.js","webpack:///./js/maps/debugger.js","webpack:///./js/maps/viewers/layer.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.array-methods.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.classof.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.collection.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.fix-re-wks.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.invoke.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.iobject.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.redefine-all.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.set-species.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.strict-new.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.string-trim.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.fails-is-regexp.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.is-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.iter-define.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.iter-detect.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.library.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.math-expm1.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.math-sign.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.set-proto.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.string-at.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.string-context.js","webpack:///./js/maps/viewers/manager/animation-manager.js","webpack:///./js/maps/viewers/map-object.js","webpack:///./js/maps/viewers/routing-engine.js","webpack:///./js/maps/viewers/viewer.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.array-includes.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.collection-strong.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.collection-to-json.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.collection-weak.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.dom-create.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.flags.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.get-names.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.html.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.is-array-iter.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.is-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.is-regexp.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.iter-call.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.iter-create.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.iter-step.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.math-log1p.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.object-to-array.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.own-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.same-value.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.shared.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.string-pad.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.string-repeat.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.task.js","webpack:///./~/babel-polyfill/~/core-js/modules/core.get-iterator-method.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.iterator.js","webpack:///./js/maps/controller.js","webpack:///./js/maps/es6.playground.js","webpack:///./js/maps/initializer.js","webpack:///./js/maps/layer-data-fetcher.js","webpack:///./js/maps/ui/controls.js","webpack:///./js/maps/ui/exts/coordinates-display.js","webpack:///./js/maps/ui/exts/date-range-slider.js","webpack:///./js/maps/ui/exts/legend.js","webpack:///./js/maps/ui/routing.js","webpack:///./js/maps/viewer-factory.js","webpack:///./js/maps/viewers/googlemaps/static-map.js","webpack:///./js/maps/viewers/heremaps/static-map.js","webpack:///./js/maps/viewers/manager/edit-manager.js","webpack:///./js/maps/viewers/manager/routing-manager.js","webpack:///./js/maps/viewers/map-object-label.js","webpack:///./~/babel-polyfill/lib/index.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.array-copy-within.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.array-fill.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.array-species-create.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.enum-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.keyof.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.microtask.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.object-assign.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.partial.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.path.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.replacer.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.species-constructor.js","webpack:///./~/babel-polyfill/~/core-js/modules/$.to-primitive.js","webpack:///./~/babel-polyfill/~/core-js/modules/es5.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.copy-within.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.fill.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.find-index.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.find.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.from.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.array.species.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.function.has-instance.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.function.name.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.map.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.acosh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.asinh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.atanh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.cbrt.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.clz32.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.cosh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.expm1.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.fround.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.hypot.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.imul.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.log10.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.log1p.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.log2.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.sign.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.sinh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.tanh.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.math.trunc.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.constructor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.epsilon.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.is-finite.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.is-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.is-nan.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.is-safe-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.max-safe-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.min-safe-integer.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.parse-float.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.number.parse-int.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.assign.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.freeze.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.get-own-property-descriptor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.get-own-property-names.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.get-prototype-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.is-extensible.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.is-frozen.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.is-sealed.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.is.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.prevent-extensions.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.seal.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.set-prototype-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.object.to-string.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.promise.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.apply.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.construct.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.define-property.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.delete-property.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.enumerate.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.get-prototype-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.get.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.has.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.is-extensible.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.own-keys.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.prevent-extensions.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.set-prototype-of.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.reflect.set.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.constructor.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.flags.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.match.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.replace.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.search.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.regexp.split.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.set.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.code-point-at.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.ends-with.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.from-code-point.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.includes.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.iterator.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.raw.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.repeat.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.starts-with.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.string.trim.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.symbol.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.weak-map.js","webpack:///./~/babel-polyfill/~/core-js/modules/es6.weak-set.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.array.includes.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.map.to-json.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.entries.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.object.values.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.regexp.escape.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.set.to-json.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.at.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.pad-left.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.pad-right.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.trim-left.js","webpack:///./~/babel-polyfill/~/core-js/modules/es7.string.trim-right.js","webpack:///./~/babel-polyfill/~/core-js/modules/js.array.statics.js","webpack:///./~/babel-polyfill/~/core-js/modules/web.dom.iterable.js","webpack:///./~/babel-polyfill/~/core-js/modules/web.immediate.js","webpack:///./~/babel-polyfill/~/core-js/modules/web.timers.js","webpack:///./~/babel-polyfill/~/core-js/shim.js","webpack:///./~/babel-regenerator-runtime/runtime.js","webpack:///./~/process/browser.js","webpack:///(webpack)/buildin/module.js","webpack:///./js/maps/ui/tpl/controls.tpl.html","webpack:///./js/maps/ui/tpl/print.tpl.html","webpack:///./js/maps/ui/tpl/routing.tpl.html","webpack:///./js/maps/ui/svg/arrow.tpl.svg","webpack:///./js/maps/ui/svg/dot.tpl.svg","webpack:///./js/maps/ui/svg/generator.tpl.svg","webpack:///./js/maps/ui/svg/pump.tpl.svg"],"names":["require","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","parentJsonpFunction","window","chunkIds","moreModules","chunkId","i","callbacks","length","installedChunks","push","apply","shift","0","e","callback","undefined","head","document","getElementsByTagName","script","createElement","type","charset","async","src","p","1","2","appendChild","m","c","scripts","_","last","toArray","getAttribute","substr","lastIndexOf","parentRequire","requireActions","maps-initializer","maps-debugger","heremaps-static","googlemaps-static","es6-playground","requireAction","isFunction","Error","global","core","hide","redefine","ctx","PROTOTYPE","$export","name","source","key","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","target","expProto","Function","W","$Object","Object","create","getProto","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","getOwnPropertyDescriptor","setDesc","defineProperty","setDescs","defineProperties","getKeys","keys","getNames","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","each","forEach","_typeof","Symbol","iterator","obj","constructor","it","isObject","TypeError","store","uid","_Symbol","Math","self","__g","exec","App","hasOwnProperty","toInteger","min","get","a","fails","KEY","fn","SRC","TO_STRING","$toString","TPL","split","inspectSource","O","val","safe","join","String","prototype","this","IObject","defined","value","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","err","Array","isArray","arrowSvgMarkupTemplate","dotSvgMarkupTemplate","generatorSvgMarkupTemplate","pumpSvgMarkupTemplate","iconsBaseDir","iconsDirs","map","dirname","_iconsDirs","directionIconsDir","clusterIconsDir","locationIconsDir","geofenceIconsDir","directionSymbols","ROAM - arrow-beige","ROAM - arrow-black","ROAM - arrow-blue","ROAM - arrow-brown","ROAM - arrow-dark-blue","ROAM - arrow-dark-green","ROAM - arrow-gray","ROAM - arrow-green","ROAM - arrow-light-blue","ROAM - arrow-light-green","ROAM - arrow-light-purple","ROAM - arrow-magenta","ROAM - arrow-maroon","ROAM - arrow-orange","ROAM - arrow-pink","ROAM - arrow-purple","ROAM - arrow-red","ROAM - arrow-silver","ROAM - arrow-white","ROAM - arrow-yellow","ROAM - circle-blue","ROAM - circle-green","ROAM - circle-orange","ROAM - circle-red","ROAM - dot-blue","ROAM - dot-green","ROAM - dot-orange","ROAM - dot-red","ROAM - rect-arrow-blue","ROAM - rect-arrow-green","ROAM - rect-blue-circle-green-arrow","ROAM - rect-blue-circle-orange-arrow","Generator - arrow-blue","Generator - arrow-green","Generator - arrow-dark-blue","Generator - arrow-maroon","Pump - arrow-brown","Pump - arrow-light-blue","Pump - arrow-light-purple","Pump - arrow-magenta","arrow-red","directionColors","shapeStyles","geofence","fillOpacity","strokeWeight","geofenceExclusive","fillColor","strokeColor","geofenceInclusive","geofenceWaypoint","geofenceUnknown","eventsConnector","arrows","animationPath","editableObject","routeLine","strokeOpacity","frequency","width","styler","getRoamIcon","roamObject","asSvg","domainObjectType","iconAction","iconActions","getIconsBaseDir","getDirectionIcon","mapCurrentSymbol","mapHistorySymbol","isAlertEvent","isLatestEvent","highlighted","heading","symbolName","rotation","round","getDirectionSvgIcon","getDirectionBitmapIcon","symbolColor","symbolSvgMarkupTemplate","match","replace","symbolDir","iconName","getObjectCategoryIcon","locationType","fenceType","iconPath","getLocationIcon","getGeofenceIcon","getClusterIconsDir","toLowerCase","getShapeStyles","hexToRgba","color","opacity","_kendo$parseColor$toR","kendo","parseColor","toRGB","r","g","b","Color","fromRGB","toCssRgba","assetmessageevent","location","Styler","getInstance","aFunction","that","arguments","$","createDesc","object","toString","slice","version","__e","bitmap","enumerable","configurable","writable","execScript","eval","UNSCOPABLES","ArrayProto","px","random","concat","project","bbox","left","bottom","right","top","roamLayers","ROAM_ASSETS","visible","clusteringSupported","serviceUrls","read","update","delete","ROAM_ASSETS_HISTORY","ROAM_LOCATIONS","ROAM_GEOFENCES","ROAM_ASSETS_ANIMATION","locationConfig","geoPositionObjects","routing","legend","_defineProperty","LayerManager","stampit","init","_ref","createMapObject","layerName","mapObjectId","domainObjectTypeId","viewer","getMapObjectFactory","_objectTypes","instance","stamp","_stamp$ROAM_LAYERS","ROAM_LAYERS","layerList","mapObjectList","roamObjectCache","positionLayerName","lastSelectedPositionObject","domainObjectTypeActions","objectTypes","assign","setViewer","once","mapViewer","getLayers","getLayer","addLayer","layerProperties","layerId","layer","layerFactory","getLayerFactory","getClusteringLayerFactory","addOverlay","getLayerVisibility","Boolean","isVisible","setLayerVisibility","visibility","setVisible","getPositionLayerName","setPositionLayerName","testIsPositionLayerName","getLayerDataFetcher","getLayerName","domainObjectTypeAction","getObject","objectId","getObjects","objectIds","compact","getObjectsByLayer","getCachedRoamObject","getCachedRoamObjects","getCachedRoamObjectsByLayer","objectType","filter","addCachedRoamObject","markLatestPositionRoamObject","roamObjects","latestPositionId","loadObjects","shouldCacheUsed","lazyLoadingEnabled","clearObjects","console","info","mapObjects","mapObject","add","getControls","onObjectsLoaded","addObject","addObjects","onObjectAdded","removeObject","removeObjects","destroyLabel","remove","onObjectRemoved","clear","copyObjects","destLayerName","srcLayerName","getObjectVisibility","effective","setObjectVisibility","setObjectsVisibility","isClusteringSupported","initTimeGuard","performClustering","setObjectLabelsVisibility","getObjectLabelsVisibility","onObjectsVisibilityChanged","setAllObjectsVisibility","setObjectHighlighted","updateIcon","revertIcon","onPositionHighlightChanged","setPositionHighlighted","isLabelsVisible","labelsVisibilityListenerAdded","getData","enhanceLabelsPlacement","isAutoLabelingActivated","resolveClustering","getMapObjectLabelFactory","runAutomaticLabelPlacement","getLabels","addEventListener","throttle","updateLabelsPosition","defer","setLabelsVisible","setData","onObjectLabelsVisibilityChanged","setClusteringEnabled","enabled","setEventsConnectorVisibility","drawingSucceeded","positions","drawEventsConnector","drawable","mapObjectFactory","coordinates","toCoordinates","_ref2","latitude","longitude","lat","lng","setCoordinates","objectModel","shapeType","options","styleName","ROAM_GEOREFERENCES","isArrayIter","anObject","toLength","getIterFn","iterable","entries","step","iterFn","f","index","def","has","TAG","tag","stat","max","ceil","floor","isNaN","MAPS_DEBUG_ENABLED","mapsDebugger","time","label","timeEnd","easterEgg","log","Layer","props","methods","getNativeObject","getBounds","getLabel","updatePosition","isClusteringEnabled","clusteringStatusChanged","refresh","Deferred","resolve","promise","toObject","asc","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","res","result","cof","ARG","T","callee","redefineAll","forOf","strictNew","$iterDetect","setToStringTag","NAME","wrapper","common","IS_WEAK","Base","C","ADDER","proto","fixMethod","BUGGY_ZERO","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iter","Infinity","getConstructor","setStrong","wks","SYMBOL","original","RegExp","string","arg","args","un","DESCRIPTORS","SPECIES","Constructor","spaces","space","non","ltrim","rtrim","exporter","trim","MATCH","re","LIBRARY","Iterators","$iterCreate","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","DEFAULT","IS_SET","FORCED","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","IteratorPrototype","values","SAFE_CLOSING","riter","from","skipClosing","expm1","x","sign","check","set","setPrototypeOf","test","buggy","__proto__","pos","s","l","charCodeAt","charAt","isRegExp","searchString","AnimationManager","_layerManager","_LayerManager$ROAM_LA","swapAnimationLayerVisibility","layerManager","getLayerManager","dataSourceLayer","animationLayer","currentStep","maxStep","animationInfo","animationId","NaN","lapse","trailLength","wasAutoRefresh","animationObjects","currentAnimationObject","currentAnimationObjectLabel","animationPathLineObject","loadAnimationObjects","setAnimationObjects","stopAnimation","objects","setMaxStep","setCurrentStep","onAnimationCurrentStepChanged","getMaxStep","onAnimationMaxStepChanged","setAnimationInfo","onAnimationInfoChanged","setAnimationSpeed","speed","isAnimating","pauseAnimation","startAnimation","onAnimationSpeedChanged","setTrailLength","onAnimationTrailLengthChanged","doStep","animationObject","setOpacity","currentObjectPosition","getPosition","isAutoFocus","setCenter","setMapObject","setText","getCurrentAnimationObjectInfo","stepTo","beforeAnimation","isFinite","clearInterval","onAnimationStateChanged","ANIMATION_STATES","PAUSE","isBoolean","setAutoRefresh","afterAnimation","STOP","isUndefined","isAutoRefresh","setInterval","START","drawAnimationPathLineObject","position","position0","removeAnimationPathLineObject","_interopRequireDefault","__esModule","default","MapObject","_extends","_app","_app2","_styler","getFactory","getFactoryMethod","factory","createMarker","createPolygon","createRectangle","createCircle","createPolyline","factoryMethods","marker","area","rectangle","circle","pass","point","polygon","rectangle2","circle2","line","factoryMethod","listener","removeEventListener","createDefaultObjectModel","markerTyped","icon","model","moduleName","support","browser","msie","toLatLngArray","createDefaultRoamData","asset","description","util","format","dateTime","eventTime","domainObjectId","createDefaultClickListener","_this","stopPropagation","stop","getCenterBounds","geoToPixel","y","createMapInfoBox","parentElement","container","objectName","mapInfoBox","setGeoPosition","show","createDefaultMouseEnterListener","_this2","hoverLabel","createDefaultMouseLeaveListener","_this3","createDefaultVisibilityChangedListener","_this4","labelsVisibilityEnabled","setLabelVisible","isLabelVisible","updateLabelPosition","destroy","isWithinViewBounds","createNormalizedShapeStyle","style","normalizeShapeStyle","lngLats","el","n","coordinate","toPoints","latLngs","points","transform","parseFloat","RoutingEngine","routingManager","searchPlaces","query","calculateRoute","Viewer","_animationManager","_editManager","_routingManager","_mapObjectLabel","config","widget","printTemplate","alarmEventIds","autoRefresh","autoFocus","rememberLastViewportEnabled","getFriendlyName","startCase","getLogo","onceEventListener","getMapInfoBox","createDefaultMapViewChangeEndListener","_geoToPixel","getGeoPosition","_container$offset","offset","setPosition","createDefaultMouseMoveListener","coordinatesDisplay","getCoordinatesDisplay","currentPointer","latLng","viewportX","viewportY","pixelToGeo","_point","overlay","MapObjectLabel","getRoutingEngineFactory","pixel","geo","getBoundingBox","setBoundingBox","getCenter","center","getZoom","getScale","zoom","getScales","zoomToLevel","zoomToScale","scale","findIndex","zoomToLayer","zoomToObject","isAssetCategoryFilterEnabled","_mapObject$getPositio","preferredZoomLevel","parseInt","localStorage","getItem","zoomLevel","panTo","shake","zoomToAll","panBy","resize","resolveProjection","print","directions","_this5","_document","title","body","backgroundColor","css","printContent","prepend","logo","screenshot","logoDefer","directionsDefer","attr","on","elem","mapDirection","compiled","template","unescape","html","toggleClass","maneuverIcons","loadedIconsCount","maneuverIcon","data","when","then","mapCanvas","mapCanvasContainer","parent","toggleExtensionsVisibility","getExtensions","extension","height","append","content","children","not","detach","patchedStyle","text","appendTo","isModernBrowser","msIE","documentMode","evergreenBrowsers","controls","animationManager","editManager","EditManager","RoutingManager","layerDataFetcher","singleAssetModeEnabled","pollId","autoLabelingActivated","scales","dataSelectionOptions","latest","to","presetIntervalActions","TODAY","setHours","YESTERDAY","setDate","getDate","LAST_24H","LAST_48H","useClustersActivated","connectHistoryPositionsActivated","assetStatusFilters","animationFeatureActivated","dateRangeSlider","getAnimationManager","getEditManager","getRoutingManager","setControls","mapControls","setListener","setLayerDataFetcher","mapLayerDataFetcher","onMapInfoBoxInitialized","MapInfo","getLegend","setLegend","mapLegend","getDateRangeSlider","setDateRangeSlider","mapDateRangeSlider","setCoordinatesDisplay","mapCoordinatesDisplay","isSingleAssetModeEnabled","setSingleAssetModeEnabled","onSingleAssetModeStatusChanged","setViewBehavior","setAutoFocus","setRememberLastViewportEnabled","activated","setPollingActivated","onAutoRefreshChanged","onPositionsFetchingRequested","pollInterval","onAutoFocusChanged","setAutoLabelingActivated","onAutoLabelingStatusChanged","JSON","parse","removeItem","getDataSelectionOptions","updateDataSelectionOptions","onDataSelectionOptionsChanged","selectPresetInterval","intervalRange","now","Date","today","oneDay","presetInterval","getTime","selectIntervalRange","presetIntervalAction","setUseClustersActivated","onUseClustersStatusChanged","isConnectHistoryPositionsActivated","setConnectHistoryPositionsActivated","onConnectHistoryPositionsStatusChanged","getUniqueAssetStatusFiltersValues","flatMap","uniq","sortBy","getSelectedAssetStatusFilters","setSelectedAssetStatusFilters","selectedFilters","onAssetStatusFiltersChanged","isAnimationFeatureActivated","setAnimationFeatureActivated","onAnimationFeatureStatusChanged","assetCategoryFilter","testIsAssetConfigurationFilterEnabled","assetConfigurationFilter","isAssetStatusFiltersEnabled","toIObject","toIndex","IS_INCLUDES","fromIndex","$iterDefine","ID","$has","setSpecies","isExtensible","SIZE","fastKey","getEntry","entry","_f","k","_l","prev","v","iterated","_t","_k","classof","createArrayMethod","WEAK","arrayFind","arrayFindIndex","frozenStore","FrozenStore","findFrozen","splice","is","ignoreCase","multiline","unicode","sticky","windowNames","getWindowNames","documentElement","ret","descriptor","log1p","isEntries","Reflect","ownKeys","SHARED","repeat","maxLength","fillString","stringLength","fillStr","intMaxLength","fillLen","stringFiller","count","str","RangeError","channel","port","invoke","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","listner","event","nextTick","port2","port1","onmessage","postMessage","importScripts","removeChild","setTimeout","getIteratorMethod","addToUnscopables","Arguments","Controller","_project","_debugger","layersConfig","logError","customErrorMessage","error","stack","onMapMvcComponentsInitialized","onMapReady","initRoamLayers","getWorkingLayersProperties","layerProps","requestPromises","getRequestPromises","rqPromiseLen","doneRqPromiseCount","layersDataDefer","requestPromise","textStatus","jqXHR","dataType","onObjectsDataFetchingSucceeded","initMapViewerDefaultState","setAutoLabelingCheckboxHidden","autoLabelingCheckboxHidden","originalNow","utcNow","getTimezoneOffset","dateFromGMT","tomorrow","last24H","setDateTimePickerMaxDate","viewerName","positionLayerConfig","noClustersRegex","setUseClustersCheckboxEnabled","setAssetStatusFiltersValues","currentObject","_domainObjectType","ajax","url","serviceUrl","success","setLocationConfigNames","testIsSingleAssetModeEnabled","errorThrown","latestPositionEventId","first","metadata","assetStatusAvailable","setAssetStatusFiltersVisible","onAutoRefreshToggled","checked","polling","requestData","dateToGMT","dateTimeFormat","eventIds","stringify","beforeSend","setEnabled","setProgressOverlayEnabled","onAnimationPositionsLoadingRequested","onEventsConnectorDrawingRequested","complete","onAutoFocusToggled","onAutoLabelingToggled","onViewportSaved","setItem","view","toast","showNotificationSimple","translate","onViewportRestored","bboxText","onScaleZoomingSelected","onLevelZoomingSelected","level","onDataSelectionOptionsUpdated","onObjectZoomingRequested","onLayerZoomingRequested","onObjectsVisibilityToggled","positionLayerNameMatched","cachedRoamObjects","onObjectLabelsVisibilityToggled","onPositionSelectionToggled","selected","onUseClustersStatusToggled","onConnectHistoryPositionsStatusToggled","filters","isEmpty","parts","partition","assetStatus","assetStatuses","some","includes","part","onAnimationPaused","onAnimationStopped","onAnimationStarted","onAnimationStepSelected","onAnimationSpeedSelected","animationSpeed","onAnimationTrailLengthSelected","onEditModeDeactivated","onEditableObjectTypeSelected","setEditableObjectType","onEditableObjectShapeTypeSelected","setEditableObjectShapeType","onEditableObjectLatLngEntered","toFixed","_coordinates","setEditableObjectLatLng","onEditableObjectBufferDistanceEntered","bufferDistance","distance","setEditableObjectBufferDistance","onEditableObjectNameEntered","setEditableObjectName","onEditableObjectConfigNameSelected","configName","setEditableObjectConfigName","onObjectCreationRequested","objectProperties","errorMessage","responseJSON","messages","onWaypointItemAdditionRequested","addWaypoint","onWaypointItemRemovalRequested","removeWaypoint","onWaypointItemReorderingRequested","reorderWaypoint","onWaypointItemSelected","waypoint","updateWaypoint","onPlacesSearchRequested","routingControls","getRoutingControls","clearPlaces","places","addPlaces","fail","message","always","results","geoPositionObject","onRouteFeatureToggled","featureName","setRouteFeatureAvoided","onRouteCalculationRequested","expandRoutingPanel","setRoutingResult","updateSaveRouteButton","duckPunchWaypoints","onRouteSavingRequested","dialog","input","labelOK","required","response","button","routeData","yieldSaveRouteRequestData","waypoints","route","onMapsPrintRequested","directionsIncluded","getRouteDirections","onResize","onDestroy","empty","es6","Initializer","_layerDataFetcher","_viewerFactory","_controls","_controller","_routing","_legend","_dateRangeSlider","_coordinatesDisplay","viewerFactory","controller","startInitialization","onMapInitialized","LayerDataFetcher","prefetch","ViewerFactory","createViewer","controlsView","mapDisplay","Controls","setController","Legend","RoutingControls","setRoutingControls","initRoutingEngine","reconstructingWaypoints","initialWaypoints","canCalculateRoute","DateRangeSlider","CoordinatesDisplay","_toConsumableArray","arr2","workingLayersProps","dataUrls","addDataUrl","dataUrl","fetch","_$","viewTemplate","_AnimationManager$ANI","ui","progress","setupMethodLookups","_objectsLoadedActions","_objectAddedActions","_objectsVisibilityCha","_objectLabelsVisibili","onPositionsLoaded","onLocationsLoaded","onGeofencesLoaded","onLocationAdded","onGeofenceAdded","onPositionsVisibilityChanged","onLocationsVisibilityChanged","onGeofencesVisibilityChanged","onAssetLabelsVisibilityChanged","onLocationLabelsVisibilityChanged","onGeofenceLabelsVisibilityChanged","noop","objectsLoadedActions","objectAddedActions","objectsVisibilityChangedActions","objectLabelsVisibilityChangedActions","buildGeneralControls","dropDownLists","find","dateTimePickers","objectTrees","objectEditors","editModeActivators","editableObjectNameTextboxes","editableObjectConfigNameDropDowns","confirmObjectCreationButtons","cancelObjectCreationButtons","goToIcon","addClass","kendoDropDownList","dataTextField","dataValueField","kendoDateTimePicker","user","kendoTreeView","loadOnDemand","checkboxes","checkChildren","mouseenter","item","currentTarget","dataItem","closest","leaf","mouseleave","objectTree","treeView","kTreeView","bind","checkedItem","sender","node","hasClass","selectedItem","activator","objectEditor","getEditableObjectShapeType","targetLayerName","getTargetLayerName","isEditableObjectPropertiesValid","editableObjectProperties","getSanitizedEditableObjectProperties","buildMapViewPanelControls","viewBehaviorPanel","viewAreaPanel","autoRefreshCheckbox","autoFocusCheckbox","autoLabelingCheckbox","saveViewportButton","restoreViewportButton","zoomToScaleDropDown","zoomToLevelDropDown","opt","option","scaleTextRe","scaleText","buildIntervalsPanelControls","intervalsPanel","historyModeRadio","presetIntervalsDropDown","intervalSelectionFieldset","fromDateTimePicker","toDateTimePicker","fetchPositionsButton","historyMode","kFromDateTimePicker","kToDateTimePicker","_viewer$selectInterva","picker","buildNavigationPanelControls","navigationPanel","positionList","positionsVisibilityCheckbox","positionTree","positionCountBadge","assetLabelsCheckbox","useClustersCheckbox","positionsConnectorCheckbox","statusFiltersMultiSelect","animationButton","click","kendoMultiSelect","buildAnimationPanelControls","animationPanel","animationCurrentStepText","animationMaxStepText","animationInfoText","animationPauseButton","animationStopButton","animationPlayButton","animationSlider","animationSpeedDropDown","trailLengthDropDown","rebuildAnimationSlider","buildLocationsPanelControls","locationsPanel","locationTree","locationCountBadge","locationLabelsCheckbox","locationCoordinatesTextbox","locationNameTextbox","locationConfigNameDropDown","buildGeofencesPanelControls","geofencesPanel","geofenceTree","geofenceCountBadge","geofenceLabelsCheckbox","geofenceShapeTypeButtons","geofenceBufferDistanceTextboxes","geofenceNameTextbox","geofenceConfigNameDropDown","selectedShapeType","setFieldsetEnabled","fieldsetSelector","fieldset","prop","dateTimePicker","kDateTimePicker","enable","dropDownList","kDropDownList","setAnimationButtonsEnabled","buttonsState","pause","play","kAnimationSlider","animationSliderContainer","ready","kendoSlider","tickPlacement","createTreeViewDataSource","objectTypeName","toUpperCase","root","items","expanded","configurationFilterEnabled","configurations","categories","o","assetCategory","categoryName","category","imageUrl","categoryItems","configurationName","configuration","configItems","rootItems","rootItem","rebuildTreeView","countBadge","kObjectTree","dataSource","HierarchicalDataSource","setDataSource","addTreeViewItem","categoryNode","findByUid","load","at","itemNode","expandTo","select","handleTreeObjectsVisibilityChanged","updateCheckedState","difference","forceItemNodesLoadingEnabled","child","mapController","hidden","filtersValues","kStatusFiltersMultiSelect","DataSource","locationConfigNames","klocationConfigNameDropDown","objectsLoadedAction","assetCategoryFilterEnabled","itemText","formattedEventTime","positionItem","locations","geofences","objectAddedAction","onLocationRemoved","onGeofenceRemoved","navigationText","kPresetIntervalsDropDown","objectsVisibilityChangedAction","objectLabelsVisibilityChangedAction","selectedUid","targetItem","listItem","onConnecinstancetoryPositionsStatusChanged","fadeIn","animationState","onEditableObjectTypeChanged","oEditor","editModeActivator","editorFieldset","editModeActivated","onEditableObjectShapeTypeChanged","getEditableObjectType","shapeTypeButtons","shapeParameterFieldset","btn","active","frmGroup","formGroup","shown","onEditableObjectLatLngChanged","onEditableObjectCoordinatesChanged","coordinatesTextbox","coordinatesValid","every","onEditableObjectBufferDistanceChanged","bufferDistanceTextbox","onEditableObjectNameChanged","objectNameTextbox","onEditableObjectConfigNameChanged","configNameDropDown","onEditableObjectPropertyValidityChanged","propertyName","validity","propName","editableObjectFormGroup","editableObjectInvalidBlock","valid","invalidText","i18n","translateContent","coordinatesDisplayView","_viewer$getCenter","defaultCoordinates","data-toggle","size","which","inputText","coordinatesString","_lng","_lat","buildLatestEventCheckbox","latestEventCheckbox","latestEventView","sliderHook","buildRangeSlider","slider","sliderGranularity","noUiSliderOptions","start","connect","behaviour","range","dateRangeMinimum","64%","82%","wNumb","decimals","noUiSlider","noUiSlider_pips","mode","density","pipsLabelText","date","isSliderValueChanged","deltaFrom","abs","deltaTo","changed","linkMethod","handle","handleLabel","tooltipPos","Link","buildHandleLabelDateTimePicker","whichHandle","handleLabelControls","dateIcon","timeIcon","invisibleInput","interval","pickedDate","isSliderEnabled","close","open","buildPresetIntervalsDropDown","setSliderVisible","setSliderEnabled","removeAttr","buildLegend","legendList","forOwn","legendSymbols","symbol","meaning","symbolIcon","legendEntry","meaningPlaceholder","symbolPlaceholder","legendContent","outerHTML","legendHook","popover","placement","viewport","pairs","isDEWA","pair","fromPairs","backendServiceEnabled","legendData","routingView","panelBar","expand","removeClass","createWaypointItem","waypointItem","waypointLabel","waypointInput","debounce","textbox","clearInputIcon","siblings","targetInputWidget","fadeOut","trigger","waypointRemover","kWaypointInput","kendoAutoComplete","getPlaces","delay","minLength","placeholder","filtering","waypointModel","selectedItemIndex","waypointList","addWaypointButton","routeFeatures","routeSummaryText","maneuverList","printRouteIcon","saveRouteButton","routeExists","win","scrollTop0","scrollTop","focus","blur","onWaypointAdded","waypointItems","len","eq","before","removerHidden","onWaypointRemoved","onWaypointReordered","waypointItemData","moved","onWaypointChanged","onWaypointsLabelChanged","onPlacesChanged","onRouteFeatureChanged","avoided","onRouteSummaryChanged","summary","duration","summaryExists","routeSummary","onManeuversChanged","maneuvers","maneuver","maneuverItem","instruction","baseCssAction","action","sortable","cursor","itemData","getWaypoints","feature","getViewerModuleName","googleMapsFeatures","featureEnabled","handleCreation","mapViewerFactory","onMapViewerCreated","viewerModuleName","factoryActions","heremaps","H","googlemaps","__google_maps_callback__","google","maps","params","client","libraries","getScript","param","factoryAction","StaticMap","baseUrl","staticMap","dimensions","renderIcon","noCentralIcon","_dimensions","w","h","toLatLngString","reverse","showStaticMap","showStaticGeofenceMap","roamGeofence","coordinates_","fenceStyles","_fenceStyles$fillColo","weight","path","showStaticRegionMap","showStaticAssetGroupMap","roamAssets","_App$config$map","appId","appCode","protocol","_dimensions2","app_id","app_code","ctr","nodot","z","lineColor","lineWidth","_dimensions3","sb","t","fc","lc","lw","_dimensions4","_dimensions5","a0","fc0","lc0","lw0","roamAsset","createEditableObject","draggable","editable","createEditableObjectPropertyValidity","editableObjectPropertyValidationAction","editableObjectPropertyValidationActions","toGeometryStringParam","geometry","editableObjectType","editableObjectPropertiesList","bufferDistances","CIRCLE","PASS","editModeLabel","clickListener","shapeTypeValidationAction","shapeTypeValidationActions","argument","_bufferDistance","_objectName","POINT","latPart","lngPart","latLngRegex","POLYGON","pointCount","RECTANGLE","wildcatTypes","getEditableObject","setEditableObject","setEditableObjectCoordinates","getEditableObjectProperties","isPlainObject","getEditableObjectCoordinates","wildcatType","getEditableObjectBufferDistance","_coordinates2","sanitizedEditableObjectProperties","getEditableObjectName","properties","reset","auxObjects","_coordinates3","_coordinates4","setBounds","_coordinates5","_coordinates6","setRadius","_coordinates7","_coordinates8","radius","resetEditableObjectCoordinates","_instance$getEditable","routingType","transportMode","trafficMode","features","tollroad","motorway","boatFerry","tunnel","dirtRoad","park","legs","router","routingLayer","placesData","pull","isWaypointValid","getValidWaypoints","pin","createWaypointPin","addWaypointPin","updateWaypointLabels","updatedWaypoint","updateWaypointPin","removeWaypointPin","waypointPin","getRoutingType","getTransportMode","getTrafficMode","getRouteFeatures","routingResult","_ref3","setRoutePath","setRouteLegs","setRouteSummary","setRouteManeuvers","redrawRouteLine","clearRouteLine","startingPoint","destination","validWaypoints","leg","_validWaypoints$i","firstPointIndex","traveltime","lastWaypoint","shiftPosition","direction","magnitude","labelData","shiftDirection","_object","origin","_labelData$origin","x0","y0","directionActions","E","directionAction","isWithinMapBounds","withinMapBounds","_instance$getPosition","_object$viewer$contai","clientWidth","clientHeight","parentNode","_object2","dimensionCached","offsetWidth","offsetHeight","cachedWidth","cachedHeight","labels","isColliding","other","l1","p1","x1","y1","w1","h1","l2","p2","x2","y2","w2","h2","wrapped","chain","orderBy","commit","threshold","sample","canPosition","colliding","_babelPolyfill","copyWithin","$$","end","inc","fill","$$len","endPos","symbols","notify","macrotask","Observer","MutationObserver","WebKitMutationObserver","Promise","isNode","flush","domain","exit","enter","toggle","createTextNode","observe","characterData","task","A","K","j","pargs","holder","regExp","replacer","D","valueOf","IE8_DOM_DEFINE","IE_PROTO","arrayIndexOf","ObjectProto","arraySlice","arrayJoin","getOwnDescriptor","factories","Attributes","Properties","keys1","keys2","keysLen1","_createDict","iframeDocument","iframe","gt","display","contentWindow","write","createGetKeys","names","Empty","construct","partArgs","bound","begin","klass","upTo","cloned","separator","createArrayReduce","isRight","memo","methodize","$fn","arg1","reduce","reduceRight","indexOf","lz","num","toISOString","d","getUTCFullYear","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","$find","forced","arrayLike","mapfn","mapping","of","HAS_INSTANCE","FunctionProto","FProto","nameRE","strong","sqrt","$acosh","acosh","Number","MAX_VALUE","LN2","asinh","atanh","cbrt","pow","clz32","LOG2E","cosh","EPSILON","EPSILON32","MAX32","MIN32","roundTiesToEven","fround","$abs","$sign","hypot","value1","value2","div","sum","larg","$imul","imul","UINT16","xn","yn","xl","yl","log10","LN10","log2","sinh","tanh","trunc","toPrimitive","$trim","NUMBER","$Number","BROKEN_COF","TRIM","toNumber","third","radix","maxCode","code","digits","_isFinite","isInteger","number","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","$freeze","$getOwnPropertyDescriptor","$getPrototypeOf","$isExtensible","$isFrozen","$isSealed","$keys","$preventExtensions","$seal","Wrapper","setProto","same","speciesConstructor","asap","PROMISE","testResolve","sub","USE_NATIVE","P2","works","thenableThenGotten","sameConstructor","isThenable","PromiseCapability","reject","$$resolve","$$reject","perform","record","isReject","ok","reaction","handler","isUnhandled","emit","onunhandledrejection","reason","$reject","$resolve","executor","onFulfilled","onRejected","catch","capability","all","abrupt","remaining","alreadyCalled","race","_apply","thisArgument","argumentsList","Target","newTarget","$args","propertyKey","attributes","deleteProperty","desc","Enumerate","enumerate","receiver","preventExtensions","V","existingDescriptor","ownDesc","$flags","$RegExp","re1","re2","CORRECT_NEW","piRE","fiU","flags","regexp","REPLACE","$replace","searchValue","replaceValue","SEARCH","SPLIT","$split","limit","$at","codePointAt","context","ENDS_WITH","$endsWith","endsWith","endPosition","search","fromCharCode","$fromCodePoint","fromCodePoint","INCLUDES","raw","callSite","tpl","STARTS_WITH","$startsWith","startsWith","$fails","shared","keyOf","$names","enumKeys","_create","$Symbol","$JSON","_stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","$getOwnPropertyNames","$getOwnPropertySymbols","$stringify","$replacer","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","weak","tmp","$WeakMap","freeze","method","$includes","toJSON","$entries","getOwnPropertyDescriptors","$values","$re","escape","$pad","padLeft","padRight","$ctx","$Array","statics","setStatics","NL","NodeList","HTC","HTMLCollection","NLProto","HTCProto","ArrayValues","$task","partial","navigator","MSIE","userAgent","innerFn","outerFn","tryLocsList","generator","Generator","Context","_invoke","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","AwaitArgument","AsyncIterator","invokeNext","invokeThrow","unwrapped","enqueue","callInvokeWithMethodAndArg","previousPromise","state","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","returnMethod","GenStateSuspendedYield","resultName","nextLoc","_sent","sent","dispatchException","ContinueSentinel","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","iteratorSymbol","hasOwn","inModule","runtime","regeneratorRuntime","Gp","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","pop","skipTempReset","rootEntry","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","timeout","cachedSetTimeout","cachedClearTimeout","Item","fun","array","clearTimeout","env","argv","versions","addListener","off","removeListener","removeAllListeners","binding","cwd","chdir","dir","umask","webpackPolyfill","deprecate","paths"],"mappings":"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","file":"maps.bundle.js","sourcesContent":["var require =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonprequire\"];\n/******/ \twindow[\"webpackJsonprequire\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n/******/ \t\twhile(callbacks.length)\n/******/ \t\t\tcallbacks.shift().call(null, __webpack_require__);\n/******/\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \t// Array means \"loading\", array contains callbacks\n/******/ \tvar installedChunks = {\n/******/ \t\t0:0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn callback.call(null, __webpack_require__);\n/******/\n/******/ \t\t// an array means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId] !== undefined) {\n/******/ \t\t\tinstalledChunks[chunkId].push(callback);\n/******/ \t\t} else {\n/******/ \t\t\t// start chunk loading\n/******/ \t\t\tinstalledChunks[chunkId] = [callback];\n/******/ \t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\tvar script = document.createElement('script');\n/******/ \t\t\tscript.type = 'text/javascript';\n/******/ \t\t\tscript.charset = 'utf-8';\n/******/ \t\t\tscript.async = true;\n/******/\n/******/ \t\t\tscript.src = __webpack_require__.p + \"\" + ({\"1\":\"heremaps\",\"2\":\"googlemaps\"}[chunkId]||chunkId) + \".chunk.js\";\n/******/ \t\t\thead.appendChild(script);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(111);\n\t\n\t/**\r\n\t * Set `__webpack_public_path__` on our entry point.\r\n\t * @see http://webpack.github.io/docs/configuration.html#output-publicpath\r\n\t */\n\tvar scripts = document.getElementsByTagName('script'); /**\r\n\t                                                        * Created by glenn on 05/01/16.\r\n\t                                                        */\n\t\n\t/**\r\n\t * Babel polyfill (adds Promise, Object.values() etc. if not supported (yet)).\r\n\t * @see https://babeljs.io/docs/usage/polyfill/\r\n\t */\n\t\n\tvar src = _.last(_.toArray(scripts)).getAttribute('src');\n\t__webpack_require__.p = src.substr(0, src.lastIndexOf('/') + 1);\n\t\n\t/**\r\n\t * The entry point of the maps module, expose the `require` function.\r\n\t * @see http://webpack.github.io/docs/webpack-for-browserify-users.html#external-requires\r\n\t */\n\tmodule.exports = function (parentRequire) {\n\t  return function (module) {\n\t    var requireActions = {\n\t      'maps-initializer': function mapsInitializer() {\n\t        return __webpack_require__(89).default;\n\t      },\n\t      'maps-debugger': function mapsDebugger() {\n\t        return __webpack_require__(36).default;\n\t      },\n\t      'heremaps-static': function heremapsStatic() {\n\t        return __webpack_require__(106).default;\n\t      },\n\t      'googlemaps-static': function googlemapsStatic() {\n\t        return __webpack_require__(101).default;\n\t      },\n\t      'es6-playground': function es6Playground() {\n\t        return __webpack_require__(88).default;\n\t      }\n\t    };\n\t\n\t    var requireAction = requireActions[module];\n\t\n\t    if (!_.isFunction(requireAction)) {\n\t      return parentRequire(module);\n\t    }\n\t\n\t    return requireAction();\n\t  };\n\t}(_.isFunction(require) ? require : function (module) {\n\t  throw new Error('Module ' + module + ' not found');\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar global = __webpack_require__(6),\n\t    core = __webpack_require__(20),\n\t    hide = __webpack_require__(18),\n\t    redefine = __webpack_require__(13),\n\t    ctx = __webpack_require__(16),\n\t    PROTOTYPE = 'prototype';\n\t\n\tvar $export = function $export(type, name, source) {\n\t  var IS_FORCED = type & $export.F,\n\t      IS_GLOBAL = type & $export.G,\n\t      IS_STATIC = type & $export.S,\n\t      IS_PROTO = type & $export.P,\n\t      IS_BIND = type & $export.B,\n\t      target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE],\n\t      exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),\n\t      expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {}),\n\t      key,\n\t      own,\n\t      out,\n\t      exp;\n\t  if (IS_GLOBAL) source = name;\n\t  for (key in source) {\n\t    // contains in native\n\t    own = !IS_FORCED && target && key in target;\n\t    // export native or passed\n\t    out = (own ? target : source)[key];\n\t    // bind timers to global for call from export context\n\t    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    // extend global\n\t    if (target && !own) redefine(target, key, out);\n\t    // export\n\t    if (exports[key] != out) hide(exports, key, exp);\n\t    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n\t  }\n\t};\n\tglobal.core = core;\n\t// type bitmap\n\t$export.F = 1; // forced\n\t$export.G = 2; // global\n\t$export.S = 4; // static\n\t$export.P = 8; // proto\n\t$export.B = 16; // bind\n\t$export.W = 32; // wrap\n\tmodule.exports = $export;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create: $Object.create,\n\t  getProto: $Object.getPrototypeOf,\n\t  isEnum: {}.propertyIsEnumerable,\n\t  getDesc: $Object.getOwnPropertyDescriptor,\n\t  setDesc: $Object.defineProperty,\n\t  setDescs: $Object.defineProperties,\n\t  getKeys: $Object.keys,\n\t  getNames: $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each: [].forEach\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tmodule.exports = function (it) {\n\t  return (typeof it === 'undefined' ? 'undefined' : _typeof(it)) === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isObject = __webpack_require__(3);\n\tmodule.exports = function (it) {\n\t  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n\t  return it;\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar store = __webpack_require__(81)('wks'),\n\t    uid = __webpack_require__(26),\n\t    _Symbol = __webpack_require__(6).Symbol;\n\tmodule.exports = function (name) {\n\t  return store[name] || (store[name] = _Symbol && _Symbol[name] || (_Symbol || uid)('Symbol.' + name));\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\tif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (exec) {\n\t  try {\n\t    return !!exec();\n\t  } catch (e) {\n\t    return true;\n\t  }\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = App;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tmodule.exports = function (it, key) {\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 7.1.15 ToLength\n\tvar toInteger = __webpack_require__(33),\n\t    min = Math.min;\n\tmodule.exports = function (it) {\n\t  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Thank's IE8 for his funny defineProperty\n\tmodule.exports = !__webpack_require__(7)(function () {\n\t  return Object.defineProperty({}, 'a', { get: function get() {\n\t      return 7;\n\t    } }).a != 7;\n\t});\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// most Object methods by ES6 should accept primitives\n\tvar $export = __webpack_require__(1),\n\t    core = __webpack_require__(20),\n\t    fails = __webpack_require__(7);\n\tmodule.exports = function (KEY, exec) {\n\t  var fn = (core.Object || {})[KEY] || Object[KEY],\n\t      exp = {};\n\t  exp[KEY] = exec(fn);\n\t  $export($export.S + $export.F * fails(function () {\n\t    fn(1);\n\t  }), 'Object', exp);\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// add fake Function#toString\n\t// for correct work wrapped methods / constructors with methods like LoDash isNative\n\tvar global = __webpack_require__(6),\n\t    hide = __webpack_require__(18),\n\t    SRC = __webpack_require__(26)('src'),\n\t    TO_STRING = 'toString',\n\t    $toString = Function[TO_STRING],\n\t    TPL = ('' + $toString).split(TO_STRING);\n\t\n\t__webpack_require__(20).inspectSource = function (it) {\n\t  return $toString.call(it);\n\t};\n\t\n\t(module.exports = function (O, key, val, safe) {\n\t  if (typeof val == 'function') {\n\t    val.hasOwnProperty(SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n\t    val.hasOwnProperty('name') || hide(val, 'name', key);\n\t  }\n\t  if (O === global) {\n\t    O[key] = val;\n\t  } else {\n\t    if (!safe) delete O[key];\n\t    hide(O, key, val);\n\t  }\n\t})(Function.prototype, TO_STRING, function toString() {\n\t  return typeof this == 'function' && this[SRC] || $toString.call(this);\n\t});\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// to indexed object, toObject with fallback for non-array-like ES3 strings\n\tvar IObject = __webpack_require__(43),\n\t    defined = __webpack_require__(17);\n\tmodule.exports = function (it) {\n\t  return IObject(defined(it));\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\t/**\r\n\t * Created by Glenn on 2015-02-08.\r\n\t */\n\t\n\tvar arrowSvgMarkupTemplate = __webpack_require__(249);\n\tvar dotSvgMarkupTemplate = __webpack_require__(250);\n\tvar generatorSvgMarkupTemplate = __webpack_require__(251);\n\tvar pumpSvgMarkupTemplate = __webpack_require__(252);\n\t\n\t/* region private properties */\n\t\n\tvar iconsBaseDir = 'images/maps/icons/';\n\tvar iconsDirs = _.map(['directions', 'cluster', 'locations', 'geofences'], function (dirname) {\n\t  return '' + iconsBaseDir + dirname + '/';\n\t});\n\t\n\tvar _iconsDirs = _slicedToArray(iconsDirs, 4);\n\t\n\tvar directionIconsDir = _iconsDirs[0];\n\tvar clusterIconsDir = _iconsDirs[1];\n\tvar locationIconsDir = _iconsDirs[2];\n\tvar geofenceIconsDir = _iconsDirs[3];\n\t\n\t/*\r\n\t * Mapping of ROAM direction symbols.\r\n\t */\n\t\n\tvar directionSymbols = {\n\t  'ROAM - arrow-beige': 'arrow-beige',\n\t  'ROAM - arrow-black': 'arrow-black',\n\t  'ROAM - arrow-blue': 'arrow-blue',\n\t  'ROAM - arrow-brown': 'arrow-brown',\n\t  'ROAM - arrow-dark-blue': 'arrow-dark-blue',\n\t  'ROAM - arrow-dark-green': 'arrow-dark-green',\n\t  'ROAM - arrow-gray': 'arrow-gray',\n\t  'ROAM - arrow-green': 'arrow-green',\n\t  'ROAM - arrow-light-blue': 'arrow-light-blue',\n\t  'ROAM - arrow-light-green': 'arrow-light-green',\n\t  'ROAM - arrow-light-purple': 'arrow-light-purple',\n\t  'ROAM - arrow-magenta': 'arrow-magenta',\n\t  'ROAM - arrow-maroon': 'arrow-maroon',\n\t  'ROAM - arrow-orange': 'arrow-orange',\n\t  'ROAM - arrow-pink': 'arrow-pink',\n\t  'ROAM - arrow-purple': 'arrow-purple',\n\t  'ROAM - arrow-red': 'arrow-red',\n\t  'ROAM - arrow-silver': 'arrow-silver',\n\t  'ROAM - arrow-white': 'arrow-white',\n\t  'ROAM - arrow-yellow': 'arrow-yellow',\n\t  'ROAM - circle-blue': 'arrow-blue',\n\t  'ROAM - circle-green': 'arrow-green',\n\t  'ROAM - circle-orange': 'arrow-orange',\n\t  'ROAM - circle-red': 'arrow-red',\n\t  'ROAM - dot-blue': 'dot-blue',\n\t  'ROAM - dot-green': 'dot-green',\n\t  'ROAM - dot-orange': 'dot-orange',\n\t  'ROAM - dot-red': 'dot-red',\n\t  'ROAM - rect-arrow-blue': 'arrow-blue',\n\t  'ROAM - rect-arrow-green': 'arrow-green',\n\t  'ROAM - rect-blue-circle-green-arrow': 'arrow-blue',\n\t  'ROAM - rect-blue-circle-orange-arrow': 'arrow-orange',\n\t  'Generator - arrow-blue': 'generator-arrow-blue',\n\t  'Generator - arrow-green': 'generator-arrow-green',\n\t  'Generator - arrow-dark-blue': 'generator-arrow-dark-blue',\n\t  'Generator - arrow-maroon': 'generator-arrow-maroon',\n\t  'Pump - arrow-brown': 'pump-arrow-brown',\n\t  'Pump - arrow-light-blue': 'pump-arrow-light-blue',\n\t  'Pump - arrow-light-purple': 'pump-arrow-light-purple',\n\t  'Pump - arrow-magenta': 'pump-arrow-magenta',\n\t  'arrow-red': 'arrow-red'\n\t};\n\t\n\tvar directionColors = {\n\t  'ROAM - arrow-beige': ['#a49480', '#000000'],\n\t  'ROAM - arrow-black': ['#000000', '#ffffff'],\n\t  'ROAM - arrow-blue': ['#0000ff', '#ffffff'],\n\t  'ROAM - arrow-brown': ['#a52a2a', '#ffffff'],\n\t  'ROAM - arrow-dark-blue': ['#00008b', '#ffffff'],\n\t  'ROAM - arrow-dark-green': ['#006400', '#ffffff'],\n\t  'ROAM - arrow-gray': ['#808080', '#ffffff'],\n\t  'ROAM - arrow-green': ['#008000', '#ffffff'],\n\t  'ROAM - arrow-light-blue': ['#add8e6', '#000000'],\n\t  'ROAM - arrow-light-green': ['#90ee90', '#000000'],\n\t  'ROAM - arrow-light-purple': ['#d8bfd8', '#000000'],\n\t  'ROAM - arrow-magenta': ['#ff00ff', '#ffffff'],\n\t  'ROAM - arrow-maroon': ['#800000', '#ffffff'],\n\t  'ROAM - arrow-orange': ['#ffa500', '#ffffff'],\n\t  'ROAM - arrow-pink': ['#ffc0cb', '#000000'],\n\t  'ROAM - arrow-purple': ['#800080', '#ffffff'],\n\t  'ROAM - arrow-red': ['#ff0000', '#ffffff'],\n\t  'ROAM - arrow-silver': ['#c0c0c0', '#000000'],\n\t  'ROAM - arrow-white': ['#ffffff', '#000000'],\n\t  'ROAM - arrow-yellow': ['#ffff00', '#000000'],\n\t  'ROAM - circle-blue': ['#0000ff', '#ffffff'],\n\t  'ROAM - circle-green': ['#008000', '#ffffff'],\n\t  'ROAM - circle-orange': ['#ffa500', '#ffffff'],\n\t  'ROAM - circle-red': ['#ff0000', '#ffffff'],\n\t  'ROAM - dot-blue': ['#0000ff', '#ffffff'],\n\t  'ROAM - dot-green': ['#008000', '#ffffff'],\n\t  'ROAM - dot-orange': ['#ffa500', '#ffffff'],\n\t  'ROAM - dot-red': ['#ff0000', '#ffffff'],\n\t  'ROAM - rect-arrow-blue': ['#0000ff', '#ffffff'],\n\t  'ROAM - rect-arrow-green': ['#008000', '#ffffff'],\n\t  'ROAM - rect-blue-circle-green-arrow': ['#0000ff', '#ffffff'],\n\t  'ROAM - rect-blue-circle-orange-arrow': ['#ffa500', '#ffffff'],\n\t  'Generator - arrow-blue': ['#0000ff', '#ffffff'],\n\t  'Generator - arrow-green': ['#008000', '#ffffff'],\n\t  'Generator - arrow-dark-blue': ['#00008b', '#ffffff'],\n\t  'Generator - arrow-maroon': ['#800000', '#ffffff'],\n\t  'Pump - arrow-brown': ['#a52a2a', '#ffffff'],\n\t  'Pump - arrow-light-blue': ['#add8e6', '#000000'],\n\t  'Pump - arrow-light-purple': ['#d8bfd8', '#ffffff'],\n\t  'Pump - arrow-magenta': ['#ff00ff', '#ffffff'],\n\t  'arrow-red': ['#ff0000', '#ffffff']\n\t};\n\t\n\tvar shapeStyles = {\n\t  geofence: {\n\t    fillOpacity: 0.5,\n\t    strokeWeight: 2\n\t  },\n\t  geofenceExclusive: {\n\t    fillColor: '#ff0000',\n\t    strokeColor: '#dd2222'\n\t  },\n\t  geofenceInclusive: {\n\t    fillColor: '#00dd00',\n\t    strokeColor: '#22dd22'\n\t  },\n\t  geofenceWaypoint: {\n\t    fillColor: '#0000ff',\n\t    strokeColor: '#000000'\n\t  },\n\t  geofenceUnknown: {\n\t    fillColor: '#f9ef0c',\n\t    strokeColor: '#f9870c'\n\t  },\n\t  eventsConnector: {\n\t    strokeWeight: 4,\n\t    arrows: {\n\t      fillColor: '#ffffff',\n\t      fillOpacity: 0.75\n\t    }\n\t  },\n\t  animationPath: {\n\t    fillColor: '#ff0000',\n\t    strokeColor: '#0000ff',\n\t    strokeWeight: 3\n\t  },\n\t  editableObject: {\n\t    fillColor: '#dddddd',\n\t    fillOpacity: 0.4,\n\t    strokeColor: '#666666',\n\t    strokeWeight: 2\n\t  },\n\t  routeLine: {\n\t    strokeColor: '#0000dd',\n\t    strokeOpacity: 0.63,\n\t    strokeWeight: 5,\n\t    arrows: {\n\t      frequency: 4,\n\t      length: 1.6,\n\t      width: 1.0\n\t    }\n\t  }\n\t};\n\t\n\t/* endregion private properties */\n\t\n\t/**\r\n\t *\r\n\t * @singleton\r\n\t */\n\tvar styler = {\n\t\n\t  /**\r\n\t   *\r\n\t   * @param roamObject\r\n\t   * @param [asSvg]\r\n\t   * @returns {*}\r\n\t   */\n\t\n\t  getRoamIcon: function getRoamIcon(roamObject, asSvg) {\n\t    var type = roamObject.domainObjectType;\n\t    var iconAction = iconActions[type];\n\t\n\t    if (!_.isFunction(iconAction)) {\n\t      throw new Error('Invalid ROAM object type: ' + type + '.');\n\t    }\n\t\n\t    return iconAction(roamObject, asSvg);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {string}\r\n\t   */\n\t  getIconsBaseDir: function getIconsBaseDir() {\n\t    return iconsBaseDir;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param roamObject\r\n\t   * @param asSvg\r\n\t   * @returns {*}\r\n\t   */\n\t  getDirectionIcon: function getDirectionIcon(roamObject, asSvg) {\n\t    var mapCurrentSymbol = roamObject.mapCurrentSymbol;\n\t    var mapHistorySymbol = roamObject.mapHistorySymbol;\n\t    var isAlertEvent = roamObject.isAlertEvent;\n\t    var isLatestEvent = roamObject.isLatestEvent;\n\t    var highlighted = roamObject.highlighted;\n\t    var heading = roamObject.heading;\n\t\n\t    var symbolName = mapCurrentSymbol || mapHistorySymbol;\n\t\n\t    /*\r\n\t     * Force red arrows for alarmed position events.\r\n\t     */\n\t    if (isAlertEvent) {\n\t      symbolName = 'ROAM - arrow-red';\n\t    }\n\t\n\t    /*\r\n\t     * Force blue arrow for latest position event.\r\n\t     */\n\t    if (isLatestEvent) {\n\t      symbolName = 'ROAM - arrow-blue';\n\t    }\n\t\n\t    /*\r\n\t     * Force orange arrow for highlighted (selected) position event.\r\n\t     */\n\t    if (highlighted) {\n\t      symbolName = 'ROAM - arrow-orange';\n\t    }\n\t\n\t    var rotation = heading;\n\t\n\t    /*\r\n\t     * Do rotation adjustment only when in bitmap icon.\r\n\t     */\n\t    if (!asSvg) {\n\t\n\t      if (rotation >= 360) {\n\t        rotation = rotation % 360;\n\t      }\n\t\n\t      /*\r\n\t       * Only allow for 15 degrees intervals rotation.\r\n\t       */\n\t      rotation = Math.round(rotation / 15) * 15;\n\t    }\n\t\n\t    return asSvg ? styler.getDirectionSvgIcon(symbolName, rotation) : styler.getDirectionBitmapIcon(symbolName, rotation);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param symbolName\r\n\t   * @param rotation\r\n\t   * @returns {*}\r\n\t   */\n\t  getDirectionSvgIcon: function getDirectionSvgIcon(symbolName, rotation) {\n\t    var symbolColor = directionColors[symbolName];\n\t    var symbolSvgMarkupTemplate = arrowSvgMarkupTemplate;\n\t\n\t    if (symbolName.match(/dot/i)) {\n\t      symbolSvgMarkupTemplate = dotSvgMarkupTemplate;\n\t    } else if (symbolName.match(/generator/i)) {\n\t      symbolSvgMarkupTemplate = generatorSvgMarkupTemplate;\n\t    } else if (symbolName.match(/pump/i)) {\n\t      symbolSvgMarkupTemplate = pumpSvgMarkupTemplate;\n\t    }\n\t\n\t    return symbolSvgMarkupTemplate.replace('${backgroundColor}', symbolColor[0]).replace('${color}', symbolColor[1]).replace('${rotation}', rotation);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param symbolName\r\n\t   * @param rotation\r\n\t   * @returns {string}\r\n\t   */\n\t  getDirectionBitmapIcon: function getDirectionBitmapIcon(symbolName, rotation) {\n\t    var symbolDir = directionSymbols[symbolName] + '/';\n\t    var iconName = rotation;\n\t\n\t    return '' + directionIconsDir + symbolDir + iconName + '.png';\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param roamObject\r\n\t   * @returns {string}\r\n\t   */\n\t  getObjectCategoryIcon: function getObjectCategoryIcon(roamObject) {\n\t    var locationType = roamObject.locationType;\n\t    var fenceType = roamObject.fenceType;\n\t\n\t    var iconPath = '';\n\t\n\t    if (locationType) {\n\t      iconPath = styler.getLocationIcon(roamObject);\n\t    } else if (fenceType) {\n\t      iconPath = styler.getGeofenceIcon(roamObject);\n\t    }\n\t\n\t    return iconPath;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {string}\r\n\t   */\n\t  getClusterIconsDir: function getClusterIconsDir() {\n\t    return clusterIconsDir;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param roamObject\r\n\t   * @returns {string}\r\n\t   */\n\t  getLocationIcon: function getLocationIcon(roamObject) {\n\t    var locationType = roamObject.locationType;\n\t\n\t    var iconName = locationType.replace(/ /g, '').toLowerCase();\n\t\n\t    return '' + locationIconsDir + iconName + '.png';\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param roamObject\r\n\t   * @returns {string}\r\n\t   */\n\t  getGeofenceIcon: function getGeofenceIcon(roamObject) {\n\t    var fenceType = roamObject.fenceType;\n\t\n\t    var iconName = fenceType.replace(/ /g, '').toLowerCase();\n\t\n\t    return '' + geofenceIconsDir + iconName + '.png';\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  getShapeStyles: function getShapeStyles() {\n\t    return shapeStyles;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param color\r\n\t   * @param opacity\r\n\t   * @returns {string}\r\n\t   */\n\t  hexToRgba: function hexToRgba(color, opacity) {\n\t\n\t    /**\r\n\t     *\r\n\t     * @see http://docs.telerik.com/kendo-ui/api/javascript/kendo#methods-parseColor\r\n\t     * @see http://docs.telerik.com/kendo-ui/api/javascript/color\r\n\t     */\n\t\n\t    var _kendo$parseColor$toR = kendo.parseColor(color).toRGB();\n\t\n\t    var r = _kendo$parseColor$toR.r;\n\t    var g = _kendo$parseColor$toR.g;\n\t    var b = _kendo$parseColor$toR.b;\n\t\n\t\n\t    return kendo.Color.fromRGB(r, g, b, opacity).toCssRgba();\n\t  }\n\t};\n\t\n\tvar getDirectionIcon = styler.getDirectionIcon;\n\tvar getLocationIcon = styler.getLocationIcon;\n\tvar getGeofenceIcon = styler.getGeofenceIcon;\n\t\n\tvar iconActions = {\n\t  assetmessageevent: getDirectionIcon,\n\t  location: getLocationIcon,\n\t  geofence: getGeofenceIcon\n\t};\n\t\n\tvar Styler = {\n\t  getInstance: function getInstance() {\n\t    return styler;\n\t  }\n\t};\n\t\n\texports.default = Styler;\n\texports.Styler = Styler;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// optional / simple context binding\n\tvar aFunction = __webpack_require__(24);\n\tmodule.exports = function (fn, that, length) {\n\t  aFunction(fn);\n\t  if (that === undefined) return fn;\n\t  switch (length) {\n\t    case 1:\n\t      return function (a) {\n\t        return fn.call(that, a);\n\t      };\n\t    case 2:\n\t      return function (a, b) {\n\t        return fn.call(that, a, b);\n\t      };\n\t    case 3:\n\t      return function (a, b, c) {\n\t        return fn.call(that, a, b, c);\n\t      };\n\t  }\n\t  return function () /* ...args */{\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tmodule.exports = function (it) {\n\t  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n\t  return it;\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    createDesc = __webpack_require__(22);\n\tmodule.exports = __webpack_require__(11) ? function (object, key, value) {\n\t  return $.setDesc(object, key, createDesc(1, value));\n\t} : function (object, key, value) {\n\t  object[key] = value;\n\t  return object;\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = function (it) {\n\t  return toString.call(it).slice(8, -1);\n\t};\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar core = module.exports = { version: '1.2.6' };\n\tif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 7.1.13 ToObject(argument)\n\tvar defined = __webpack_require__(17);\n\tmodule.exports = function (it) {\n\t  return Object(defined(it));\n\t};\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (bitmap, value) {\n\t  return {\n\t    enumerable: !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable: !(bitmap & 4),\n\t    value: value\n\t  };\n\t};\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tmodule.exports = function(src) {\r\n\t\tif (typeof execScript !== \"undefined\")\r\n\t\t\texecScript(src);\r\n\t\telse\r\n\t\t\teval.call(null, src);\r\n\t}\r\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function (it) {\n\t  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n\t  return it;\n\t};\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 22.1.3.31 Array.prototype[@@unscopables]\n\tvar UNSCOPABLES = __webpack_require__(5)('unscopables'),\n\t    ArrayProto = Array.prototype;\n\tif (ArrayProto[UNSCOPABLES] == undefined) __webpack_require__(18)(ArrayProto, UNSCOPABLES, {});\n\tmodule.exports = function (key) {\n\t  ArrayProto[UNSCOPABLES][key] = true;\n\t};\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar id = 0,\n\t    px = Math.random();\n\tmodule.exports = function (key) {\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Created by Glenn on 2014-11-10.\r\n\t */\n\t\n\tvar project = {\n\t\n\t  /**\r\n\t   * WGS 84 bounds literal.\r\n\t   * @see http://spatialreference.org/ref/epsg/wgs-84/\r\n\t   */\n\t  bbox: {\n\t\n\t    /*\r\n\t     * Defaulted to Dubai. ;)\r\n\t     */\n\t    left: 55,\n\t    bottom: 25,\n\t    right: 56,\n\t    top: 25.5\n\t\n\t  },\n\t  //left  : -24.6000,\n\t  //bottom: 63.2500,\n\t  //right : -13.4000,\n\t  //top   : 66.6000,\n\t  roamLayers: {\n\t    ROAM_ASSETS: {\n\t      name: 'ROAM_ASSETS',\n\t      type: 'ROAM_LAYER',\n\t      visible: true,\n\t      clusteringSupported: true,\n\t      serviceUrls: {\n\t        create: '',\n\t        read: 'geoposition/current',\n\t        update: '',\n\t        delete: ''\n\t      }\n\t    },\n\t    ROAM_ASSETS_HISTORY: {\n\t      name: 'ROAM_ASSETS_HISTORY',\n\t      type: 'ROAM_LAYER',\n\t      visible: true,\n\t      clusteringSupported: true,\n\t      serviceUrls: {\n\t        create: '',\n\t        read: 'geoposition/assetHistory',\n\t        update: '',\n\t        delete: ''\n\t      }\n\t    },\n\t    ROAM_LOCATIONS: {\n\t      name: 'ROAM_LOCATIONS',\n\t      type: 'ROAM_LAYER',\n\t      visible: false,\n\t      serviceUrls: {\n\t        create: 'caesarLocation/post',\n\t        read: 'caesarLocation/locations',\n\t        update: '',\n\t        delete: ''\n\t      }\n\t    },\n\t    ROAM_GEOFENCES: {\n\t      name: 'ROAM_GEOFENCES',\n\t      type: 'ROAM_LAYER',\n\t      visible: false,\n\t      serviceUrls: {\n\t        create: 'caesarGeofence/post',\n\t        read: 'caesarGeofence/geofences',\n\t        update: '',\n\t        delete: ''\n\t      }\n\t    },\n\t    ROAM_ASSETS_ANIMATION: {\n\t      name: 'ROAM_ASSETS_ANIMATION',\n\t      type: 'ROAM_LAYER',\n\t      visible: false,\n\t      serviceUrls: {\n\t        create: '',\n\t        read: '',\n\t        update: '',\n\t        delete: ''\n\t      }\n\t    }\n\t  },\n\t  serviceUrls: {\n\t    locationConfig: {\n\t      read: 'caesarLocation/config'\n\t    },\n\t    geoPositionObjects: {\n\t      read: 'geoPositionObjects/resources'\n\t    },\n\t    routing: {\n\t      create: 'routing/create'\n\t    },\n\t    legend: {\n\t      read: 'geoposition/legend'\n\t    }\n\t  }\n\t};\n\t\n\texports.default = project;\n\texports.project = project;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t/**\r\n\t * Created by Glenn on 2015-06-28.\r\n\t */\n\t\n\tvar LayerManager = stampit().init(function (_ref) {\n\t  var _objectTypes;\n\t\n\t  var instance = _ref.instance;\n\t  var stamp = _ref.stamp;\n\t  var _stamp$ROAM_LAYERS = stamp.ROAM_LAYERS;\n\t  var ROAM_LOCATIONS = _stamp$ROAM_LAYERS.ROAM_LOCATIONS;\n\t  var ROAM_GEOFENCES = _stamp$ROAM_LAYERS.ROAM_GEOFENCES;\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t\n\t  var viewer = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var layerList = {};\n\t  var mapObjectList = {};\n\t  var roamObjectCache = {};\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var positionLayerName = '';\n\t  var lastSelectedPositionObject = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var domainObjectTypeActions = {\n\t    assetmessageevent: function assetmessageevent() {\n\t      return positionLayerName;\n\t    },\n\t    location: function location() {\n\t      return ROAM_LOCATIONS;\n\t    },\n\t    geofence: function geofence() {\n\t      return ROAM_GEOFENCES;\n\t    }\n\t  };\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var objectTypes = (_objectTypes = {}, _defineProperty(_objectTypes, ROAM_LOCATIONS, 'location'), _defineProperty(_objectTypes, ROAM_GEOFENCES, 'geofence'), _objectTypes);\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var eventsConnector = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region private methods */\n\t\n\t  /**\r\n\t   *\r\n\t   * @param layerName\r\n\t   * @param roamObject\r\n\t   * @returns {*}\r\n\t   */\n\t  function createMapObject(layerName, roamObject) {\n\t\n\t    /*\r\n\t     * Combine `layerName` and `domainObjectTypeId` to form\r\n\t     * `mapObjectId`, because DOTI itself is not unique\r\n\t     * enough when the same ROAM objects used in multiple\r\n\t     * layer (overlay).\r\n\t     * e.g.\r\n\t     * ROAM_ASSETS/ROAM_ASSETS_HISTORY vs.\r\n\t     * ROAM_ASSETS_ANIMATION.\r\n\t     */\n\t    var mapObjectId = layerName + '-' + roamObject.domainObjectTypeId;\n\t\n\t    return viewer.getMapObjectFactory().create({\n\t      layerName: layerName,\n\t      roamObject: roamObject,\n\t      viewer: viewer,\n\t      id: mapObjectId\n\t    });\n\t  }\n\t\n\t  /* endregion private methods */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapViewer\r\n\t     */\n\t    setViewer: _.once(function (mapViewer) {\n\t      return viewer = mapViewer;\n\t    }),\n\t\n\t    /* region Layer operations */\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getLayers: function getLayers() {\n\t      return _.map(layerList);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @returns {*}\r\n\t     */\n\t    getLayer: function getLayer(layerName) {\n\t      return layerList[layerName];\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerProperties\r\n\t     */\n\t    addLayer: function addLayer(layerProperties) {\n\t      var layerId = layerProperties.name;\n\t      var layer = instance.getLayer(layerId);\n\t\n\t      if (!layer) {\n\t        var layerFactory = viewer.getLayerFactory();\n\t\n\t        /*\r\n\t         * Clustering layer is treated a bit differently,\r\n\t         * and thus, has its own factory.\r\n\t         */\n\t        if (layerProperties.clusteringSupported) {\n\t          layerFactory = viewer.getClusteringLayerFactory();\n\t        }\n\t\n\t        layer = layerFactory.create({\n\t          layerProperties: layerProperties,\n\t          viewer: viewer,\n\t          name: layerId\n\t        });\n\t\n\t        layerList[layerId] = layer;\n\t\n\t        viewer.addOverlay(layer);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    getLayerVisibility: function getLayerVisibility(layerName) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      return Boolean(layer && layer.isVisible());\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param visibility\r\n\t     */\n\t    setLayerVisibility: function setLayerVisibility(layerName, visibility) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer) {\n\t        layer.setVisible(visibility);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {string}\r\n\t     */\n\t    getPositionLayerName: function getPositionLayerName() {\n\t      return positionLayerName;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     */\n\t    setPositionLayerName: function setPositionLayerName(layerName) {\n\t      positionLayerName = layerName;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @returns {boolean}\r\n\t     */\n\t    testIsPositionLayerName: function testIsPositionLayerName(layerName) {\n\t      return viewer.getLayerDataFetcher().testIsPositionLayerName(layerName);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param type\r\n\t     * @returns {*}\r\n\t     */\n\t    getLayerName: function getLayerName(type) {\n\t      var domainObjectTypeAction = domainObjectTypeActions[type];\n\t\n\t      if (!_.isFunction(domainObjectTypeAction)) {\n\t        throw new Error('Invalid ROAM object type: ' + type + '.');\n\t      }\n\t\n\t      return domainObjectTypeAction();\n\t    },\n\t\n\t\n\t    /* endregion Layer operations */\n\t\n\t    /* region Map object operations */\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectId\r\n\t     * @returns {*}\r\n\t     */\n\t    getObject: function getObject(layerName, objectId) {\n\t      return mapObjectList[layerName + '-' + objectId];\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectIds\r\n\t     * @returns {*}\r\n\t     */\n\t    getObjects: function getObjects(layerName, objectIds) {\n\t\n\t      return _(objectIds).map(function (objectId) {\n\t        return instance.getObject(layerName, objectId);\n\t      }).compact().value();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @returns {*}\r\n\t     */\n\t    getObjectsByLayer: function getObjectsByLayer(layerName) {\n\t      return layerList[layerName].getObjects();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectId\r\n\t     * @returns {*}\r\n\t     */\n\t    getCachedRoamObject: function getCachedRoamObject(objectId) {\n\t      return roamObjectCache[objectId];\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectIds\r\n\t     * @returns {*}\r\n\t     */\n\t    getCachedRoamObjects: function getCachedRoamObjects(objectIds) {\n\t      return _.map(objectIds, function (objectId) {\n\t        return roamObjectCache[objectId];\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @returns {*}\r\n\t     */\n\t    getCachedRoamObjectsByLayer: function getCachedRoamObjectsByLayer(layerName) {\n\t      var objectType = objectTypes[layerName] || 'assetmessageevent';\n\t\n\t      return _(roamObjectCache).filter(['domainObjectType', objectType]).compact().value();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param roamObject\r\n\t     */\n\t    addCachedRoamObject: function addCachedRoamObject(roamObject) {\n\t      roamObjectCache[roamObject.domainObjectTypeId] = roamObject;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param roamObjects\r\n\t     * @param latestPositionId\r\n\t     */\n\t    markLatestPositionRoamObject: function markLatestPositionRoamObject(roamObjects, latestPositionId) {\n\t\n\t      _.forEach(roamObjects, function (roamObject) {\n\t\n\t        if (roamObject.id.toString() === latestPositionId.toString()) {\n\t\n\t          roamObject.isLatestEvent = true;\n\t          return false;\n\t        }\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param type\r\n\t     * @param roamObjects\r\n\t     */\n\t    loadObjects: function loadObjects(type, roamObjects) {\n\t      var layerName = instance.getLayerName(type);\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer) {\n\t\n\t        /*\r\n\t         * Handle loaded objects and\r\n\t         * lazy loading mechanics.\r\n\t         */\n\t        var shouldCacheUsed = viewer.lazyLoadingEnabled && !instance.testIsPositionLayerName(layerName);\n\t\n\t        instance.clearObjects(layerName);\n\t\n\t        if (shouldCacheUsed) {\n\t          console.info('Lazy loading for ' + layerName + ' activated.');\n\t\n\t          /*\r\n\t           * Do not add objects at load time in lazy\r\n\t           * loading mode; instead, store them in the\r\n\t           * cache for later addition.\r\n\t           */\n\t          _.forEach(roamObjects, function (roamObject) {\n\t            return instance.addCachedRoamObject(roamObject);\n\t          });\n\t        } else {\n\t          var mapObjects = _(roamObjects).map(function (roamObject) {\n\t            return createMapObject(layerName, roamObject);\n\t          }).compact().forEach(function (mapObject) {\n\t            return mapObjectList[mapObject.id] = mapObject;\n\t          });\n\t\n\t          layer.add(mapObjects);\n\t        }\n\t\n\t        viewer.getControls().onObjectsLoaded(layerName, roamObjects);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param roamObject\r\n\t     */\n\t    addObject: function addObject(layerName, roamObject) {\n\t      instance.addObjects(layerName, [roamObject]);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param roamObjects\r\n\t     */\n\t    addObjects: function addObjects(layerName, roamObjects) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer) {\n\t        var mapObjects = _(roamObjects).map(function (roamObject) {\n\t          var mapObject = undefined;\n\t\n\t          /*\r\n\t           * Consider only object that hasn't been\r\n\t           * added yet (make sure no duplicate).\r\n\t           */\n\t          if (!instance.getObject(layerName, roamObject.domainObjectTypeId)) {\n\t\n\t            mapObject = createMapObject(layerName, roamObject);\n\t          }\n\t\n\t          return mapObject;\n\t        }).compact().forEach(function (mapObject) {\n\t          return mapObjectList[mapObject.id] = mapObject;\n\t        });\n\t\n\t        layer.add(mapObjects);\n\t\n\t        /*\r\n\t         * Currently map controls only supports for\r\n\t         * efficiently adding one (user-created) map object\r\n\t         * at a time.\r\n\t         */\n\t        if (mapObjects.length === 1) {\n\t          viewer.getControls().onObjectAdded(layerName, mapObjects[0].roamObject);\n\t        }\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param roamObject\r\n\t     */\n\t    removeObject: function removeObject(layerName, roamObject) {\n\t      instance.removeObject(layerName, [roamObject]);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param roamObjects\r\n\t     */\n\t    removeObjects: function removeObjects(layerName, roamObjects) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer) {\n\t        var mapObjects = _(roamObjects).map(function (roamObject) {\n\t          return instance.getObject(layerName, roamObject.domainObjectTypeId);\n\t        }).compact().forEach(function (mapObject) {\n\t          delete mapObjectList[mapObject.id];\n\t\n\t          mapObject.destroyLabel();\n\t        });\n\t\n\t        layer.remove(mapObjects);\n\t\n\t        /*\r\n\t         * Same as `.addObjects()` method above;\r\n\t         * `.onObjectRemoved()` method in `controls.js` even\r\n\t         * hasn't been implemented yet. Being mentioned here\r\n\t         * just for the sake of maintaining consistency.\r\n\t         */\n\t        if (mapObjects.length === 1) {\n\t          viewer.getControls().onObjectRemoved(layerName, mapObjects[0].roamObject);\n\t        }\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     */\n\t    clearObjects: function clearObjects(layerName) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer) {\n\t        _(instance.getObjectsByLayer(layerName)).compact().forEach(function (mapObject) {\n\t          delete mapObjectList[mapObject.id];\n\t\n\t          mapObject.destroyLabel();\n\t        });\n\t\n\t        layer.clear();\n\t\n\t        viewer.getControls().onObjectsLoaded(layerName, []);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param destLayerName\r\n\t     * @param srcLayerName\r\n\t     */\n\t    copyObjects: function copyObjects(destLayerName, srcLayerName) {\n\t      var roamObjects = _.map(instance.getObjectsByLayer(srcLayerName), 'roamObject');\n\t\n\t      instance.clearObjects(destLayerName);\n\t      instance.addObjects(destLayerName, roamObjects);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectId\r\n\t     * @param effective\r\n\t     * @returns {boolean}\r\n\t     */\n\t    getObjectVisibility: function getObjectVisibility(layerName, objectId, effective) {\n\t      var mapObject = instance.getObject(layerName, objectId);\n\t\n\t      return Boolean(mapObject && mapObject.isVisible(effective));\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectId\r\n\t     * @param visibility\r\n\t     */\n\t    setObjectVisibility: function setObjectVisibility(layerName, objectId, visibility) {\n\t      instance.setObjectsVisibility(layerName, [objectId], visibility);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectIds\r\n\t     * @param visibility\r\n\t     */\n\t    setObjectsVisibility: function setObjectsVisibility(layerName, objectIds, visibility) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer) {\n\t        var mapObjects = _(objectIds).map(function (objectId) {\n\t          return instance.getObject(layerName, objectId);\n\t        }).compact().value();\n\t\n\t        _.forEach(mapObjects, function (mapObject) {\n\t          return mapObject.setVisible(visibility);\n\t        });\n\t\n\t        if (layer.isClusteringSupported()) {\n\t\n\t          /*\r\n\t           * HACK: Have to do this in order to prevent\r\n\t           * `.performClustering()` being called twice\r\n\t           * during initialization time.\r\n\t           */\n\t          if (!layer.initTimeGuard) {\n\t            layer.initTimeGuard = true;\n\t          } else {\n\t            layer.performClustering();\n\t          }\n\t        }\n\t\n\t        instance.setObjectLabelsVisibility(layerName, instance.getObjectLabelsVisibility(layerName));\n\t\n\t        viewer.getControls().onObjectsVisibilityChanged(layerName, objectIds, visibility);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param visibility\r\n\t     */\n\t    setAllObjectsVisibility: function setAllObjectsVisibility(layerName, visibility) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer) {\n\t        var objectIds = _.map(instance.getObjectsByLayer(layerName), 'roamObject.domainObjectTypeId');\n\t\n\t        instance.setObjectsVisibility(layerName, objectIds, visibility);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectId\r\n\t     * @param highlighted\r\n\t     */\n\t    setObjectHighlighted: function setObjectHighlighted(layerName, objectId, highlighted) {\n\t\n\t      /*\r\n\t       * Currently support for highlighting asset position\r\n\t       * object only.\r\n\t       */\n\t      if (instance.testIsPositionLayerName(layerName)) {\n\t        var mapObject = instance.getObject(layerName, objectId);\n\t\n\t        if (mapObject) {\n\t          var roamObject = mapObject.roamObject;\n\t\n\t\n\t          if (highlighted) {\n\t\n\t            if (!roamObject.highlighted) {\n\t              roamObject.highlighted = true;\n\t\n\t              mapObject.updateIcon();\n\t            }\n\t          } else {\n\t            delete roamObject.highlighted;\n\t\n\t            mapObject.revertIcon();\n\t          }\n\t        }\n\t\n\t        if (lastSelectedPositionObject && lastSelectedPositionObject !== mapObject) {\n\t\n\t          delete lastSelectedPositionObject.roamObject.highlighted;\n\t\n\t          lastSelectedPositionObject.revertIcon();\n\t        }\n\t\n\t        lastSelectedPositionObject = mapObject;\n\t\n\t        viewer.getControls().onPositionHighlightChanged(objectId, highlighted);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectId\r\n\t     * @param highlighted\r\n\t     */\n\t    setPositionHighlighted: function setPositionHighlighted(objectId, highlighted) {\n\t      instance.setObjectHighlighted(instance.getPositionLayerName(), objectId, highlighted);\n\t    },\n\t\n\t\n\t    /* endregion Map object operations */\n\t\n\t    /* region Label operations */\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @returns {boolean}\r\n\t     */\n\t    getObjectLabelsVisibility: function getObjectLabelsVisibility(layerName) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      return Boolean(layer && layer.isLabelsVisible());\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param visibility\r\n\t     */\n\t    setObjectLabelsVisibility: function setObjectLabelsVisibility(layerName, visibility) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer) {\n\t        (function () {\n\t          var labelsVisibilityListenerAdded = layer.getData('labelsVisibilityListenerAdded');\n\t\n\t          var enhanceLabelsPlacement = function enhanceLabelsPlacement() {\n\t\n\t            if (viewer.isAutoLabelingActivated() && layer.isLabelsVisible()) {\n\t\n\t              /*\r\n\t               * Make sure the clustering process is\r\n\t               * done first before running the\r\n\t               * automatic labels placement algorithm.\r\n\t               * For non-clustering layer, the defer\r\n\t               * object is always resolved.\r\n\t               */\n\t              layer.resolveClustering().done(function () {\n\t                return viewer.getMapObjectLabelFactory().runAutomaticLabelPlacement(layer.getLabels());\n\t              });\n\t            }\n\t          };\n\t\n\t          if (!labelsVisibilityListenerAdded) {\n\t\n\t            /**\r\n\t             * REVIEW: Should watch out for this. Practically\r\n\t             * prefer `mapviewchangeend` event to `mapviewchange`.\r\n\t             * @see https://developer.here.com/javascript-apis/documentation/v3/maps/topics/best-practices.html\r\n\t             */\n\t            viewer.addEventListener('mapviewchange',\n\t\n\t            /**\r\n\t             * Mitigate excessively updating the\r\n\t             * position while panning.\r\n\t             * @see https://lodash.com/docs#throttle\r\n\t             */\n\t            _.throttle(function () {\n\t              return layer.updateLabelsPosition();\n\t            }, 20));\n\t\n\t            viewer.addEventListener('mapviewchangeend', function () {\n\t              return _.defer(function () {\n\t                layer.setLabelsVisible(layer.isLabelsVisible());\n\t                enhanceLabelsPlacement();\n\t              });\n\t            });\n\t\n\t            layer.setData('labelsVisibilityListenerAdded', true);\n\t          }\n\t\n\t          layer.setLabelsVisible(visibility);\n\t          enhanceLabelsPlacement();\n\t\n\t          viewer.getControls().onObjectLabelsVisibilityChanged(layerName, visibility);\n\t        })();\n\t      }\n\t    },\n\t\n\t\n\t    /* endregion Label operations */\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param enabled\r\n\t     */\n\t    setClusteringEnabled: function setClusteringEnabled(layerName, enabled) {\n\t      var layer = instance.getLayer(layerName);\n\t\n\t      if (layer && layer.isClusteringSupported()) {\n\t        layer.setClusteringEnabled(enabled);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visibility\r\n\t     */\n\t    setEventsConnectorVisibility: function setEventsConnectorVisibility(visibility) {\n\t      var drawingSucceeded = true;\n\t\n\t      if (!eventsConnector) {\n\t        var positions = _.map(instance.getObjectsByLayer(instance.getPositionLayerName()), 'roamObject');\n\t\n\t        drawingSucceeded = instance.drawEventsConnector(positions);\n\t      }\n\t\n\t      if (drawingSucceeded) {\n\t        eventsConnector.setVisible(visibility);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param positions\r\n\t     */\n\t    drawEventsConnector: function drawEventsConnector(positions) {\n\t      var drawable = positions.length >= 2;\n\t\n\t      if (drawable) {\n\t        var mapObjectFactory = viewer.getMapObjectFactory();\n\t        var coordinates = mapObjectFactory.toCoordinates(_.map(positions, function (_ref2) {\n\t          var latitude = _ref2.latitude;\n\t          var longitude = _ref2.longitude;\n\t          return {\n\t            lat: latitude,\n\t            lng: longitude\n\t          };\n\t        }));\n\t\n\t        if (!eventsConnector) {\n\t          eventsConnector = mapObjectFactory.create({\n\t            viewer: viewer,\n\t            objectModel: {\n\t              coordinates: coordinates,\n\t              shapeType: 'line',\n\t              options: {\n\t                styleName: 'eventsConnector'\n\t              }\n\t            }\n\t          });\n\t        } else {\n\t          eventsConnector.setCoordinates(coordinates);\n\t        }\n\t\n\t        viewer.addObject(eventsConnector);\n\t      } else {\n\t\n\t        if (eventsConnector) {\n\t          viewer.removeObject(eventsConnector);\n\t          eventsConnector = undefined;\n\t        }\n\t      }\n\t\n\t      return drawable;\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t}).static({\n\t\n\t  /**\r\n\t   *\r\n\t   * @constant\r\n\t   */\n\t  ROAM_LAYERS: {\n\t    ROAM_ASSETS: 'ROAM_ASSETS',\n\t    ROAM_ASSETS_HISTORY: 'ROAM_ASSETS_HISTORY',\n\t    ROAM_ASSETS_ANIMATION: 'ROAM_ASSETS_ANIMATION',\n\t    ROAM_LOCATIONS: 'ROAM_LOCATIONS',\n\t    ROAM_GEOFENCES: 'ROAM_GEOFENCES',\n\t    ROAM_GEOREFERENCES: 'ROAM_GEOREFERENCES'\n\t  }\n\t});\n\t\n\texports.default = LayerManager;\n\texports.LayerManager = LayerManager;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ctx = __webpack_require__(16),\n\t    call = __webpack_require__(74),\n\t    isArrayIter = __webpack_require__(71),\n\t    anObject = __webpack_require__(4),\n\t    toLength = __webpack_require__(10),\n\t    getIterFn = __webpack_require__(85);\n\tmodule.exports = function (iterable, entries, fn, that) {\n\t  var iterFn = getIterFn(iterable),\n\t      f = ctx(fn, that, entries ? 2 : 1),\n\t      index = 0,\n\t      length,\n\t      step,\n\t      iterator;\n\t  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n\t  // fast case for arrays with default iterator\n\t  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n\t    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n\t  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n\t    call(iterator, f, step.value, entries);\n\t  }\n\t};\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {};\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar def = __webpack_require__(2).setDesc,\n\t    has = __webpack_require__(9),\n\t    TAG = __webpack_require__(5)('toStringTag');\n\t\n\tmodule.exports = function (it, tag, stat) {\n\t  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n\t};\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar toInteger = __webpack_require__(33),\n\t    max = Math.max,\n\t    min = Math.min;\n\tmodule.exports = function (index, length) {\n\t  index = toInteger(index);\n\t  return index < 0 ? max(index + length, 0) : min(index, length);\n\t};\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// 7.1.4 ToInteger\n\tvar ceil = Math.ceil,\n\t    floor = Math.floor;\n\tmodule.exports = function (it) {\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n/***/ },\n/* 34 */,\n/* 35 */,\n/* 36 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Created by glenn on 18/11/15.\r\n\t */\n\t\n\twindow.MAPS_DEBUG_ENABLED = false;\n\t\n\tvar mapsDebugger = {\n\t  time: function time(label) {\n\t\n\t    if (window.MAPS_DEBUG_ENABLED) {\n\t      console.time(label);\n\t    }\n\t  },\n\t  timeEnd: function timeEnd(label) {\n\t\n\t    if (window.MAPS_DEBUG_ENABLED) {\n\t      console.timeEnd(label);\n\t    }\n\t  }\n\t};\n\t\n\twindow.easterEgg = function easterEgg() {\n\t  console.log('٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶');\n\t};\n\t\n\texports.default = mapsDebugger;\n\texports.mapsDebugger = mapsDebugger;\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Created by Glenn on 2015-06-28.\r\n\t */\n\t\n\t/**\r\n\t *\r\n\t * @abstract\r\n\t */\n\tvar Layer = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  viewer: undefined,\n\t  /**\r\n\t   *\r\n\t   */\n\t  name: '', // -> layerName\n\t  layerProperties: undefined\n\t}).methods({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t\n\t  getNativeObject: function getNativeObject() {\n\t    throw new Error('.getNativeObject() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param key\r\n\t   */\n\t  getData: function getData(key) {\n\t    throw new Error('.getData() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param key\r\n\t   * @param value\r\n\t   */\n\t  setData: function setData(key, value) {\n\t    throw new Error('.setData() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  isVisible: function isVisible() {\n\t    throw new Error('.isVisible() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param visible\r\n\t   */\n\t  setVisible: function setVisible(visible) {\n\t    throw new Error('.setVisible() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  getObjects: function getObjects() {\n\t    throw new Error('.getObjects() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param mapObjects\r\n\t   */\n\t  add: function add(mapObjects) {\n\t    throw new Error('.add() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param mapObjects\r\n\t   */\n\t  remove: function remove(mapObjects) {\n\t    throw new Error('.remove() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  clear: function clear() {\n\t    throw new Error('.clear() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getBounds: function getBounds() {\n\t    throw new Error('.getBounds() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  getLabels: function getLabels() {\n\t    return _(this.getObjects()).map(function (mapObject) {\n\t      var label = void 0;\n\t\n\t      if (mapObject.isVisible(true)) {\n\t        label = mapObject.getLabel();\n\t      }\n\t\n\t      return label;\n\t    }).compact().value();\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  isLabelsVisible: function isLabelsVisible() {\n\t    return this.getData('labelsVisible');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param visible\r\n\t   */\n\t  setLabelsVisible: function setLabelsVisible(visible) {\n\t    this.setData('labelsVisible', visible);\n\t\n\t    _.forEach(this.getLabels(), function (label) {\n\t      return label.setVisible(visible);\n\t    });\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  updateLabelsPosition: function updateLabelsPosition() {\n\t\n\t    _.forEach(this.getLabels(), function (label) {\n\t      return label.updatePosition();\n\t    });\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {boolean}\r\n\t   */\n\t  isClusteringSupported: function isClusteringSupported() {\n\t    return false;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {boolean}\r\n\t   */\n\t  isClusteringEnabled: function isClusteringEnabled() {\n\t    return Boolean(this.getData('clusteringEnabled'));\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param enabled\r\n\t   */\n\t  setClusteringEnabled: function setClusteringEnabled(enabled) {\n\t\n\t    if (this.isClusteringSupported()) {\n\t      var clusteringStatusChanged = this.isClusteringEnabled() !== enabled;\n\t\n\t      /*\r\n\t       * Since .modifyClusterCalculations() usually is an\r\n\t       * expensive call (it needs to set up the clustering\r\n\t       * engine again from the scratch), do this call only if\r\n\t       * the clustering status is *really* changed\r\n\t       * (enabled -> disabled / disabled -> enabled).\r\n\t       */\n\t\n\t      if (clusteringStatusChanged) {\n\t        this.setData('clusteringEnabled', enabled);\n\t        this.performClustering();\n\t\n\t        /*\r\n\t         * Force running automatic labels placement\r\n\t         * algorithm by triggering `mapviewchangeend` event.\r\n\t         */\n\t        this.viewer.refresh();\n\t      }\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  resolveClustering: function resolveClustering() {\n\t    return $.Deferred().resolve().promise();\n\t  }\n\t});\n\t\n\texports.default = Layer;\n\texports.Layer = Layer;\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 0 -> Array#forEach\n\t// 1 -> Array#map\n\t// 2 -> Array#filter\n\t// 3 -> Array#some\n\t// 4 -> Array#every\n\t// 5 -> Array#find\n\t// 6 -> Array#findIndex\n\tvar ctx = __webpack_require__(16),\n\t    IObject = __webpack_require__(43),\n\t    toObject = __webpack_require__(21),\n\t    toLength = __webpack_require__(10),\n\t    asc = __webpack_require__(114);\n\tmodule.exports = function (TYPE) {\n\t  var IS_MAP = TYPE == 1,\n\t      IS_FILTER = TYPE == 2,\n\t      IS_SOME = TYPE == 3,\n\t      IS_EVERY = TYPE == 4,\n\t      IS_FIND_INDEX = TYPE == 6,\n\t      NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n\t  return function ($this, callbackfn, that) {\n\t    var O = toObject($this),\n\t        self = IObject(O),\n\t        f = ctx(callbackfn, that, 3),\n\t        length = toLength(self.length),\n\t        index = 0,\n\t        result = IS_MAP ? asc($this, length) : IS_FILTER ? asc($this, 0) : undefined,\n\t        val,\n\t        res;\n\t    for (; length > index; index++) {\n\t      if (NO_HOLES || index in self) {\n\t        val = self[index];\n\t        res = f(val, index, O);\n\t        if (TYPE) {\n\t          if (IS_MAP) result[index] = res; // map\n\t          else if (res) switch (TYPE) {\n\t              case 3:\n\t                return true; // some\n\t              case 5:\n\t                return val; // find\n\t              case 6:\n\t                return index; // findIndex\n\t              case 2:\n\t                result.push(val); // filter\n\t            } else if (IS_EVERY) return false; // every\n\t        }\n\t      }\n\t    }return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n\t  };\n\t};\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// getting tag from 19.1.3.6 Object.prototype.toString()\n\tvar cof = __webpack_require__(19),\n\t    TAG = __webpack_require__(5)('toStringTag')\n\t// ES3 wrong here\n\t,\n\t    ARG = cof(function () {\n\t  return arguments;\n\t}()) == 'Arguments';\n\t\n\tmodule.exports = function (it) {\n\t  var O, T, B;\n\t  return it === undefined ? 'Undefined' : it === null ? 'Null'\n\t  // @@toStringTag case\n\t  : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n\t  // builtinTag case\n\t  : ARG ? cof(O)\n\t  // ES3 arguments fallback\n\t  : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n\t};\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar global = __webpack_require__(6),\n\t    $export = __webpack_require__(1),\n\t    redefine = __webpack_require__(13),\n\t    redefineAll = __webpack_require__(44),\n\t    forOf = __webpack_require__(29),\n\t    strictNew = __webpack_require__(46),\n\t    isObject = __webpack_require__(3),\n\t    fails = __webpack_require__(7),\n\t    $iterDetect = __webpack_require__(51),\n\t    setToStringTag = __webpack_require__(31);\n\t\n\tmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n\t  var Base = global[NAME],\n\t      C = Base,\n\t      ADDER = IS_MAP ? 'set' : 'add',\n\t      proto = C && C.prototype,\n\t      O = {};\n\t  var fixMethod = function fixMethod(KEY) {\n\t    var fn = proto[KEY];\n\t    redefine(proto, KEY, KEY == 'delete' ? function (a) {\n\t      return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n\t    } : KEY == 'has' ? function has(a) {\n\t      return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n\t    } : KEY == 'get' ? function get(a) {\n\t      return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n\t    } : KEY == 'add' ? function add(a) {\n\t      fn.call(this, a === 0 ? 0 : a);return this;\n\t    } : function set(a, b) {\n\t      fn.call(this, a === 0 ? 0 : a, b);return this;\n\t    });\n\t  };\n\t  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n\t    new C().entries().next();\n\t  }))) {\n\t    // create collection constructor\n\t    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n\t    redefineAll(C.prototype, methods);\n\t  } else {\n\t    var instance = new C()\n\t    // early implementations not supports chaining\n\t    ,\n\t        HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance\n\t    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n\t    ,\n\t        THROWS_ON_PRIMITIVES = fails(function () {\n\t      instance.has(1);\n\t    })\n\t    // most early implementations doesn't supports iterables, most modern - not close it correctly\n\t    ,\n\t        ACCEPT_ITERABLES = $iterDetect(function (iter) {\n\t      new C(iter);\n\t    }) // eslint-disable-line no-new\n\t    // for early implementations -0 and +0 not the same\n\t    ,\n\t        BUGGY_ZERO;\n\t    if (!ACCEPT_ITERABLES) {\n\t      C = wrapper(function (target, iterable) {\n\t        strictNew(target, C, NAME);\n\t        var that = new Base();\n\t        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n\t        return that;\n\t      });\n\t      C.prototype = proto;\n\t      proto.constructor = C;\n\t    }\n\t    IS_WEAK || instance.forEach(function (val, key) {\n\t      BUGGY_ZERO = 1 / key === -Infinity;\n\t    });\n\t    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n\t      fixMethod('delete');\n\t      fixMethod('has');\n\t      IS_MAP && fixMethod('get');\n\t    }\n\t    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\t    // weak collections should not contains .clear method\n\t    if (IS_WEAK && proto.clear) delete proto.clear;\n\t  }\n\t\n\t  setToStringTag(C, NAME);\n\t\n\t  O[NAME] = C;\n\t  $export($export.G + $export.W + $export.F * (C != Base), O);\n\t\n\t  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\t\n\t  return C;\n\t};\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar hide = __webpack_require__(18),\n\t    redefine = __webpack_require__(13),\n\t    fails = __webpack_require__(7),\n\t    defined = __webpack_require__(17),\n\t    wks = __webpack_require__(5);\n\t\n\tmodule.exports = function (KEY, length, exec) {\n\t  var SYMBOL = wks(KEY),\n\t      original = ''[KEY];\n\t  if (fails(function () {\n\t    var O = {};\n\t    O[SYMBOL] = function () {\n\t      return 7;\n\t    };\n\t    return ''[KEY](O) != 7;\n\t  })) {\n\t    redefine(String.prototype, KEY, exec(defined, SYMBOL, original));\n\t    hide(RegExp.prototype, SYMBOL, length == 2\n\t    // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n\t    // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n\t    ? function (string, arg) {\n\t      return original.call(string, this, arg);\n\t    }\n\t    // 21.2.5.6 RegExp.prototype[@@match](string)\n\t    // 21.2.5.9 RegExp.prototype[@@search](string)\n\t    : function (string) {\n\t      return original.call(string, this);\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// fast apply, http://jsperf.lnkit.com/fast-apply/5\n\tmodule.exports = function (fn, args, that) {\n\t                  var un = that === undefined;\n\t                  switch (args.length) {\n\t                                    case 0:\n\t                                                      return un ? fn() : fn.call(that);\n\t                                    case 1:\n\t                                                      return un ? fn(args[0]) : fn.call(that, args[0]);\n\t                                    case 2:\n\t                                                      return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]);\n\t                                    case 3:\n\t                                                      return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]);\n\t                                    case 4:\n\t                                                      return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3]);\n\t                  }return fn.apply(that, args);\n\t};\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\tvar cof = __webpack_require__(19);\n\tmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t};\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar redefine = __webpack_require__(13);\n\tmodule.exports = function (target, src) {\n\t  for (var key in src) {\n\t    redefine(target, key, src[key]);\n\t  }return target;\n\t};\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar global = __webpack_require__(6),\n\t    $ = __webpack_require__(2),\n\t    DESCRIPTORS = __webpack_require__(11),\n\t    SPECIES = __webpack_require__(5)('species');\n\t\n\tmodule.exports = function (KEY) {\n\t  var C = global[KEY];\n\t  if (DESCRIPTORS && C && !C[SPECIES]) $.setDesc(C, SPECIES, {\n\t    configurable: true,\n\t    get: function get() {\n\t      return this;\n\t    }\n\t  });\n\t};\n\n/***/ },\n/* 46 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (it, Constructor, name) {\n\t  if (!(it instanceof Constructor)) throw TypeError(name + \": use the 'new' operator!\");\n\t  return it;\n\t};\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    defined = __webpack_require__(17),\n\t    fails = __webpack_require__(7),\n\t    spaces = '\\t\\n\\u000b\\f\\r   ᠎    ' + '         　\\u2028\\u2029﻿',\n\t    space = '[' + spaces + ']',\n\t    non = '​',\n\t    ltrim = RegExp('^' + space + space + '*'),\n\t    rtrim = RegExp(space + space + '*$');\n\t\n\tvar exporter = function exporter(KEY, exec) {\n\t  var exp = {};\n\t  exp[KEY] = exec(trim);\n\t  $export($export.P + $export.F * fails(function () {\n\t    return !!spaces[KEY]() || non[KEY]() != non;\n\t  }), 'String', exp);\n\t};\n\t\n\t// 1 -> String#trimLeft\n\t// 2 -> String#trimRight\n\t// 3 -> String#trim\n\tvar trim = exporter.trim = function (string, TYPE) {\n\t  string = String(defined(string));\n\t  if (TYPE & 1) string = string.replace(ltrim, '');\n\t  if (TYPE & 2) string = string.replace(rtrim, '');\n\t  return string;\n\t};\n\t\n\tmodule.exports = exporter;\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar MATCH = __webpack_require__(5)('match');\n\tmodule.exports = function (KEY) {\n\t  var re = /./;\n\t  try {\n\t    '/./'[KEY](re);\n\t  } catch (e) {\n\t    try {\n\t      re[MATCH] = false;\n\t      return !'/./'[KEY](re);\n\t    } catch (f) {/* empty */}\n\t  }return true;\n\t};\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 7.2.2 IsArray(argument)\n\tvar cof = __webpack_require__(19);\n\tmodule.exports = Array.isArray || function (arg) {\n\t  return cof(arg) == 'Array';\n\t};\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar LIBRARY = __webpack_require__(52),\n\t    $export = __webpack_require__(1),\n\t    redefine = __webpack_require__(13),\n\t    hide = __webpack_require__(18),\n\t    has = __webpack_require__(9),\n\t    Iterators = __webpack_require__(30),\n\t    $iterCreate = __webpack_require__(75),\n\t    setToStringTag = __webpack_require__(31),\n\t    getProto = __webpack_require__(2).getProto,\n\t    ITERATOR = __webpack_require__(5)('iterator'),\n\t    BUGGY = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n\t,\n\t    FF_ITERATOR = '@@iterator',\n\t    KEYS = 'keys',\n\t    VALUES = 'values';\n\t\n\tvar returnThis = function returnThis() {\n\t  return this;\n\t};\n\t\n\tmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n\t  $iterCreate(Constructor, NAME, next);\n\t  var getMethod = function getMethod(kind) {\n\t    if (!BUGGY && kind in proto) return proto[kind];\n\t    switch (kind) {\n\t      case KEYS:\n\t        return function keys() {\n\t          return new Constructor(this, kind);\n\t        };\n\t      case VALUES:\n\t        return function values() {\n\t          return new Constructor(this, kind);\n\t        };\n\t    }return function entries() {\n\t      return new Constructor(this, kind);\n\t    };\n\t  };\n\t  var TAG = NAME + ' Iterator',\n\t      DEF_VALUES = DEFAULT == VALUES,\n\t      VALUES_BUG = false,\n\t      proto = Base.prototype,\n\t      $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT],\n\t      $default = $native || getMethod(DEFAULT),\n\t      methods,\n\t      key;\n\t  // Fix native\n\t  if ($native) {\n\t    var IteratorPrototype = getProto($default.call(new Base()));\n\t    // Set @@toStringTag to native iterators\n\t    setToStringTag(IteratorPrototype, TAG, true);\n\t    // FF fix\n\t    if (!LIBRARY && has(proto, FF_ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n\t    // fix Array#{values, @@iterator}.name in V8 / FF\n\t    if (DEF_VALUES && $native.name !== VALUES) {\n\t      VALUES_BUG = true;\n\t      $default = function values() {\n\t        return $native.call(this);\n\t      };\n\t    }\n\t  }\n\t  // Define iterator\n\t  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n\t    hide(proto, ITERATOR, $default);\n\t  }\n\t  // Plug for library\n\t  Iterators[NAME] = $default;\n\t  Iterators[TAG] = returnThis;\n\t  if (DEFAULT) {\n\t    methods = {\n\t      values: DEF_VALUES ? $default : getMethod(VALUES),\n\t      keys: IS_SET ? $default : getMethod(KEYS),\n\t      entries: !DEF_VALUES ? $default : getMethod('entries')\n\t    };\n\t    if (FORCED) for (key in methods) {\n\t      if (!(key in proto)) redefine(proto, key, methods[key]);\n\t    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n\t  }\n\t  return methods;\n\t};\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ITERATOR = __webpack_require__(5)('iterator'),\n\t    SAFE_CLOSING = false;\n\t\n\ttry {\n\t  var riter = [7][ITERATOR]();\n\t  riter['return'] = function () {\n\t    SAFE_CLOSING = true;\n\t  };\n\t  Array.from(riter, function () {\n\t    throw 2;\n\t  });\n\t} catch (e) {/* empty */}\n\t\n\tmodule.exports = function (exec, skipClosing) {\n\t  if (!skipClosing && !SAFE_CLOSING) return false;\n\t  var safe = false;\n\t  try {\n\t    var arr = [7],\n\t        iter = arr[ITERATOR]();\n\t    iter.next = function () {\n\t      safe = true;\n\t    };\n\t    arr[ITERATOR] = function () {\n\t      return iter;\n\t    };\n\t    exec(arr);\n\t  } catch (e) {/* empty */}\n\t  return safe;\n\t};\n\n/***/ },\n/* 52 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = false;\n\n/***/ },\n/* 53 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// 20.2.2.14 Math.expm1(x)\n\tmodule.exports = Math.expm1 || function expm1(x) {\n\t  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n\t};\n\n/***/ },\n/* 54 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// 20.2.2.28 Math.sign(x)\n\tmodule.exports = Math.sign || function sign(x) {\n\t  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n\t};\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Works with __proto__ only. Old v8 can't work with null proto objects.\n\t/* eslint-disable no-proto */\n\tvar getDesc = __webpack_require__(2).getDesc,\n\t    isObject = __webpack_require__(3),\n\t    anObject = __webpack_require__(4);\n\tvar check = function check(O, proto) {\n\t  anObject(O);\n\t  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n\t};\n\tmodule.exports = {\n\t  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n\t  function (test, buggy, set) {\n\t    try {\n\t      set = __webpack_require__(16)(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n\t      set(test, []);\n\t      buggy = !(test instanceof Array);\n\t    } catch (e) {\n\t      buggy = true;\n\t    }\n\t    return function setPrototypeOf(O, proto) {\n\t      check(O, proto);\n\t      if (buggy) O.__proto__ = proto;else set(O, proto);\n\t      return O;\n\t    };\n\t  }({}, false) : undefined),\n\t  check: check\n\t};\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar toInteger = __webpack_require__(33),\n\t    defined = __webpack_require__(17);\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tmodule.exports = function (TO_STRING) {\n\t  return function (that, pos) {\n\t    var s = String(defined(that)),\n\t        i = toInteger(pos),\n\t        l = s.length,\n\t        a,\n\t        b;\n\t    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// helper for String#{startsWith, endsWith, includes}\n\tvar isRegExp = __webpack_require__(73),\n\t    defined = __webpack_require__(17);\n\t\n\tmodule.exports = function (that, searchString, NAME) {\n\t  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n\t  return String(defined(that));\n\t};\n\n/***/ },\n/* 58 */,\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.AnimationManager = exports.default = undefined;\n\t\n\tvar _layerManager = __webpack_require__(28);\n\t\n\tvar _LayerManager$ROAM_LA = _layerManager.LayerManager.ROAM_LAYERS; /**\r\n\t                                                                     * Created by Glenn on 2015-07-02.\r\n\t                                                                     */\n\t\n\tvar ROAM_ASSETS_ANIMATION = _LayerManager$ROAM_LA.ROAM_ASSETS_ANIMATION;\n\tvar ROAM_ASSETS_HISTORY = _LayerManager$ROAM_LA.ROAM_ASSETS_HISTORY;\n\t\n\t\n\tvar AnimationManager = stampit().init(function (_ref) {\n\t  var instance = _ref.instance;\n\t\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var viewer = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var currentStep = 0;\n\t  var maxStep = 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var animationInfo = '';\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var animationId = NaN;\n\t  var lapse = 500;\n\t  var trailLength = 3;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var wasAutoRefresh = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var dataSourceLayer = void 0;\n\t  var animationLayer = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var animationObjects = [];\n\t  var currentAnimationObject = void 0;\n\t  var currentAnimationObjectLabel = void 0;\n\t  var animationPathLineObject = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region private methods */\n\t\n\t  /**\r\n\t   *\r\n\t   * @param visibility\r\n\t   */\n\t  function swapAnimationLayerVisibility(visibility) {\n\t    var layerManager = viewer.getLayerManager();\n\t\n\t    layerManager.setLayerVisibility(dataSourceLayer.name, !visibility);\n\t    layerManager.setLayerVisibility(animationLayer.name, visibility);\n\t  }\n\t\n\t  /* endregion private methods */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapViewer\r\n\t     */\n\t    setViewer: _.once(function (mapViewer) {\n\t      return viewer = mapViewer;\n\t    }),\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    loadAnimationObjects: function loadAnimationObjects() {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      animationLayer = layerManager.getLayer(ROAM_ASSETS_ANIMATION);\n\t      dataSourceLayer = layerManager.getLayer(ROAM_ASSETS_HISTORY);\n\t\n\t      /*\r\n\t       * Copy marker objects from data source layer (ROAM_ASSETS_HISTORY)\r\n\t       * to animation layer (ROAM_ASSETS_ANIMATION).\r\n\t       */\n\t      layerManager.copyObjects(animationLayer.name, dataSourceLayer.name);\n\t\n\t      instance.setAnimationObjects(animationLayer.getObjects());\n\t\n\t      instance.stopAnimation();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objects\r\n\t     */\n\t    setAnimationObjects: function setAnimationObjects(objects) {\n\t\n\t      if (_.isArray(objects)) {\n\t        animationObjects = objects;\n\t        instance.setMaxStep(objects.length);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param step\r\n\t     */\n\t    setCurrentStep: function setCurrentStep(step) {\n\t      currentStep = step;\n\t\n\t      viewer.getControls().onAnimationCurrentStepChanged(step);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {number}\r\n\t     */\n\t    getMaxStep: function getMaxStep() {\n\t      return maxStep;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param step\r\n\t     */\n\t    setMaxStep: function setMaxStep(step) {\n\t      maxStep = step;\n\t\n\t      viewer.getControls().onAnimationMaxStepChanged(step);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    setAnimationInfo: function setAnimationInfo(info) {\n\t      animationInfo = info;\n\t\n\t      viewer.getControls().onAnimationInfoChanged(info);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param speed\r\n\t     */\n\t    setAnimationSpeed: function setAnimationSpeed(speed) {\n\t      var min = 0.1;\n\t\n\t      /*\r\n\t       * No animation with lapse under 100 ms.\r\n\t       */\n\t      if (speed <= min) {\n\t        speed = min;\n\t      }\n\t\n\t      lapse = speed * 1000;\n\t\n\t      if (instance.isAnimating()) {\n\t        instance.pauseAnimation();\n\t        instance.startAnimation();\n\t      }\n\t\n\t      viewer.getControls().onAnimationSpeedChanged(speed);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param length\r\n\t     */\n\t    setTrailLength: function setTrailLength(length) {\n\t\n\t      if (length >= 0) {\n\t        trailLength = length;\n\t\n\t        viewer.getControls().onAnimationTrailLengthChanged(length);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    doStep: function doStep() {\n\t      currentAnimationObject = animationObjects[currentStep - 1];\n\t\n\t      /*\r\n\t       * Black magic for interpolating visibility based on the\r\n\t       * trail length.\r\n\t       */\n\t      var maxStep = instance.getMaxStep();\n\t\n\t      for (var i = 0; i <= trailLength; i++) {\n\t        var c = i + 1;\n\t        var a = currentStep - c;\n\t\n\t        if (a >= 0 && a < maxStep) {\n\t          var animationObject = animationObjects[a];\n\t          var opacity = (trailLength - i) / trailLength;\n\t\n\t          animationObject.setVisible(opacity > 0);\n\t          /*\r\n\t           * P.S. In HERE Maps, there is this hidden call\r\n\t           * to `.setVisibility(opacity > 0)` inside the\r\n\t           * asynchronous callback method `img.onload`.\r\n\t           * This is yet another black magic since setting\r\n\t           * opacity of map object in HERE Maps API is not\r\n\t           * really straight-forward as in Google Maps.\r\n\t           */\n\t          animationObject.setOpacity(opacity);\n\t        }\n\t      }\n\t\n\t      var currentObjectPosition = currentAnimationObject.getPosition();\n\t\n\t      //instance.drawAnimationPathLineObject(currentObjectPosition);\n\t\n\t      if (viewer.isAutoFocus()) {\n\t\n\t        /*\r\n\t         * TODO: Implement a proper auto-focus behavior.\r\n\t         */\n\t        viewer.setCenter(currentObjectPosition);\n\t      }\n\t\n\t      currentAnimationObjectLabel.setMapObject(currentAnimationObject).setText(instance.getCurrentAnimationObjectInfo()).updatePosition().setVisible(true);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param step\r\n\t     */\n\t    stepTo: function stepTo(step) {\n\t\n\t      if (step > 0 && step <= maxStep) {\n\t        instance.setCurrentStep(step);\n\t\n\t        if (!instance.isAnimating()) {\n\t          instance.beforeAnimation();\n\t        }\n\t\n\t        instance.doStep();\n\t        instance.setAnimationInfo(instance.getCurrentAnimationObjectInfo());\n\t      } else {\n\t        instance.stopAnimation();\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    step: function step() {\n\t      instance.stepTo(currentStep + 1);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    isAnimating: function isAnimating() {\n\t      return _.isFinite(animationId);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    pauseAnimation: function pauseAnimation() {\n\t      clearInterval(animationId);\n\t      animationId = NaN;\n\t      viewer.getControls().onAnimationStateChanged(AnimationManager.ANIMATION_STATES.PAUSE);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    stopAnimation: function stopAnimation() {\n\t\n\t      if (_.isBoolean(wasAutoRefresh)) {\n\t        viewer.setAutoRefresh(wasAutoRefresh);\n\t        wasAutoRefresh = undefined;\n\t      }\n\t\n\t      if (instance.isAnimating()) {\n\t        clearInterval(animationId);\n\t        animationId = NaN;\n\t      }\n\t\n\t      instance.afterAnimation();\n\t      viewer.getControls().onAnimationStateChanged(AnimationManager.ANIMATION_STATES.STOP);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    startAnimation: function startAnimation() {\n\t\n\t      if (_.isUndefined(wasAutoRefresh)) {\n\t\n\t        /*\r\n\t         * Prevent polling when animating.\r\n\t         */\n\t        wasAutoRefresh = viewer.isAutoRefresh();\n\t        viewer.setAutoRefresh(false);\n\t      }\n\t\n\t      if (!instance.isAnimating()) {\n\t        instance.beforeAnimation();\n\t\n\t        animationId = setInterval(function () {\n\t          instance.step();\n\t        }, lapse);\n\t      }\n\t\n\t      viewer.getControls().onAnimationStateChanged(AnimationManager.ANIMATION_STATES.START);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    beforeAnimation: function beforeAnimation() {\n\t      viewer.getLayerManager().setAllObjectsVisibility(animationLayer.name, false);\n\t      swapAnimationLayerVisibility(true);\n\t\n\t      if (!currentAnimationObjectLabel) {\n\t        currentAnimationObjectLabel = viewer.getMapObjectLabelFactory().create();\n\t      }\n\t\n\t      currentAnimationObjectLabel.setVisible(false);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    afterAnimation: function afterAnimation() {\n\t      instance.setCurrentStep(0);\n\t      swapAnimationLayerVisibility(false);\n\t\n\t      if (currentAnimationObjectLabel) {\n\t        currentAnimationObjectLabel.setVisible(false);\n\t      }\n\t\n\t      instance.setAnimationInfo(instance.getMaxStep() > 0 ? 'Ready.' : 'Inactive.');\n\t\n\t      //instance.removeAnimationPathLineObject();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    getCurrentAnimationObjectInfo: function getCurrentAnimationObjectInfo() {\n\t      var info = '';\n\t\n\t      if (currentAnimationObject) {\n\t        info = currentAnimationObject.getData('description');\n\t      }\n\t\n\t      return info;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param position\r\n\t     */\n\t    drawAnimationPathLineObject: function drawAnimationPathLineObject(position) {\n\t      var coordinates = [];\n\t\n\t      if (!animationPathLineObject) {\n\t        var position0 = animationObjects[0].getPosition();\n\t\n\t        coordinates = [position0.longitude, position0.latitude, position.longitude, position.latitude];\n\t\n\t        animationPathLineObject = viewer.getMapObjectFactory().create({\n\t          objectModel: {\n\t            coordinates: coordinates,\n\t            shapeType: 'line',\n\t            options: {\n\t              styleName: 'animationPath'\n\t            }\n\t          }\n\t        });\n\t\n\t        viewer.addObject(animationPathLineObject);\n\t      } else {\n\t\n\t        /*\r\n\t         * Update the path line.\r\n\t         */\n\t        coordinates = animationPathLineObject.objectModel.coordinates;\n\t        coordinates.push(position.latitude, position.longitude);\n\t        animationPathLineObject.setCoordinates(coordinates);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    removeAnimationPathLineObject: function removeAnimationPathLineObject() {\n\t\n\t      if (animationPathLineObject) {\n\t        viewer.removeObject(animationPathLineObject);\n\t        animationPathLineObject = undefined;\n\t      }\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t}).static({\n\t\n\t  /**\r\n\t   *\r\n\t   * @constant\r\n\t   */\n\t  ANIMATION_STATES: {\n\t    PAUSE: 0,\n\t    STOP: 1,\n\t    START: 2\n\t  }\n\t});\n\t\n\texports.default = AnimationManager;\n\texports.AnimationManager = AnimationManager;\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.MapObject = exports.default = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\r\n\t                                                                                                                                                                                                                                                                   * Created by Glenn on 2015-06-29.\r\n\t                                                                                                                                                                                                                                                                   */\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _layerManager = __webpack_require__(28);\n\t\n\tvar _styler = __webpack_require__(15);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _LayerManager$ROAM_LA = _layerManager.LayerManager.ROAM_LAYERS;\n\tvar ROAM_ASSETS_HISTORY = _LayerManager$ROAM_LA.ROAM_ASSETS_HISTORY;\n\tvar ROAM_ASSETS_ANIMATION = _LayerManager$ROAM_LA.ROAM_ASSETS_ANIMATION;\n\t\n\tvar styler = _styler.Styler.getInstance();\n\t\n\t/**\r\n\t * Abstract factory for creating abstract map object.\r\n\t * @abstract\r\n\t */\n\tvar MapObject = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  objectModel: undefined,\n\t  viewer: undefined,\n\t  /**\r\n\t   *\r\n\t   */\n\t  id: '', // -> layerName-domainObjectTypeId\n\t  layerName: '',\n\t  roamObject: undefined\n\t}).methods({\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t\n\t  getFactory: function getFactory() {\n\t    return this.viewer.getMapObjectFactory();\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  getFactoryMethod: function getFactoryMethod(shapeType) {\n\t    var factory = this.getFactory();\n\t    var createMarker = factory.createMarker;\n\t    var createPolygon = factory.createPolygon;\n\t    var createRectangle = factory.createRectangle;\n\t    var createCircle = factory.createCircle;\n\t    var createPolyline = factory.createPolyline;\n\t\n\t    var factoryMethods = {\n\t      /*\r\n\t       * For reading (rendering) map object from the backend.\r\n\t       */\n\t      marker: createMarker,\n\t      area: createPolygon,\n\t      rectangle: createPolygon,\n\t      circle: createPolygon,\n\t      pass: createPolygon,\n\t      /*\r\n\t       * For creating (editing) map object in the frontend.\r\n\t       */\n\t      point: createMarker,\n\t      polygon: createPolygon,\n\t      rectangle2: createRectangle,\n\t      circle2: createCircle,\n\t      line: createPolyline\n\t    };\n\t\n\t    var factoryMethod = factoryMethods[shapeType];\n\t\n\t    if (!_.isFunction(factoryMethod)) {\n\t      throw new Error('Invalid shape type: ' + shapeType + '.');\n\t    }\n\t\n\t    return factoryMethod;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getNativeObject: function getNativeObject() {\n\t    throw new Error('.getNativeObject() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param type\r\n\t   * @param listener\r\n\t   */\n\t  addEventListener: function addEventListener(type, listener) {\n\t    throw new Error('.addEventListener() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param type\r\n\t   * @param listener\r\n\t   */\n\t  removeEventListener: function removeEventListener(type, listener) {\n\t    throw new Error('.removeEventListener() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  createDefaultObjectModel: function createDefaultObjectModel() {\n\t    var roamObject = this.roamObject;\n\t\n\t    var shapeType = (roamObject.shapeType || 'marker').toLowerCase();\n\t    var objectModel = {\n\t      shapeType: shapeType\n\t    };\n\t    var markerTyped = shapeType === 'marker';\n\t    var latitude = roamObject.latitude;\n\t    var longitude = roamObject.longitude;\n\t\n\t\n\t    if (markerTyped) {\n\t      _.assign(objectModel, {\n\t        lat: latitude,\n\t        lng: longitude,\n\t        options: {\n\t          icon: {\n\t            model: styler.getRoamIcon(roamObject,\n\t\n\t            /**\r\n\t             * .png fallback enabled for GM in IE.\r\n\t             * \"It seems that Google Maps doesn't\r\n\t             * really support using SVG images for\r\n\t             * markers at the moment. This fact is\r\n\t             * easy to overlook, because it turns\r\n\t             * out that SVG marker images do actually\r\n\t             * work in, eg. Chrome and Opera.\"\r\n\t             * @see http://stackoverflow.com/a/26608307/2013891\r\n\t             */\n\t            !(this.viewer.moduleName.match(/googlemaps/i) && kendo.support.browser.msie))\n\t          }\n\t        }\n\t      });\n\t    } else {\n\t      var fenceType = roamObject.fenceType || 'Unknown';\n\t\n\t      _.assign(objectModel, {\n\t        coordinates: this.getFactory().toLatLngArray(roamObject.coordinates),\n\t        options: {\n\t          styleName: 'geofence' + fenceType\n\t        }\n\t      });\n\t    }\n\t\n\t    return objectModel;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  createDefaultRoamData: function createDefaultRoamData() {\n\t    var roamObject = this.roamObject;\n\t    var layerName = this.layerName;\n\t    var asset = roamObject.asset;\n\t\n\t    var name = asset ? asset.name : roamObject.name;\n\t    var description = name;\n\t\n\t    if (layerName === ROAM_ASSETS_HISTORY || layerName === ROAM_ASSETS_ANIMATION) {\n\t\n\t      name = asset.name + ' ' + roamObject.name;\n\t      description = roamObject.name + ' ' + _app2.default.util.format.dateTime(roamObject.eventTime);\n\t    }\n\t\n\t    var fenceType = roamObject.fenceType;\n\t\n\t    if (fenceType) {\n\t      description = name + ' [' + fenceType + ']';\n\t    }\n\t\n\t    var domainObjectType = roamObject.domainObjectType;\n\t    var domainObjectTypeId = roamObject.domainObjectTypeId;\n\t    var id = roamObject.id;\n\t\n\t    return {\n\t      domainObjectType: domainObjectType,\n\t      domainObjectTypeId: domainObjectTypeId,\n\t      name: name,\n\t      description: description,\n\t      layerName: layerName,\n\t      domainObjectId: id\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {Function}\r\n\t   */\n\t  createDefaultClickListener: function createDefaultClickListener() {\n\t    var _this = this;\n\t\n\t    return function (e) {\n\t      e.stopPropagation = e.stopPropagation || e.stop;\n\t      e.stopPropagation();\n\t\n\t      var position = void 0;\n\t\n\t      if (_.isFunction(_this.getPosition)) {\n\t        position = _this.getPosition();\n\t      } else {\n\t        position = _this.getCenterBounds();\n\t      }\n\t\n\t      var viewer = _this.viewer;\n\t\n\t      var px = viewer.geoToPixel(position);\n\t      var x = px.x;\n\t      var y = px.y;\n\t\n\t\n\t      viewer.createMapInfoBox({\n\t        parentElement: viewer.container,\n\t        position: {\n\t          top: y,\n\t          left: x\n\t        },\n\t        domainObjectType: _this.getData('domainObjectType'),\n\t        domainObjectId: _this.getData('domainObjectId'),\n\t        objectName: _this.getData('name')\n\t      }, function (mapInfoBox) {\n\t        mapInfoBox.setGeoPosition(position);\n\t        mapInfoBox.show();\n\t      });\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {Function}\r\n\t   */\n\t  createDefaultMouseEnterListener: function createDefaultMouseEnterListener() {\n\t    var _this2 = this;\n\t\n\t    return function () {\n\t      var hoverLabel = _this2.getData('hoverLabel');\n\t\n\t      if (!hoverLabel) {\n\t        hoverLabel = _this2.viewer.getMapObjectLabelFactory().create({ mapObject: _this2 });\n\t        hoverLabel.setText(_this2.getData('name'));\n\t        _this2.setData('hoverLabel', hoverLabel);\n\t      } else {\n\t        hoverLabel.updatePosition();\n\t      }\n\t\n\t      hoverLabel.setVisible(true);\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {Function}\r\n\t   */\n\t  createDefaultMouseLeaveListener: function createDefaultMouseLeaveListener() {\n\t    var _this3 = this;\n\t\n\t    return function () {\n\t      var hoverLabel = _this3.getData('hoverLabel');\n\t\n\t      if (hoverLabel) {\n\t        hoverLabel.setVisible(false);\n\t      }\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {Function}\r\n\t   */\n\t  createDefaultVisibilityChangedListener: function createDefaultVisibilityChangedListener() {\n\t    var _this4 = this;\n\t\n\t    return function () {\n\t      var viewer = _this4.viewer;\n\t      var layerName = _this4.layerName;\n\t\n\t      var labelsVisibilityEnabled = viewer.getLayerManager().getObjectLabelsVisibility(layerName);\n\t\n\t      _this4.setLabelVisible(labelsVisibilityEnabled);\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param key\r\n\t   */\n\t  getData: function getData(key) {\n\t    throw new Error('.getData() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param key\r\n\t   * @param value\r\n\t   */\n\t  setData: function setData(key, value) {\n\t    throw new Error('.setData() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param effective\r\n\t   */\n\t  isVisible: function isVisible(effective) {\n\t    throw new Error('.isVisible() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param visible\r\n\t   */\n\t  setVisible: function setVisible(visible) {\n\t    throw new Error('.setVisible() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*}\r\n\t   */\n\t  getLabel: function getLabel() {\n\t    return this.getData('objectLabel');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {boolean}\r\n\t   */\n\t  isLabelVisible: function isLabelVisible() {\n\t    var label = this.getLabel();\n\t\n\t    return Boolean(label && label.isVisible());\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param visible\r\n\t   */\n\t  setLabelVisible: function setLabelVisible(visible) {\n\t    var label = this.getLabel();\n\t\n\t    if (!label) {\n\t      label = this.viewer.getMapObjectLabelFactory().create({ mapObject: this });\n\t      this.setData('objectLabel', label);\n\t    } else {\n\t      this.updateLabelPosition();\n\t    }\n\t\n\t    label.setVisible(visible);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  updateLabelPosition: function updateLabelPosition() {\n\t    var label = this.getLabel();\n\t\n\t    if (label) {\n\t      label.updatePosition();\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  destroyLabel: function destroyLabel() {\n\t    var label = this.getLabel();\n\t\n\t    if (label) {\n\t      label.destroy();\n\t      this.setData('objectLabel', undefined);\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  isWithinViewBounds: function isWithinViewBounds() {\n\t    throw new Error('.isWithinViewBounds() method not implemented.');\n\t  }\n\t}).static({\n\t\n\t  /**\r\n\t   *\r\n\t   * @param objectModel\r\n\t   * @param viewer\r\n\t   */\n\t\n\t  createMarker: function createMarker(objectModel, viewer) {\n\t    throw new Error('.createMarker() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param objectModel\r\n\t   * @param viewer\r\n\t   */\n\t  createPolyline: function createPolyline(objectModel, viewer) {\n\t    throw new Error('.createPolyline() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param objectModel\r\n\t   * @param viewer\r\n\t   */\n\t  createPolygon: function createPolygon(objectModel, viewer) {\n\t    throw new Error('.createPolygon() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param objectModel\r\n\t   * @param viewer\r\n\t   */\n\t  createRectangle: function createRectangle(objectModel, viewer) {\n\t    throw new Error('.createRectangle() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param objectModel\r\n\t   * @param viewer\r\n\t   */\n\t  createCircle: function createCircle(objectModel, viewer) {\n\t    throw new Error('.createCircle() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param styleName\r\n\t   * @param viewer\r\n\t   */\n\t  createNormalizedShapeStyle: function createNormalizedShapeStyle(styleName, viewer) {\n\t    var shapeStyles = styler.getShapeStyles();\n\t    var style = _extends({}, shapeStyles[styleName]);\n\t\n\t    if (styleName.match(/geofence/i)) {\n\t      _.assign(style, shapeStyles.geofence);\n\t    }\n\t\n\t    style = viewer.getMapObjectFactory().normalizeShapeStyle(style);\n\t\n\t    return style;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param style\r\n\t   */\n\t  normalizeShapeStyle: function normalizeShapeStyle(style) {\n\t    throw new Error('.normalizeShapeStyle() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param lngLats\r\n\t   * @returns {*}\r\n\t   */\n\t  toLatLngArray: function toLatLngArray(lngLats) {\n\t\n\t    return _.map(lngLats, function (el, i, arr) {\n\t      var n = i + 1;\n\t      var coordinate = arr[i + 1];\n\t\n\t      if (n % 2 === 0) {\n\t        coordinate = arr[i - 1];\n\t      }\n\t\n\t      return coordinate;\n\t    });\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param latLngs\r\n\t   * @returns {*}\r\n\t   */\n\t  toPoints: function toPoints(latLngs) {\n\t\n\t    return _(latLngs).map(function (coordinate, i) {\n\t      var n = i + 1;\n\t      var point = void 0;\n\t\n\t      if (n % 2 === 0) {\n\t        var lat = latLngs[i - 1];\n\t        var lng = latLngs[i];\n\t\n\t        point = {\n\t          lat: lat,\n\t          lng: lng\n\t        };\n\t      }\n\t\n\t      return point;\n\t    }).compact().value();\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param points\r\n\t   * @returns {Array}\r\n\t   */\n\t  toCoordinates: function toCoordinates(points) {\n\t\n\t    return _.transform(points, function (coordinates, point) {\n\t      var lat = point.lat;\n\t      var lng = point.lng;\n\t\n\t      lat = _.isFinite(parseFloat(lat)) ? lat : point.lat();\n\t      lng = _.isFinite(parseFloat(lng)) ? lng : point.lng();\n\t\n\t      coordinates.push(lat, lng);\n\t    });\n\t  }\n\t});\n\t\n\texports.default = MapObject;\n\texports.MapObject = MapObject;\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Created by Glenn on 2015-08-13.\r\n\t */\n\t\n\t/**\r\n\t *\r\n\t * @interface\r\n\t */\n\tvar RoutingEngine = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  routingManager: undefined,\n\t  viewer: undefined\n\t}).methods({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t\n\t  searchPlaces: function searchPlaces(query) {\n\t    throw new Error('.searchPlaces() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  calculateRoute: function calculateRoute() {\n\t    throw new Error('.calculateRoute() method not implemented.');\n\t  }\n\t});\n\t\n\texports.default = RoutingEngine;\n\texports.RoutingEngine = RoutingEngine;\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Viewer = exports.default = undefined;\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _layerManager = __webpack_require__(28);\n\t\n\tvar _animationManager = __webpack_require__(59);\n\t\n\tvar _editManager = __webpack_require__(108);\n\t\n\tvar _routingManager = __webpack_require__(109);\n\t\n\tvar _mapObjectLabel = __webpack_require__(110);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Created by Glenn on 2015-06-28.\r\n\t */\n\t\n\tvar config = _app2.default.config;\n\tvar widget = _app2.default.widget;\n\t\n\tvar printTemplate = __webpack_require__(240);\n\tvar _LayerManager$ROAM_LA = _layerManager.LayerManager.ROAM_LAYERS;\n\tvar ROAM_ASSETS = _LayerManager$ROAM_LA.ROAM_ASSETS;\n\tvar ROAM_ASSETS_HISTORY = _LayerManager$ROAM_LA.ROAM_ASSETS_HISTORY;\n\t\n\t/**\r\n\t *\r\n\t * @abstract\r\n\t */\n\t\n\tvar Viewer = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  moduleName: '',\n\t  /**\r\n\t   *\r\n\t   */\n\t  name: '',\n\t  /**\r\n\t   *\r\n\t   */\n\t  container: undefined,\n\t  domainObjectType: '',\n\t  domainObjectId: '',\n\t  /**\r\n\t   *\r\n\t   */\n\t  alarmEventIds: undefined,\n\t  /**\r\n\t   *\r\n\t   */\n\t  autoRefresh: false,\n\t  autoFocus: false,\n\t  /**\r\n\t   *\r\n\t   */\n\t  rememberLastViewportEnabled: false,\n\t  /**\r\n\t   *\r\n\t   */\n\t  lazyLoadingEnabled: false\n\t}).methods({\n\t\n\t  /**\r\n\t   * Transform `moduleName` to some human-friendly name, like:\r\n\t   * 'heremaps' -> 'Here Maps'\r\n\t   * 'googlemaps' -> 'Google Maps'\r\n\t   * @returns {string}\r\n\t   */\n\t\n\t  getFriendlyName: function getFriendlyName() {\n\t    return _.startCase(this.moduleName.replace(/maps/i, ' maps'));\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {string}\r\n\t   */\n\t  getLogo: function getLogo() {\n\t    return 'images/maps/logos/' + this.moduleName.replace(/maps/i, '') + '-logo.png';\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param type\r\n\t   * @param listener\r\n\t   */\n\t  addEventListener: function addEventListener(type, listener) {\n\t    throw new Error('.addEventListener() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param type\r\n\t   * @param listener\r\n\t   */\n\t  removeEventListener: function removeEventListener(type, listener) {\n\t    throw new Error('.removeEventListener() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param type\r\n\t   * @param listener\r\n\t   */\n\t  onceEventListener: function onceEventListener(type, listener) {\n\t    throw new Error('.onceEventListener() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {Function}\r\n\t   */\n\t  createDefaultClickListener: function createDefaultClickListener() {\n\t    var _this = this;\n\t\n\t    return function () {\n\t      var mapInfoBox = _this.getMapInfoBox();\n\t\n\t      if (mapInfoBox && mapInfoBox.isVisible()) {\n\t        mapInfoBox.hide();\n\t      }\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {Function}\r\n\t   */\n\t  createDefaultMapViewChangeEndListener: function createDefaultMapViewChangeEndListener() {\n\t    var _this2 = this;\n\t\n\t    return function () {\n\t      var mapInfoBox = _this2.getMapInfoBox();\n\t\n\t      if (mapInfoBox && mapInfoBox.isVisible()) {\n\t        var _geoToPixel = _this2.geoToPixel(mapInfoBox.getGeoPosition());\n\t\n\t        var x = _geoToPixel.x;\n\t        var y = _geoToPixel.y;\n\t\n\t        var _container$offset = _this2.container.offset();\n\t\n\t        var top = _container$offset.top;\n\t        var left = _container$offset.left;\n\t\n\t\n\t        mapInfoBox.setPosition({\n\t          top: y + top,\n\t          left: x + left\n\t        });\n\t      }\n\t    };\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {Function}\r\n\t   */\n\t  createDefaultMouseMoveListener: function createDefaultMouseMoveListener() {\n\t    var _this3 = this;\n\t\n\t    var listener = function listener(e) {\n\t      var coordinatesDisplay = _this3.getCoordinatesDisplay();\n\t\n\t      if (coordinatesDisplay) {\n\t        var currentPointer = e.currentPointer;\n\t        var latLng = e.latLng;\n\t        var viewportX = currentPointer.viewportX;\n\t        var viewportY = currentPointer.viewportY;\n\t\n\t        var point = void 0;\n\t\n\t        if (currentPointer) {\n\t          point = _this3.pixelToGeo({\n\t            x: viewportX,\n\t            y: viewportY\n\t          });\n\t        } else if (latLng) {\n\t          _.assign(point, {\n\t            lat: latLng.lat(),\n\t            lng: latLng.lng()\n\t          });\n\t        }\n\t\n\t        var _point = point;\n\t        var lat = _point.lat;\n\t        var lng = _point.lng;\n\t\n\t\n\t        coordinatesDisplay.setCoordinates(lng, lat);\n\t      } else {\n\t        _this3.removeEventListener('mousemove', listener);\n\t      }\n\t    };\n\t\n\t    return listener;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param overlay\r\n\t   */\n\t  addOverlay: function addOverlay(overlay) {\n\t    throw new Error('.addOverlay() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param mapObject\r\n\t   */\n\t  addObject: function addObject(mapObject) {\n\t    this.addObjects([mapObject]);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param mapObjects\r\n\t   */\n\t  addObjects: function addObjects(mapObjects) {\n\t    throw new Error('.addObjects() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param mapObject\r\n\t   */\n\t  removeObject: function removeObject(mapObject) {\n\t    this.removeObjects([mapObject]);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param mapObjects\r\n\t   */\n\t  removeObjects: function removeObjects(mapObjects) {\n\t    throw new Error('.removeObjects() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getLayerFactory: function getLayerFactory() {\n\t    throw new Error('.getLayerFactory() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getClusteringLayerFactory: function getClusteringLayerFactory() {\n\t    throw new Error('.getClusteringLayerFactory() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getMapObjectFactory: function getMapObjectFactory() {\n\t    throw new Error('.getMapObjectFactory() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {MapObjectLabel}\r\n\t   */\n\t  getMapObjectLabelFactory: function getMapObjectLabelFactory() {\n\t    return _mapObjectLabel.MapObjectLabel;\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getRoutingEngineFactory: function getRoutingEngineFactory() {\n\t    throw new Error('.getRoutingEngineFactory() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param pixel\r\n\t   */\n\t  pixelToGeo: function pixelToGeo(pixel) {\n\t    throw new Error('.pixelToGeo() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param geo\r\n\t   */\n\t  geoToPixel: function geoToPixel(geo) {\n\t    throw new Error('.geoToPixel() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getBoundingBox: function getBoundingBox() {\n\t    throw new Error('.getBoundingBox() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param bbox\r\n\t   */\n\t  setBoundingBox: function setBoundingBox(bbox) {\n\t    throw new Error('.setBoundingBox() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {*[]}\r\n\t   */\n\t  getCenter: function getCenter() {\n\t    throw new Error('.getCenter() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param center\r\n\t   */\n\t  setCenter: function setCenter(center) {\n\t    throw new Error('.setCenter() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getZoom: function getZoom() {\n\t    throw new Error('.getZoom() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  getScale: function getScale() {\n\t    var zoom = this.getZoom() > 19 ? 19 : this.getZoom();\n\t\n\t    return _.round(this.getScales()[zoom]);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param zoom\r\n\t   */\n\t  zoomToLevel: function zoomToLevel(zoom) {\n\t    throw new Error('.zoomToLevel() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param scale\r\n\t   */\n\t  zoomToScale: function zoomToScale(scale) {\n\t\n\t    if (scale >= 0) {\n\t      var zoom = _.findIndex(this.getScales(), function (s) {\n\t        return s <= scale;\n\t      });\n\t\n\t      this.zoomToLevel(zoom);\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param layerName\r\n\t   */\n\t  zoomToLayer: function zoomToLayer(layerName) {\n\t    var layer = this.getLayerManager().getLayer(layerName);\n\t\n\t    if (layer) {\n\t      this.setBoundingBox(layer.getBounds());\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param layerName\r\n\t   * @param objectId\r\n\t   */\n\t  zoomToObject: function zoomToObject(layerName, objectId) {\n\t    var _this4 = this;\n\t\n\t    var layerManager = this.getLayerManager();\n\t    var mapObject = layerManager.getObject(layerName, objectId);\n\t\n\t    if (mapObject) {\n\t      this.onceEventListener('mapviewchangeend', function () {\n\t\n\t        if (!layerManager.testIsPositionLayerName(layerName) || _this4.isAssetCategoryFilterEnabled()) {\n\t\n\t          layerManager.setObjectVisibility(layerName, objectId, true);\n\t        } else {\n\t\n\t          /*\r\n\t           * The implementation of the asset position\r\n\t           * objects without asset category filter (classic\r\n\t           * list) suggests partially showing/hiding them\r\n\t           * doesn't make sense: it is either you \"show or\r\n\t           * hide them _all_\". =)\r\n\t           */\n\t          layerManager.setAllObjectsVisibility(layerName, true);\n\t        }\n\t      });\n\t\n\t      if (_.isFunction(mapObject.getPosition)) {\n\t        var _mapObject$getPositio = mapObject.getPosition();\n\t\n\t        var lat = _mapObject$getPositio.lat;\n\t        var lng = _mapObject$getPositio.lng;\n\t\n\t        var preferredZoomLevel = _.parseInt(localStorage.getItem('SINGLE_ASSET_PREFERRED_ZOOM_LEVEL'));\n\t        var zoomLevel = preferredZoomLevel || 16;\n\t\n\t        this.panTo(lng, lat);\n\t        this.zoomToLevel(zoomLevel);\n\t      } else {\n\t        this.setBoundingBox(mapObject.getBounds());\n\t      }\n\t\n\t      if (_.isFunction(this.shake)) {\n\t        this.shake();\n\t      }\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  zoomToAll: function zoomToAll() {\n\t    throw new Error('.zoomToAll() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param lng\r\n\t   * @param lat\r\n\t   */\n\t  panTo: function panTo(lng, lat) {\n\t    this.setCenter({ lat: lat, lng: lng });\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param x\r\n\t   * @param y\r\n\t   */\n\t  panBy: function panBy(x, y) {\n\t    var s = this.geoToPixel(this.getCenter());\n\t    var px = {\n\t      x: s.x + x,\n\t      y: s.y + y\n\t    };\n\t\n\t    this.setCenter(this.pixelToGeo(px));\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  refresh: function refresh() {\n\t    throw new Error('.refresh() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  resize: function resize() {\n\t    throw new Error('.resize() method not implemented.');\n\t  },\n\t\n\t\n\t  /**\r\n\t   * The projection promise is fulfilled by default, but in Google\r\n\t   * Maps viewer, this is another story.\r\n\t   * @returns {*}\r\n\t   * @see web2/js/maps/viewers/googlemaps/viewer.js\r\n\t   */\n\t  resolveProjection: function resolveProjection() {\n\t    return $.Deferred().resolve().promise();\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param [directions]\r\n\t   */\n\t  print: function print(directions) {\n\t    var _this5 = this;\n\t\n\t    var _document = document;\n\t    var title = _document.title;\n\t\n\t    var body = $('body');\n\t    var backgroundColor = body.css('background-color');\n\t    var printContent = $(printTemplate);\n\t\n\t    document.title = this.getFriendlyName() + ' Print';\n\t\n\t    body.css('background-color', 'transparent').prepend(printContent);\n\t\n\t    var logo = $('.mp-logo');\n\t    var screenshot = $('.mp-screenshot');\n\t    var logoDefer = $.Deferred();\n\t    var directionsDefer = $.Deferred();\n\t\n\t    logo.attr('src', this.getLogo()).on('load error', function () {\n\t      return logoDefer.resolve();\n\t    });\n\t\n\t    if (directions) {\n\t      (function () {\n\t\n\t        _.forEach($('.mp-directions'), function (elem) {\n\t          var mapDirection = $(elem);\n\t          var compiled = _.template(_.unescape(mapDirection.html()));\n\t\n\t          mapDirection.html(compiled({\n\t            directions: directions\n\t          })).toggleClass('hidden', false);\n\t        });\n\t\n\t        var maneuverIcons = $('.mp-maneuver-icon');\n\t        var loadedIconsCount = 0;\n\t\n\t        _.forEach(maneuverIcons, function (elem) {\n\t          var maneuverIcon = $(elem);\n\t\n\t          maneuverIcon.attr('src', maneuverIcon.data('iconpath')).on('load error', function (e) {\n\t\n\t            if (e.type === 'error') {\n\t              $(_this5).remove();\n\t            }\n\t\n\t            loadedIconsCount = loadedIconsCount + 1;\n\t\n\t            if (loadedIconsCount === maneuverIcons.length) {\n\t              directionsDefer.resolve();\n\t            }\n\t          });\n\t        });\n\t      })();\n\t    } else {\n\t      directionsDefer.resolve();\n\t    }\n\t\n\t    $.when(logoDefer, directionsDefer).then(function () {\n\t      var mapCanvas = _this5.container;\n\t      var mapCanvasContainer = mapCanvas.parent();\n\t      var toggleExtensionsVisibility = function toggleExtensionsVisibility(visibility) {\n\t\n\t        _(_this5.getExtensions()).compact().forEach(function (extension) {\n\t          return extension.setVisible(visibility);\n\t        });\n\t      };\n\t\n\t      screenshot.height(mapCanvas.height()).append(mapCanvas);\n\t\n\t      toggleExtensionsVisibility(false);\n\t\n\t      /*\r\n\t       * Heads up this line below! Detaching main part of\r\n\t       * the document body, temporarily replace it by the\r\n\t       * print template, and attach it back after printing.\r\n\t       * An extreme approach for supporting IE. x\r\n\t       */\n\t      var content = body.children().not('script').not(printContent).detach();\n\t\n\t      /**\r\n\t       * Make Bootstrap like Google Maps a bit more when printing ;)\r\n\t       * @see http://stackoverflow.com/a/11742716/2013891\r\n\t       */\n\t      var patchedStyle = $('<style>').attr('media', 'print').text('\\n              img { max-width: none !important; }\\n              a[href]:after { content: \"\"; }\\n              ').appendTo('head');\n\t\n\t      window.print();\n\t\n\t      /*\r\n\t       * Revert document title, background color of the\r\n\t       * body, and the main content to its original state.\r\n\t       */\n\t      document.title = title;\n\t\n\t      body.css('background-color', backgroundColor).prepend(content);\n\t\n\t      mapCanvasContainer.prepend(mapCanvas);\n\t      toggleExtensionsVisibility(true);\n\t\n\t      printContent.remove();\n\t      patchedStyle.remove();\n\t    });\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @returns {boolean}\r\n\t   */\n\t  isModernBrowser: function isModernBrowser() {\n\t    var msIE = document.documentMode;\n\t    var evergreenBrowsers = !msIE;\n\t\n\t    /*\r\n\t     * The 'evergreen' browsers (non-IE):\r\n\t     * Chrome, Safari, Firefox and Opera.\r\n\t     */\n\t    return evergreenBrowsers || msIE >= 11;\n\t  }\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   * View\r\n\t   */\n\t  var controls = void 0;\n\t\n\t  /*\r\n\t   * Model managers.\r\n\t   */\n\t  var layerManager = _layerManager.LayerManager.create();\n\t  var animationManager = _animationManager.AnimationManager.create();\n\t  var editManager = _editManager.EditManager.create();\n\t  var routingManager = _routingManager.RoutingManager.create();\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var layerDataFetcher = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var singleAssetModeEnabled = false;\n\t  /*\r\n\t   *\r\n\t   */\n\t  var pollId = NaN;\n\t  /*\r\n\t   *\r\n\t   */\n\t  var autoLabelingActivated = false;\n\t\n\t  /**\r\n\t   * The scales for each zoom level.\r\n\t   * @see http://gis.stackexchange.com/questions/7430/what-ratio-scales-do-google-maps-zoom-levels-correspond-to\r\n\t   */\n\t  var scales = [591657550.500000, 295828775.300000, 147914387.600000, 73957193.820000, 36978596.910000, 18489298.450000, 9244649.227000, 4622324.614000, 2311162.307000, 1155581.153000, 577790.576700, 288895.288400, 144447.644200, 72223.822090, 36111.911040, 18055.955520, 9027.977761, 4513.988880, 2256.994440, 1128.497220];\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var dataSelectionOptions = {\n\t    latest: true,\n\t    from: undefined,\n\t    to: undefined\n\t  };\n\t\n\t  var presetIntervalActions = {\n\t    TODAY: function TODAY(min, max) {\n\t      min.setHours(0, 0, 0, 0);\n\t      max.setHours(23, 59, 0, 0);\n\t    },\n\t    YESTERDAY: function YESTERDAY(min, max) {\n\t      min.setDate(max.getDate() - 1);\n\t      min.setHours(0, 0, 0, 0);\n\t      max.setDate(max.getDate() - 1);\n\t      max.setHours(23, 59, 0, 0);\n\t    },\n\t    LAST_24H: function LAST_24H(min, max) {\n\t      min.setDate(max.getDate() - 1);\n\t    },\n\t    LAST_48H: function LAST_48H(min, max) {\n\t      min.setDate(max.getDate() - 2);\n\t    }\n\t  };\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var useClustersActivated = false;\n\t  var connectHistoryPositionsActivated = false;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var assetStatusFilters = [];\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var animationFeatureActivated = false;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var mapInfoBox = void 0;\n\t\n\t  /*\r\n\t   * Extensions.\r\n\t   */\n\t  var legend = void 0;\n\t  var dateRangeSlider = void 0;\n\t  var coordinatesDisplay = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t\n\t    getLayerManager: function getLayerManager() {\n\t      return layerManager;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getAnimationManager: function getAnimationManager() {\n\t      return animationManager;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getEditManager: function getEditManager() {\n\t      return editManager;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getRoutingManager: function getRoutingManager() {\n\t      return routingManager;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getControls: function getControls() {\n\t      return controls;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapControls\r\n\t     */\n\t    setControls: function setControls(mapControls) {\n\t      controls = mapControls;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param listener\r\n\t     */\n\t    setListener: function setListener(listener) {\n\t      instance.setControls(listener);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getLayerDataFetcher: function getLayerDataFetcher() {\n\t      return layerDataFetcher;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapLayerDataFetcher\r\n\t     */\n\t    setLayerDataFetcher: function setLayerDataFetcher(mapLayerDataFetcher) {\n\t      layerDataFetcher = mapLayerDataFetcher;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getMapInfoBox: function getMapInfoBox() {\n\t      return mapInfoBox;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    createMapInfoBox: function createMapInfoBox(options, onMapInfoBoxInitialized) {\n\t\n\t      if (!mapInfoBox) {\n\t        mapInfoBox = new widget.MapInfo(options, onMapInfoBoxInitialized);\n\t      } else {\n\t        mapInfoBox.init(options, onMapInfoBoxInitialized);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getLegend: function getLegend() {\n\t      return legend;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapLegend\r\n\t     */\n\t    setLegend: function setLegend(mapLegend) {\n\t      legend = mapLegend;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getDateRangeSlider: function getDateRangeSlider() {\n\t      return dateRangeSlider;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapDateRangeSlider\r\n\t     */\n\t    setDateRangeSlider: function setDateRangeSlider(mapDateRangeSlider) {\n\t      dateRangeSlider = mapDateRangeSlider;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getCoordinatesDisplay: function getCoordinatesDisplay() {\n\t      return coordinatesDisplay;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapCoordinatesDisplay\r\n\t     */\n\t    setCoordinatesDisplay: function setCoordinatesDisplay(mapCoordinatesDisplay) {\n\t      coordinatesDisplay = mapCoordinatesDisplay;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*[]}\r\n\t     */\n\t    getExtensions: function getExtensions() {\n\t      return [legend, dateRangeSlider, coordinatesDisplay];\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isSingleAssetModeEnabled: function isSingleAssetModeEnabled() {\n\t      return singleAssetModeEnabled;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param enabled\r\n\t     */\n\t    setSingleAssetModeEnabled: function setSingleAssetModeEnabled(enabled) {\n\t      singleAssetModeEnabled = enabled;\n\t\n\t      var positionLayerName = singleAssetModeEnabled ? ROAM_ASSETS_HISTORY : ROAM_ASSETS;\n\t\n\t      layerManager.setPositionLayerName(positionLayerName);\n\t\n\t      controls.onSingleAssetModeStatusChanged(enabled);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param viewBehavior\r\n\t     */\n\t    setViewBehavior: function setViewBehavior(_ref2) {\n\t      var autoRefresh = _ref2.autoRefresh;\n\t      var autoFocus = _ref2.autoFocus;\n\t      var rememberLastViewportEnabled = _ref2.rememberLastViewportEnabled;\n\t\n\t      instance.setAutoRefresh(autoRefresh);\n\t      instance.setAutoFocus(autoFocus);\n\t      instance.setRememberLastViewportEnabled(rememberLastViewportEnabled);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isAutoRefresh: function isAutoRefresh() {\n\t      return instance.autoRefresh;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    setAutoRefresh: function setAutoRefresh(activated) {\n\t      instance.autoRefresh = activated;\n\t\n\t      instance.setPollingActivated(activated);\n\t\n\t      controls.onAutoRefreshChanged(activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    setPollingActivated: function setPollingActivated(activated) {\n\t\n\t      if (activated) {\n\t\n\t        if (!_.isFinite(pollId)) {\n\t          pollId = setInterval(function () {\n\t            console.info('.polling()...');\n\t            controls.onPositionsFetchingRequested(true);\n\t          }, config.pollInterval);\n\t        }\n\t      } else {\n\t        clearInterval(pollId);\n\t        pollId = NaN;\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isAutoFocus: function isAutoFocus() {\n\t      return instance.autoFocus;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    setAutoFocus: function setAutoFocus(activated) {\n\t      instance.autoFocus = activated;\n\t\n\t      if (activated) {\n\t        instance.zoomToLayer(layerManager.getPositionLayerName());\n\t      }\n\t\n\t      controls.onAutoFocusChanged(activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isAutoLabelingActivated: function isAutoLabelingActivated() {\n\t      return autoLabelingActivated;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    setAutoLabelingActivated: function setAutoLabelingActivated(activated) {\n\t      autoLabelingActivated = activated;\n\t\n\t      _.forEach(layerManager.getLayers(), function (layer) {\n\t        return layerManager.setObjectLabelsVisibility(layer.name, layer.isLabelsVisible());\n\t      });\n\t\n\t      controls.onAutoLabelingStatusChanged(activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param enabled\r\n\t     */\n\t    setRememberLastViewportEnabled: function setRememberLastViewportEnabled(enabled) {\n\t      instance.rememberLastViewportEnabled = enabled;\n\t\n\t      if (enabled) {\n\t        instance.setBoundingBox(JSON.parse(localStorage.getItem('USER_BBOX')));\n\t      } else {\n\t        localStorage.removeItem('USER_BBOX');\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {number[]}\r\n\t     */\n\t    getScales: function getScales() {\n\t      return scales;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {{latest: boolean, from: null, to: null}}\r\n\t     */\n\t    getDataSelectionOptions: function getDataSelectionOptions() {\n\t      return dataSelectionOptions;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param options\r\n\t     */\n\t    updateDataSelectionOptions: function updateDataSelectionOptions(options) {\n\t      _.assign(dataSelectionOptions, options);\n\t\n\t      if (dateRangeSlider) {\n\t        dateRangeSlider.onDataSelectionOptionsChanged(dataSelectionOptions);\n\t      }\n\t\n\t      controls.onDataSelectionOptionsChanged(dataSelectionOptions);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param intervalRange\r\n\t     * @returns {string}\r\n\t     */\n\t    selectPresetInterval: function selectPresetInterval(intervalRange) {\n\t      var now = new Date(config.map.now());\n\t      var today = {\n\t        min: new Date(new Date(now).setHours(0, 0, 0, 0)),\n\t        max: new Date(new Date(now).setHours(23, 59, 0, 0))\n\t      };\n\t      var oneDay = 86400000;\n\t      var min = intervalRange.min;\n\t      var max = intervalRange.max;\n\t\n\t\n\t      var from = min;\n\t      var to = max;\n\t      var presetInterval = '-';\n\t\n\t      if (from.getTime() === today.min.getTime() && to.getTime() === today.max.getTime()) {\n\t\n\t        presetInterval = 'TODAY';\n\t      } else if (today.max - to === oneDay && today.min - from === oneDay) {\n\t\n\t        presetInterval = 'YESTERDAY';\n\t      } else if (to.getTime() === now.getTime() && to - from === oneDay) {\n\t\n\t        presetInterval = 'LAST_24H';\n\t      } else if (to.getTime() === now.getTime() && to - from === 2 * oneDay) {\n\t\n\t        presetInterval = 'LAST_48H';\n\t      }\n\t\n\t      return presetInterval;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param presetInterval\r\n\t     * @returns {{min: Date, max: Date}}\r\n\t     */\n\t    selectIntervalRange: function selectIntervalRange(presetInterval) {\n\t      var presetIntervalAction = presetIntervalActions[presetInterval];\n\t\n\t      if (!_.isFunction(presetIntervalAction)) {\n\t        throw new Error('Invalid preset interval: ' + presetInterval + '.');\n\t      }\n\t\n\t      var intervalRange = {\n\t        min: new Date(config.map.now()),\n\t        max: new Date(config.map.now())\n\t      };\n\t      var min = intervalRange.min;\n\t      var max = intervalRange.max;\n\t\n\t\n\t      presetIntervalAction(min, max);\n\t\n\t      return intervalRange;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    setUseClustersActivated: function setUseClustersActivated(activated) {\n\t      useClustersActivated = activated;\n\t\n\t      layerManager.setClusteringEnabled(layerManager.getPositionLayerName(), activated);\n\t\n\t      controls.onUseClustersStatusChanged(activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isConnectHistoryPositionsActivated: function isConnectHistoryPositionsActivated() {\n\t      return connectHistoryPositionsActivated;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    setConnectHistoryPositionsActivated: function setConnectHistoryPositionsActivated(activated) {\n\t      connectHistoryPositionsActivated = activated;\n\t\n\t      layerManager.setEventsConnectorVisibility(activated);\n\t\n\t      controls.onConnectHistoryPositionsStatusChanged(activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    getUniqueAssetStatusFiltersValues: function getUniqueAssetStatusFiltersValues() {\n\t\n\t      return _(layerManager.getObjectsByLayer(layerManager.getPositionLayerName())).map('roamObject')\n\t\n\t      //.map('assetStatus')\n\t      /*\r\n\t       * Future-proofing (@see: `onAssetStatusFiltersChanged()`\r\n\t       * method in `controller.js`). And, btw, wow, the\r\n\t       * `flatMap()` method from lodash is smart enough!\r\n\t       */\n\t      .flatMap('assetStatus').uniq().sortBy().value();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {Array}\r\n\t     */\n\t    getSelectedAssetStatusFilters: function getSelectedAssetStatusFilters() {\n\t      return assetStatusFilters;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param selectedFilters\r\n\t     */\n\t    setSelectedAssetStatusFilters: function setSelectedAssetStatusFilters(selectedFilters) {\n\t      assetStatusFilters = selectedFilters;\n\t\n\t      controls.onAssetStatusFiltersChanged(selectedFilters);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isAnimationFeatureActivated: function isAnimationFeatureActivated() {\n\t      return animationFeatureActivated;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    setAnimationFeatureActivated: function setAnimationFeatureActivated(activated) {\n\t      animationFeatureActivated = activated;\n\t\n\t      if (activated) {\n\t        animationManager.loadAnimationObjects();\n\t      }\n\t\n\t      controls.onAnimationFeatureStatusChanged(activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isAssetCategoryFilterEnabled: function isAssetCategoryFilterEnabled() {\n\t      return config.map.assetCategoryFilter && !instance.isSingleAssetModeEnabled();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @returns {boolean|*}\r\n\t     */\n\t    testIsAssetConfigurationFilterEnabled: function testIsAssetConfigurationFilterEnabled(layerName) {\n\t      return _app2.default.config.map.assetConfigurationFilter && !this.isSingleAssetModeEnabled() && layerManager.testIsPositionLayerName(layerName);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isAssetStatusFiltersEnabled: function isAssetStatusFiltersEnabled() {\n\t      return _app2.default.config.map.assetStatusFilters && !this.isSingleAssetModeEnabled();\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t\n\t  /* region init code */\n\t\n\t  layerManager.setViewer(instance);\n\t  animationManager.setViewer(instance);\n\t  editManager.setViewer(instance);\n\t  routingManager.setViewer(instance);\n\t\n\t  /* endregion init code */\n\t});\n\t\n\texports.default = Viewer;\n\texports.Viewer = Viewer;\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// false -> Array#indexOf\n\t// true  -> Array#includes\n\tvar toIObject = __webpack_require__(14),\n\t    toLength = __webpack_require__(10),\n\t    toIndex = __webpack_require__(32);\n\tmodule.exports = function (IS_INCLUDES) {\n\t  return function ($this, el, fromIndex) {\n\t    var O = toIObject($this),\n\t        length = toLength(O.length),\n\t        index = toIndex(fromIndex, length),\n\t        value;\n\t    // Array#includes uses SameValueZero equality algorithm\n\t    if (IS_INCLUDES && el != el) while (length > index) {\n\t      value = O[index++];\n\t      if (value != value) return true;\n\t      // Array#toIndex ignores holes, Array#includes - not\n\t    } else for (; length > index; index++) {\n\t        if (IS_INCLUDES || index in O) {\n\t          if (O[index] === el) return IS_INCLUDES || index;\n\t        }\n\t      }return !IS_INCLUDES && -1;\n\t  };\n\t};\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar $ = __webpack_require__(2),\n\t    hide = __webpack_require__(18),\n\t    redefineAll = __webpack_require__(44),\n\t    ctx = __webpack_require__(16),\n\t    strictNew = __webpack_require__(46),\n\t    defined = __webpack_require__(17),\n\t    forOf = __webpack_require__(29),\n\t    $iterDefine = __webpack_require__(50),\n\t    step = __webpack_require__(76),\n\t    ID = __webpack_require__(26)('id'),\n\t    $has = __webpack_require__(9),\n\t    isObject = __webpack_require__(3),\n\t    setSpecies = __webpack_require__(45),\n\t    DESCRIPTORS = __webpack_require__(11),\n\t    isExtensible = Object.isExtensible || isObject,\n\t    SIZE = DESCRIPTORS ? '_s' : 'size',\n\t    id = 0;\n\t\n\tvar fastKey = function fastKey(it, create) {\n\t  // return primitive with prefix\n\t  if (!isObject(it)) return (typeof it === 'undefined' ? 'undefined' : _typeof(it)) == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n\t  if (!$has(it, ID)) {\n\t    // can't set id to frozen object\n\t    if (!isExtensible(it)) return 'F';\n\t    // not necessary to add id\n\t    if (!create) return 'E';\n\t    // add missing object id\n\t    hide(it, ID, ++id);\n\t    // return object id with prefix\n\t  }return 'O' + it[ID];\n\t};\n\t\n\tvar getEntry = function getEntry(that, key) {\n\t  // fast case\n\t  var index = fastKey(key),\n\t      entry;\n\t  if (index !== 'F') return that._i[index];\n\t  // frozen object case\n\t  for (entry = that._f; entry; entry = entry.n) {\n\t    if (entry.k == key) return entry;\n\t  }\n\t};\n\t\n\tmodule.exports = {\n\t  getConstructor: function getConstructor(wrapper, NAME, IS_MAP, ADDER) {\n\t    var C = wrapper(function (that, iterable) {\n\t      strictNew(that, C, NAME);\n\t      that._i = $.create(null); // index\n\t      that._f = undefined; // first entry\n\t      that._l = undefined; // last entry\n\t      that[SIZE] = 0; // size\n\t      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n\t    });\n\t    redefineAll(C.prototype, {\n\t      // 23.1.3.1 Map.prototype.clear()\n\t      // 23.2.3.2 Set.prototype.clear()\n\t      clear: function clear() {\n\t        for (var that = this, data = that._i, entry = that._f; entry; entry = entry.n) {\n\t          entry.r = true;\n\t          if (entry.p) entry.p = entry.p.n = undefined;\n\t          delete data[entry.i];\n\t        }\n\t        that._f = that._l = undefined;\n\t        that[SIZE] = 0;\n\t      },\n\t      // 23.1.3.3 Map.prototype.delete(key)\n\t      // 23.2.3.4 Set.prototype.delete(value)\n\t      'delete': function _delete(key) {\n\t        var that = this,\n\t            entry = getEntry(that, key);\n\t        if (entry) {\n\t          var next = entry.n,\n\t              prev = entry.p;\n\t          delete that._i[entry.i];\n\t          entry.r = true;\n\t          if (prev) prev.n = next;\n\t          if (next) next.p = prev;\n\t          if (that._f == entry) that._f = next;\n\t          if (that._l == entry) that._l = prev;\n\t          that[SIZE]--;\n\t        }return !!entry;\n\t      },\n\t      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n\t      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n\t      forEach: function forEach(callbackfn /*, that = undefined */) {\n\t        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3),\n\t            entry;\n\t        while (entry = entry ? entry.n : this._f) {\n\t          f(entry.v, entry.k, this);\n\t          // revert to the last existing entry\n\t          while (entry && entry.r) {\n\t            entry = entry.p;\n\t          }\n\t        }\n\t      },\n\t      // 23.1.3.7 Map.prototype.has(key)\n\t      // 23.2.3.7 Set.prototype.has(value)\n\t      has: function has(key) {\n\t        return !!getEntry(this, key);\n\t      }\n\t    });\n\t    if (DESCRIPTORS) $.setDesc(C.prototype, 'size', {\n\t      get: function get() {\n\t        return defined(this[SIZE]);\n\t      }\n\t    });\n\t    return C;\n\t  },\n\t  def: function def(that, key, value) {\n\t    var entry = getEntry(that, key),\n\t        prev,\n\t        index;\n\t    // change existing entry\n\t    if (entry) {\n\t      entry.v = value;\n\t      // create new entry\n\t    } else {\n\t        that._l = entry = {\n\t          i: index = fastKey(key, true), // <- index\n\t          k: key, // <- key\n\t          v: value, // <- value\n\t          p: prev = that._l, // <- previous entry\n\t          n: undefined, // <- next entry\n\t          r: false // <- removed\n\t        };\n\t        if (!that._f) that._f = entry;\n\t        if (prev) prev.n = entry;\n\t        that[SIZE]++;\n\t        // add to index\n\t        if (index !== 'F') that._i[index] = entry;\n\t      }return that;\n\t  },\n\t  getEntry: getEntry,\n\t  setStrong: function setStrong(C, NAME, IS_MAP) {\n\t    // add .keys, .values, .entries, [@@iterator]\n\t    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n\t    $iterDefine(C, NAME, function (iterated, kind) {\n\t      this._t = iterated; // target\n\t      this._k = kind; // kind\n\t      this._l = undefined; // previous\n\t    }, function () {\n\t      var that = this,\n\t          kind = that._k,\n\t          entry = that._l;\n\t      // revert to the last existing entry\n\t      while (entry && entry.r) {\n\t        entry = entry.p;\n\t      } // get next entry\n\t      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n\t        // or finish the iteration\n\t        that._t = undefined;\n\t        return step(1);\n\t      }\n\t      // return step by kind\n\t      if (kind == 'keys') return step(0, entry.k);\n\t      if (kind == 'values') return step(0, entry.v);\n\t      return step(0, [entry.k, entry.v]);\n\t    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\t\n\t    // add [@@species], 23.1.2.2, 23.2.2.2\n\t    setSpecies(NAME);\n\t  }\n\t};\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// https://github.com/DavidBruant/Map-Set.prototype.toJSON\n\tvar forOf = __webpack_require__(29),\n\t    classof = __webpack_require__(39);\n\tmodule.exports = function (NAME) {\n\t  return function toJSON() {\n\t    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n\t    var arr = [];\n\t    forOf(this, false, arr.push, arr);\n\t    return arr;\n\t  };\n\t};\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar hide = __webpack_require__(18),\n\t    redefineAll = __webpack_require__(44),\n\t    anObject = __webpack_require__(4),\n\t    isObject = __webpack_require__(3),\n\t    strictNew = __webpack_require__(46),\n\t    forOf = __webpack_require__(29),\n\t    createArrayMethod = __webpack_require__(38),\n\t    $has = __webpack_require__(9),\n\t    WEAK = __webpack_require__(26)('weak'),\n\t    isExtensible = Object.isExtensible || isObject,\n\t    arrayFind = createArrayMethod(5),\n\t    arrayFindIndex = createArrayMethod(6),\n\t    id = 0;\n\t\n\t// fallback for frozen keys\n\tvar frozenStore = function frozenStore(that) {\n\t  return that._l || (that._l = new FrozenStore());\n\t};\n\tvar FrozenStore = function FrozenStore() {\n\t  this.a = [];\n\t};\n\tvar findFrozen = function findFrozen(store, key) {\n\t  return arrayFind(store.a, function (it) {\n\t    return it[0] === key;\n\t  });\n\t};\n\tFrozenStore.prototype = {\n\t  get: function get(key) {\n\t    var entry = findFrozen(this, key);\n\t    if (entry) return entry[1];\n\t  },\n\t  has: function has(key) {\n\t    return !!findFrozen(this, key);\n\t  },\n\t  set: function set(key, value) {\n\t    var entry = findFrozen(this, key);\n\t    if (entry) entry[1] = value;else this.a.push([key, value]);\n\t  },\n\t  'delete': function _delete(key) {\n\t    var index = arrayFindIndex(this.a, function (it) {\n\t      return it[0] === key;\n\t    });\n\t    if (~index) this.a.splice(index, 1);\n\t    return !! ~index;\n\t  }\n\t};\n\t\n\tmodule.exports = {\n\t  getConstructor: function getConstructor(wrapper, NAME, IS_MAP, ADDER) {\n\t    var C = wrapper(function (that, iterable) {\n\t      strictNew(that, C, NAME);\n\t      that._i = id++; // collection id\n\t      that._l = undefined; // leak store for frozen objects\n\t      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n\t    });\n\t    redefineAll(C.prototype, {\n\t      // 23.3.3.2 WeakMap.prototype.delete(key)\n\t      // 23.4.3.3 WeakSet.prototype.delete(value)\n\t      'delete': function _delete(key) {\n\t        if (!isObject(key)) return false;\n\t        if (!isExtensible(key)) return frozenStore(this)['delete'](key);\n\t        return $has(key, WEAK) && $has(key[WEAK], this._i) && delete key[WEAK][this._i];\n\t      },\n\t      // 23.3.3.4 WeakMap.prototype.has(key)\n\t      // 23.4.3.4 WeakSet.prototype.has(value)\n\t      has: function has(key) {\n\t        if (!isObject(key)) return false;\n\t        if (!isExtensible(key)) return frozenStore(this).has(key);\n\t        return $has(key, WEAK) && $has(key[WEAK], this._i);\n\t      }\n\t    });\n\t    return C;\n\t  },\n\t  def: function def(that, key, value) {\n\t    if (!isExtensible(anObject(key))) {\n\t      frozenStore(that).set(key, value);\n\t    } else {\n\t      $has(key, WEAK) || hide(key, WEAK, {});\n\t      key[WEAK][that._i] = value;\n\t    }return that;\n\t  },\n\t  frozenStore: frozenStore,\n\t  WEAK: WEAK\n\t};\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isObject = __webpack_require__(3),\n\t    document = __webpack_require__(6).document\n\t// in old IE typeof document.createElement is 'object'\n\t,\n\t    is = isObject(document) && isObject(document.createElement);\n\tmodule.exports = function (it) {\n\t  return is ? document.createElement(it) : {};\n\t};\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// 21.2.5.3 get RegExp.prototype.flags\n\t\n\tvar anObject = __webpack_require__(4);\n\tmodule.exports = function () {\n\t  var that = anObject(this),\n\t      result = '';\n\t  if (that.global) result += 'g';\n\t  if (that.ignoreCase) result += 'i';\n\t  if (that.multiline) result += 'm';\n\t  if (that.unicode) result += 'u';\n\t  if (that.sticky) result += 'y';\n\t  return result;\n\t};\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\tvar toIObject = __webpack_require__(14),\n\t    getNames = __webpack_require__(2).getNames,\n\t    toString = {}.toString;\n\t\n\tvar windowNames = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) == 'object' && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n\t\n\tvar getWindowNames = function getWindowNames(it) {\n\t  try {\n\t    return getNames(it);\n\t  } catch (e) {\n\t    return windowNames.slice();\n\t  }\n\t};\n\t\n\tmodule.exports.get = function getOwnPropertyNames(it) {\n\t  if (windowNames && toString.call(it) == '[object Window]') return getWindowNames(it);\n\t  return getNames(toIObject(it));\n\t};\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(6).document && document.documentElement;\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// check on default Array iterator\n\tvar Iterators = __webpack_require__(30),\n\t    ITERATOR = __webpack_require__(5)('iterator'),\n\t    ArrayProto = Array.prototype;\n\t\n\tmodule.exports = function (it) {\n\t  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n\t};\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.3 Number.isInteger(number)\n\tvar isObject = __webpack_require__(3),\n\t    floor = Math.floor;\n\tmodule.exports = function isInteger(it) {\n\t  return !isObject(it) && isFinite(it) && floor(it) === it;\n\t};\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 7.2.8 IsRegExp(argument)\n\tvar isObject = __webpack_require__(3),\n\t    cof = __webpack_require__(19),\n\t    MATCH = __webpack_require__(5)('match');\n\tmodule.exports = function (it) {\n\t  var isRegExp;\n\t  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n\t};\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// call something on iterator step with safe closing on error\n\tvar anObject = __webpack_require__(4);\n\tmodule.exports = function (iterator, fn, value, entries) {\n\t  try {\n\t    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n\t    // 7.4.6 IteratorClose(iterator, completion)\n\t  } catch (e) {\n\t    var ret = iterator['return'];\n\t    if (ret !== undefined) anObject(ret.call(iterator));\n\t    throw e;\n\t  }\n\t};\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    descriptor = __webpack_require__(22),\n\t    setToStringTag = __webpack_require__(31),\n\t    IteratorPrototype = {};\n\t\n\t// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\t__webpack_require__(18)(IteratorPrototype, __webpack_require__(5)('iterator'), function () {\n\t  return this;\n\t});\n\t\n\tmodule.exports = function (Constructor, NAME, next) {\n\t  Constructor.prototype = $.create(IteratorPrototype, { next: descriptor(1, next) });\n\t  setToStringTag(Constructor, NAME + ' Iterator');\n\t};\n\n/***/ },\n/* 76 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (done, value) {\n\t  return { value: value, done: !!done };\n\t};\n\n/***/ },\n/* 77 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// 20.2.2.20 Math.log1p(x)\n\tmodule.exports = Math.log1p || function log1p(x) {\n\t  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n\t};\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    toIObject = __webpack_require__(14),\n\t    isEnum = $.isEnum;\n\tmodule.exports = function (isEntries) {\n\t  return function (it) {\n\t    var O = toIObject(it),\n\t        keys = $.getKeys(O),\n\t        length = keys.length,\n\t        i = 0,\n\t        result = [],\n\t        key;\n\t    while (length > i) {\n\t      if (isEnum.call(O, key = keys[i++])) {\n\t        result.push(isEntries ? [key, O[key]] : O[key]);\n\t      }\n\t    }return result;\n\t  };\n\t};\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// all object keys, includes non-enumerable and symbols\n\tvar $ = __webpack_require__(2),\n\t    anObject = __webpack_require__(4),\n\t    Reflect = __webpack_require__(6).Reflect;\n\tmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n\t  var keys = $.getNames(anObject(it)),\n\t      getSymbols = $.getSymbols;\n\t  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n\t};\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// 7.2.9 SameValue(x, y)\n\tmodule.exports = Object.is || function is(x, y) {\n\t  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n\t};\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar global = __webpack_require__(6),\n\t    SHARED = '__core-js_shared__',\n\t    store = global[SHARED] || (global[SHARED] = {});\n\tmodule.exports = function (key) {\n\t  return store[key] || (store[key] = {});\n\t};\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// https://github.com/ljharb/proposal-string-pad-left-right\n\tvar toLength = __webpack_require__(10),\n\t    repeat = __webpack_require__(83),\n\t    defined = __webpack_require__(17);\n\t\n\tmodule.exports = function (that, maxLength, fillString, left) {\n\t  var S = String(defined(that)),\n\t      stringLength = S.length,\n\t      fillStr = fillString === undefined ? ' ' : String(fillString),\n\t      intMaxLength = toLength(maxLength);\n\t  if (intMaxLength <= stringLength) return S;\n\t  if (fillStr == '') fillStr = ' ';\n\t  var fillLen = intMaxLength - stringLength,\n\t      stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n\t  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n\t  return left ? stringFiller + S : S + stringFiller;\n\t};\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar toInteger = __webpack_require__(33),\n\t    defined = __webpack_require__(17);\n\t\n\tmodule.exports = function repeat(count) {\n\t  var str = String(defined(this)),\n\t      res = '',\n\t      n = toInteger(count);\n\t  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n\t  for (; n > 0; (n >>>= 1) && (str += str)) {\n\t    if (n & 1) res += str;\n\t  }return res;\n\t};\n\n/***/ },\n/* 84 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ctx = __webpack_require__(16),\n\t    invoke = __webpack_require__(42),\n\t    html = __webpack_require__(70),\n\t    cel = __webpack_require__(67),\n\t    global = __webpack_require__(6),\n\t    process = global.process,\n\t    setTask = global.setImmediate,\n\t    clearTask = global.clearImmediate,\n\t    MessageChannel = global.MessageChannel,\n\t    counter = 0,\n\t    queue = {},\n\t    ONREADYSTATECHANGE = 'onreadystatechange',\n\t    defer,\n\t    channel,\n\t    port;\n\tvar run = function run() {\n\t  var id = +this;\n\t  if (queue.hasOwnProperty(id)) {\n\t    var fn = queue[id];\n\t    delete queue[id];\n\t    fn();\n\t  }\n\t};\n\tvar listner = function listner(event) {\n\t  run.call(event.data);\n\t};\n\t// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n\tif (!setTask || !clearTask) {\n\t  setTask = function setImmediate(fn) {\n\t    var args = [],\n\t        i = 1;\n\t    while (arguments.length > i) {\n\t      args.push(arguments[i++]);\n\t    }queue[++counter] = function () {\n\t      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n\t    };\n\t    defer(counter);\n\t    return counter;\n\t  };\n\t  clearTask = function clearImmediate(id) {\n\t    delete queue[id];\n\t  };\n\t  // Node.js 0.8-\n\t  if (__webpack_require__(19)(process) == 'process') {\n\t    defer = function defer(id) {\n\t      process.nextTick(ctx(run, id, 1));\n\t    };\n\t    // Browsers with MessageChannel, includes WebWorkers\n\t  } else if (MessageChannel) {\n\t      channel = new MessageChannel();\n\t      port = channel.port2;\n\t      channel.port1.onmessage = listner;\n\t      defer = ctx(port.postMessage, port, 1);\n\t      // Browsers with postMessage, skip WebWorkers\n\t      // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n\t    } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n\t        defer = function defer(id) {\n\t          global.postMessage(id + '', '*');\n\t        };\n\t        global.addEventListener('message', listner, false);\n\t        // IE8-\n\t      } else if (ONREADYSTATECHANGE in cel('script')) {\n\t          defer = function defer(id) {\n\t            html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n\t              html.removeChild(this);\n\t              run.call(id);\n\t            };\n\t          };\n\t          // Rest old browsers\n\t        } else {\n\t            defer = function defer(id) {\n\t              setTimeout(ctx(run, id, 1), 0);\n\t            };\n\t          }\n\t}\n\tmodule.exports = {\n\t  set: setTask,\n\t  clear: clearTask\n\t};\n\n/***/ },\n/* 85 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar classof = __webpack_require__(39),\n\t    ITERATOR = __webpack_require__(5)('iterator'),\n\t    Iterators = __webpack_require__(30);\n\tmodule.exports = __webpack_require__(20).getIteratorMethod = function (it) {\n\t  if (it != undefined) return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];\n\t};\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar addToUnscopables = __webpack_require__(25),\n\t    step = __webpack_require__(76),\n\t    Iterators = __webpack_require__(30),\n\t    toIObject = __webpack_require__(14);\n\t\n\t// 22.1.3.4 Array.prototype.entries()\n\t// 22.1.3.13 Array.prototype.keys()\n\t// 22.1.3.29 Array.prototype.values()\n\t// 22.1.3.30 Array.prototype[@@iterator]()\n\tmodule.exports = __webpack_require__(50)(Array, 'Array', function (iterated, kind) {\n\t  this._t = toIObject(iterated); // target\n\t  this._i = 0; // next index\n\t  this._k = kind; // kind\n\t  // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n\t}, function () {\n\t  var O = this._t,\n\t      kind = this._k,\n\t      index = this._i++;\n\t  if (!O || index >= O.length) {\n\t    this._t = undefined;\n\t    return step(1);\n\t  }\n\t  if (kind == 'keys') return step(0, index);\n\t  if (kind == 'values') return step(0, O[index]);\n\t  return step(0, [index, O[index]]);\n\t}, 'values');\n\t\n\t// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n\tIterators.Arguments = Iterators.Array;\n\t\n\taddToUnscopables('keys');\n\taddToUnscopables('values');\n\taddToUnscopables('entries');\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Controller = exports.default = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Created by Glenn on 2014-11-10.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _project = __webpack_require__(27);\n\t\n\tvar _debugger = __webpack_require__(36);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar util = _app2.default.util;\n\tvar config = _app2.default.config;\n\t\n\tvar layersConfig = _project.project.roamLayers;\n\tvar serviceUrls = _project.project.serviceUrls;\n\t\n\t/*\r\n\t * Let's go for the \"fat models, skinny controllers\" approach, meaning\r\n\t * \"the Controller\" gets whittled down to simple router; it listens to\r\n\t * the view and instructs the model to update its state. It handles any\r\n\t * errors thrown by the model, while domain logic and validations get\r\n\t * largely shifted to the model. The controller also acts as a service\r\n\t * layer for accessing the backend via jQuery.ajax().\r\n\t */\n\t\n\tvar Controller = stampit().props({\n\t\n\t  /**\r\n\t   * View\r\n\t   */\n\t  controls: undefined,\n\t  /**\r\n\t   * Model\r\n\t   */\n\t  viewer: undefined\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t  var controls = instance.controls;\n\t  var viewer = instance.viewer;\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param customErrorMessage\r\n\t     * @param e\r\n\t     */\n\t\n\t    logError: function logError(customErrorMessage, e) {\n\t      console.error(customErrorMessage + ' > ' + e.stack);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param options\r\n\t     * @param onMapReady\r\n\t     */\n\t    onMapMvcComponentsInitialized: function onMapMvcComponentsInitialized(options, onMapReady) {\n\t      var layerDataFetcher = viewer.getLayerDataFetcher();\n\t      var layerManager = viewer.getLayerManager();\n\t      var initRoamLayers = function initRoamLayers() {\n\t\n\t        /*\r\n\t         * Load asset position layer that matches\r\n\t         * the map viewer mode, and all other\r\n\t         * non-asset position layers (loading order is\r\n\t         * not guaranteed):\r\n\t         * - ROAM_ASSETS OR ROAM_ASSETS_HISTORY,\r\n\t         * - ROAM_LOCATIONS,\r\n\t         * - ROAM_GEOFENCES,\r\n\t         * - ROAM_ASSETS_ANIMATION.\r\n\t         */\n\t        _.forEach(layerDataFetcher.getWorkingLayersProperties(), function (layerProps) {\n\t          return layerManager.addLayer(layerProps);\n\t        });\n\t\n\t        var requestPromises = layerDataFetcher.getRequestPromises();\n\t        var rqPromiseLen = requestPromises.length;\n\t        var doneRqPromiseCount = 0;\n\t        var layersDataDefer = $.Deferred();\n\t\n\t        _.forEach(requestPromises, function (requestPromise) {\n\t\n\t          /**\r\n\t           * Possibility of multi-threading\r\n\t           * (parallel execution of code) for\r\n\t           * loading asset position, location,\r\n\t           * and geofence objects. Unfortunately\r\n\t           * JS will remain single-threaded\r\n\t           * for the moment (\"web workers\"\r\n\t           * is not stable yet).\r\n\t           * @see https://github.com/caolan/async#paralleltasks-callback\r\n\t           * @see http://codersblock.com/blog/multi-threaded-javascript-with-web-workers/\r\n\t           */\n\t          requestPromise.done(function (data, textStatus, jqXHR) {\n\t\n\t            if (doneRqPromiseCount === 0) {\n\t              _debugger.mapsDebugger.time('Map data loading time');\n\t            }\n\t\n\t            data.dataType = jqXHR.dataType;\n\t            instance.onObjectsDataFetchingSucceeded(data);\n\t\n\t            doneRqPromiseCount = doneRqPromiseCount + 1;\n\t\n\t            if (doneRqPromiseCount === rqPromiseLen) {\n\t              _debugger.mapsDebugger.timeEnd('Map data loading time');\n\t              layersDataDefer.resolve();\n\t            }\n\t          });\n\t        });\n\t\n\t        return layersDataDefer.promise();\n\t      };\n\t\n\t      var initMapViewerDefaultState = function initMapViewerDefaultState() {\n\t        _debugger.mapsDebugger.time('Map default state initialization time');\n\t\n\t        /* region Map view panel */\n\t\n\t        var autoRefresh = options.autoRefresh;\n\t        var autoFocus = options.autoFocus;\n\t        var rememberLastViewportEnabled = options.rememberLastViewportEnabled;\n\t\n\t        viewer.setViewBehavior({\n\t          autoRefresh: autoRefresh,\n\t          autoFocus: autoFocus,\n\t          rememberLastViewportEnabled: rememberLastViewportEnabled\n\t        });\n\t\n\t        controls.setAutoLabelingCheckboxHidden(config.map.autoLabelingCheckboxHidden);\n\t\n\t        /* endregion Map view panel */\n\t\n\t        /* region Intervals panel */\n\t\n\t        /**\r\n\t         * A global injection function for adjusting\r\n\t         * the \"now\" time reference based on current\r\n\t         * user's timezone setting.\r\n\t         *\r\n\t         * The reason why it is put here instead in the\r\n\t         * `defaults` is rather related to \"some\" backend\r\n\t         * reason.\r\n\t         * @returns {Date}\r\n\t         */\n\t        _app2.default.config.map.now = function () {\n\t          var originalNow = config.map.originalNow;\n\t          var utcNow = new Date(originalNow.getTime() + originalNow.getTimezoneOffset() * 60000);\n\t\n\t          return util.dateFromGMT(utcNow);\n\t        };\n\t\n\t        var today = viewer.selectIntervalRange('TODAY');\n\t        var tomorrow = {\n\t\n\t          /*\r\n\t           * tomorrow.min = tomorrow 12:00 AM\r\n\t           * (12 midnight).\r\n\t           */\n\t          min: new Date(new Date(today.min).setDate(today.min.getDate() + 1))\n\t        };\n\t        var last24H = viewer.selectIntervalRange('LAST_24H');\n\t\n\t        controls.setDateTimePickerMaxDate(tomorrow.min);\n\t        viewer.updateDataSelectionOptions({\n\t          latest: true,\n\t          from: last24H.min,\n\t          to: last24H.max\n\t        });\n\t\n\t        /* endregion Intervals panel */\n\t\n\t        /* region Navigation panel */\n\t\n\t        var viewerName = viewer.name;\n\t        var positionLayerConfig = layersConfig[layerManager.getPositionLayerName()];\n\t        var useClustersActivated = positionLayerConfig.clusteringSupported;\n\t\n\t        /*\r\n\t         * Enable use clusters option to `false` depending\r\n\t         * on the viewer name property that comes from\r\n\t         * the server. Should match strings like:\r\n\t         * \"HereMapsNoClusters\", \"HereMapsNo_Clusters\",\r\n\t         * \"HereMapsNo-Clusters\", \"GoogleMapsV3_No_Clusters\",\r\n\t         * and all that.\r\n\t         */\n\t        var noClustersRegex = /no([^A-Za-z0-9])?cluster/i;\n\t\n\t        if (viewerName && viewerName.match(noClustersRegex)) {\n\t          useClustersActivated = false;\n\t        }\n\t\n\t        /*\r\n\t         * As you can see, this is why I differentiate\r\n\t         * between the jargon \"enabled\" and \"activated\".\r\n\t         */\n\t        controls.setUseClustersCheckboxEnabled(useClustersActivated);\n\t        viewer.setUseClustersActivated(useClustersActivated);\n\t\n\t        ///*\n\t        // * TODO: TO BE REMOVED ONCE THE BACKEND IS READY.\n\t        // * Currently served as simulation for randomly assigning\n\t        // * asset status to `assetmessageevent` object.\n\t        // */\n\t        //const assetStatuses = ['Loaded', 'Unloaded', 'Unknown'];\n\t        //const lm            = layerManager;\n\t        //\n\t        //_(lm.getObjectsByLayer(lm.getPositionLayerName()))\n\t        //    .map('roamObject')\n\t        //    .forEach(roamObject => roamObject.assetStatus = _.sample(assetStatuses));\n\t\n\t        //controls.setAssetStatusFiltersVisible(App.config.map.assetStatusFilters);\n\t\n\t        controls.setAssetStatusFiltersValues(viewer.getUniqueAssetStatusFiltersValues());\n\t\n\t        /* endregion Navigation panel */\n\t\n\t        /*\r\n\t         * \"Current object\" [sic.], a term that can only\r\n\t         * be understood in non-asset related map realm.\r\n\t         * It is considering the fact that objects like\r\n\t         * locations or geofences can have a map, too.\r\n\t         */\n\t        var currentObject = viewer.currentObject;\n\t\n\t\n\t        if (currentObject) {\n\t          var _domainObjectType = currentObject.domainObjectType;\n\t          var domainObjectTypeId = currentObject.domainObjectTypeId;\n\t\n\t          var layerName = layerManager.getLayerName(_domainObjectType);\n\t\n\t          layerManager.addObject(layerName, currentObject);\n\t          viewer.zoomToObject(layerName, domainObjectTypeId);\n\t        }\n\t\n\t        var domainObjectType = viewer.domainObjectType;\n\t        var domainObjectId = viewer.domainObjectId;\n\t\n\t\n\t        return $.ajax({\n\t          url: '' + config.serviceUrl + serviceUrls.locationConfig.read,\n\t          data: {\n\t            domainObjectType: domainObjectType,\n\t            domainObjectId: domainObjectId\n\t          },\n\t\n\t          success: function success(data) {\n\t            controls.setLocationConfigNames(_.map(data.data, function (locationType) {\n\t              return {\n\t                text: locationType,\n\t                value: locationType\n\t              };\n\t            }));\n\t            _debugger.mapsDebugger.timeEnd('Map default state initialization time');\n\t          }\n\t        });\n\t      };\n\t\n\t      try {\n\t\n\t        /*\r\n\t         * Adjust map viewer mode (multi-/single- asset).\r\n\t         * Customer, asset group, location, geofence type\r\n\t         * falls into multi-asset category.\r\n\t         */\n\t        viewer.setSingleAssetModeEnabled(layerDataFetcher.testIsSingleAssetModeEnabled(viewer.domainObjectType));\n\t\n\t        /**\r\n\t         * Promises, promises.\r\n\t         * @see https://spring.io/understanding/javascript-promises\r\n\t         * @see http://api.jquery.com/Types/#Promise\r\n\t         * @see http://api.jquery.com/deferred.promise/\r\n\t         */\n\t        viewer.resolveProjection().then(initRoamLayers, function (jqXHR, textStatus, errorThrown) {\n\t          return logError('Error resolving map projection.', new Error(errorThrown));\n\t        }).then(initMapViewerDefaultState, function (jqXHR, textStatus, errorThrown) {\n\t          return logError('Error initializing ROAM layers.', new Error(errorThrown));\n\t        }).then(onMapReady, function (jqXHR, textStatus, errorThrown) {\n\t          return logError('Error initializing default state of map viewer.', new Error(errorThrown));\n\t        });\n\t      } catch (e) {\n\t        logError('Error initializing map.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param data\r\n\t     */\n\t    onObjectsDataFetchingSucceeded: function onObjectsDataFetchingSucceeded(data) {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      try {\n\t        var dataType = data.dataType;\n\t        var latestPositionEventId = data.latestPositionEventId;\n\t        var currentObject = data.currentObject;\n\t\n\t        var layerName = layerManager.getLayerName(dataType);\n\t        var objects = data.data;\n\t\n\t        if (latestPositionEventId) {\n\t          layerManager.markLatestPositionRoamObject(objects, latestPositionEventId);\n\t        }\n\t\n\t        layerManager.loadObjects(dataType, objects);\n\t        layerManager.setAllObjectsVisibility(layerName, layerManager.getLayerVisibility(layerName));\n\t\n\t        if (viewer.isAutoFocus() && layerManager.testIsPositionLayerName(layerName)) {\n\t\n\t          if (objects.length === 1) {\n\t            viewer.zoomToObject(layerName, _.first(objects).domainObjectTypeId);\n\t          } else {\n\t            viewer.zoomToLayer(layerName);\n\t          }\n\t        }\n\t\n\t        if (currentObject) {\n\t          viewer.currentObject = currentObject;\n\t        }\n\t\n\t        var metadata = data.metadata || {};\n\t\n\t        if (metadata && layerManager.testIsPositionLayerName(layerName)) {\n\t\n\t          /*\r\n\t           * Couldn't care less. Most parts of the app are hacks already.\r\n\t           */\n\t          _app2.default.config.map.assetStatusFilters = metadata.assetStatusAvailable;\n\t\n\t          if (viewer.isAssetStatusFiltersEnabled()) {\n\t\n\t            ///*\n\t            // * TODO: TO BE REMOVED ONCE THE BACKEND IS READY.\n\t            // * Currently served as simulation for randomly assigning\n\t            // * asset status to `assetmessageevent` object.\n\t            // */\n\t            //const assetStatuses = ['Loaded', 'Unloaded', 'Unknown'];\n\t            //const lm            = layerManager;\n\t            //\n\t            //_(lm.getObjectsByLayer(lm.getPositionLayerName()))\n\t            //    .map('roamObject')\n\t            //    .forEach(roamObject => roamObject.assetStatus = _.sample(assetStatuses));\n\t\n\t            controls.setAssetStatusFiltersVisible(true);\n\t\n\t            controls.setAssetStatusFiltersValues(viewer.getUniqueAssetStatusFiltersValues());\n\t\n\t            instance.onAssetStatusFiltersChanged(viewer.getSelectedAssetStatusFilters());\n\t          }\n\t        }\n\t      } catch (e) {\n\t        logError('Error loading ROAM objects.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param checked\r\n\t     */\n\t    onAutoRefreshToggled: function onAutoRefreshToggled(checked) {\n\t\n\t      try {\n\t        viewer.setAutoRefresh(checked);\n\t      } catch (e) {\n\t        logError('Error toggling auto-refresh state.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param positionLayerName\r\n\t     * @param polling\r\n\t     */\n\t    onPositionsFetchingRequested: function onPositionsFetchingRequested(positionLayerName, polling) {\n\t\n\t      try {\n\t        (function () {\n\t          var dataSelectionOptions = viewer.getDataSelectionOptions();\n\t          var requestData = {};\n\t\n\t          /*\r\n\t           * Only consider `interval` selection mode when the\r\n\t           * positions fetching is *not* meant to do a poll.\r\n\t           */\n\t          if (!polling) {\n\t\n\t            if (!dataSelectionOptions.latest) {\n\t              // -> interval\n\t\n\t              /*\r\n\t               * Copy objects, in order to keep the internal\r\n\t               * attributes timezone free.\r\n\t               */\n\t              var from = new Date(dataSelectionOptions.from);\n\t              var to = new Date(dataSelectionOptions.to);\n\t\n\t              from = kendo.toString(util.dateToGMT(from), config.dateTimeFormat);\n\t              to = kendo.toString(util.dateToGMT(to), config.dateTimeFormat);\n\t\n\t              _.assign(requestData, {\n\t                from: from,\n\t                to: to\n\t              });\n\t            }\n\t          }\n\t\n\t          var layerProperties = layersConfig[positionLayerName];\n\t          var domainObjectType = viewer.domainObjectType;\n\t          var domainObjectId = viewer.domainObjectId;\n\t          var alarmEventIds = viewer.alarmEventIds;\n\t\n\t          var dateRangeSlider = viewer.getDateRangeSlider();\n\t\n\t          $.ajax({\n\t            url: '' + config.serviceUrl + layerProperties.serviceUrls.read,\n\t            data: _.assign(requestData, {\n\t              domainObjectType: domainObjectType,\n\t              domainObjectId: domainObjectId,\n\t              eventIds: JSON.stringify(alarmEventIds)\n\t            }),\n\t\n\t            beforeSend: function beforeSend() {\n\t\n\t              if (dateRangeSlider) {\n\t                dateRangeSlider.setEnabled(false);\n\t              } else {\n\t                controls.setProgressOverlayEnabled(true);\n\t              }\n\t            },\n\t            success: function success(data) {\n\t              data.dataType = 'assetmessageevent';\n\t              instance.onObjectsDataFetchingSucceeded(data);\n\t\n\t              if (viewer.isSingleAssetModeEnabled()) {\n\t\n\t                if (viewer.isAnimationFeatureActivated()) {\n\t                  instance.onAnimationPositionsLoadingRequested();\n\t                }\n\t\n\t                if (viewer.isConnectHistoryPositionsActivated()) {\n\t                  var positions = data.data;\n\t\n\t                  instance.onEventsConnectorDrawingRequested(positions);\n\t                }\n\t              }\n\t            },\n\t            error: function error(jqXHR, textStatus, errorThrown) {\n\t              logError('Error fetching asset positions.', new Error(errorThrown));\n\t            },\n\t            complete: function complete() {\n\t\n\t              if (dateRangeSlider) {\n\t                dateRangeSlider.setEnabled(true);\n\t              } else {\n\t                controls.setProgressOverlayEnabled(false);\n\t              }\n\t\n\t              viewer.refresh();\n\t            }\n\t          });\n\t        })();\n\t      } catch (e) {\n\t        logError('Error fetching asset positions.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param checked\r\n\t     */\n\t    onAutoFocusToggled: function onAutoFocusToggled(checked) {\n\t\n\t      try {\n\t        viewer.setAutoFocus(checked);\n\t      } catch (e) {\n\t        logError('Error toggling auto-focus state.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param checked\r\n\t     */\n\t    onAutoLabelingToggled: function onAutoLabelingToggled(checked) {\n\t\n\t      try {\n\t        viewer.setAutoLabelingActivated(checked);\n\t      } catch (e) {\n\t        logError('Error toggling auto-labeling state.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param bbox\r\n\t     */\n\t    onViewportSaved: function onViewportSaved(bbox) {\n\t\n\t      try {\n\t        localStorage.setItem('USER_BBOX', JSON.stringify(bbox));\n\t\n\t        _app2.default.view.toast.showNotificationSimple('Info', _app2.default.translate(''), _app2.default.translate('The viewport has been successfully saved.'));\n\t      } catch (e) {\n\t        logError('Error saving viewport to local storage.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param bboxText\r\n\t     */\n\t    onViewportRestored: function onViewportRestored(bboxText) {\n\t\n\t      try {\n\t        viewer.setBoundingBox(JSON.parse(bboxText));\n\t\n\t        _app2.default.view.toast.showNotificationSimple('Info', _app2.default.translate(''), _app2.default.translate('The viewport has been successfully restored.'));\n\t      } catch (e) {\n\t        logError('Error restoring viewport from local storage.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param scale\r\n\t     */\n\t    onScaleZoomingSelected: function onScaleZoomingSelected(scale) {\n\t\n\t      try {\n\t        viewer.zoomToScale(_.parseInt(scale));\n\t      } catch (e) {\n\t        logError('Error zooming to selected scale.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param level\r\n\t     */\n\t    onLevelZoomingSelected: function onLevelZoomingSelected(level) {\n\t\n\t      try {\n\t        viewer.zoomToLevel(_.parseInt(level));\n\t      } catch (e) {\n\t        logError('Error zooming to selected level.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param options\r\n\t     */\n\t    onDataSelectionOptionsUpdated: function onDataSelectionOptionsUpdated(options) {\n\t\n\t      try {\n\t        viewer.updateDataSelectionOptions(options);\n\t      } catch (e) {\n\t        logError('Error updating data selection options.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectId\r\n\t     */\n\t    onObjectZoomingRequested: function onObjectZoomingRequested(layerName, objectId) {\n\t\n\t      try {\n\t\n\t        if (viewer.lazyLoadingEnabled) {\n\t          var layerManager = viewer.getLayerManager();\n\t\n\t          if (!layerManager.testIsPositionLayerName(layerName)) {\n\t            layerManager.addObject(layerName, layerManager.getCachedRoamObject(objectId));\n\t          }\n\t        }\n\t\n\t        viewer.zoomToObject(layerName, objectId);\n\t      } catch (e) {\n\t        logError('Error zooming to map object.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param [layerName]\r\n\t     */\n\t    onLayerZoomingRequested: function onLayerZoomingRequested(layerName) {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      try {\n\t        layerName = layerName || layerManager.getPositionLayerName();\n\t        viewer.zoomToLayer(layerName);\n\t      } catch (e) {\n\t        logError('Error zooming to layer.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectIds\r\n\t     * @param checked\r\n\t     */\n\t    onObjectsVisibilityToggled: function onObjectsVisibilityToggled(layerName, objectIds, checked) {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      try {\n\t        var positionLayerNameMatched = layerManager.testIsPositionLayerName(layerName);\n\t\n\t        if (positionLayerNameMatched) {\n\t\n\t          // Clear the asset status filters.\n\t          //this.onAssetStatusFiltersChanged([]);\n\t          viewer.setSelectedAssetStatusFilters([]);\n\t        }\n\t\n\t        if (viewer.lazyLoadingEnabled) {\n\t\n\t          if (!positionLayerNameMatched) {\n\t            var cachedRoamObjects = layerManager.getCachedRoamObjects(objectIds);\n\t\n\t            layerManager.addObjects(layerName, cachedRoamObjects);\n\t          }\n\t        }\n\t\n\t        layerManager.setObjectsVisibility(layerName, objectIds, checked);\n\t      } catch (e) {\n\t        logError('Error toggling objects visibility.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param checked\r\n\t     */\n\t    onObjectLabelsVisibilityToggled: function onObjectLabelsVisibilityToggled(layerName, checked) {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      try {\n\t        layerManager.setObjectLabelsVisibility(layerName, checked);\n\t      } catch (e) {\n\t        logError('Error toggling object labels visibility.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectId\r\n\t     * @param selected\r\n\t     */\n\t    onPositionSelectionToggled: function onPositionSelectionToggled(objectId, selected) {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      try {\n\t        layerManager.setPositionHighlighted(objectId, selected);\n\t      } catch (e) {\n\t        logError('Error toggling selected position highlight.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param checked\r\n\t     */\n\t    onUseClustersStatusToggled: function onUseClustersStatusToggled(checked) {\n\t\n\t      try {\n\t        viewer.setUseClustersActivated(checked);\n\t      } catch (e) {\n\t        logError('Error toggling \"Use clusters\" status.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param positions\r\n\t     */\n\t    onEventsConnectorDrawingRequested: function onEventsConnectorDrawingRequested(positions) {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      try {\n\t        layerManager.drawEventsConnector(positions);\n\t      } catch (e) {\n\t        logError('Error drawing the events connector.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param checked\r\n\t     */\n\t    onConnectHistoryPositionsStatusToggled: function onConnectHistoryPositionsStatusToggled(checked) {\n\t\n\t      try {\n\t        viewer.setConnectHistoryPositionsActivated(checked);\n\t      } catch (e) {\n\t        logError('Error toggling \"Connect history positions\" status.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param filters\r\n\t     */\n\t    onAssetStatusFiltersChanged: function onAssetStatusFiltersChanged(filters) {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      try {\n\t        var layerName = layerManager.getPositionLayerName();\n\t\n\t        controls.setProgressOverlayEnabled(true);\n\t\n\t        if (!_.isEmpty(filters)) {\n\t          var parts = _(layerManager.getObjectsByLayer(layerName)).map('roamObject').partition(function (position) {\n\t            //return _.includes(filters, position.assetStatus);\n\t\n\t            /*\r\n\t             * Jawad says in the (near) future, an\r\n\t             * `assetmessageevent` position may have\r\n\t             * multiple assetStatus values (Ghana?).\r\n\t             * So, better make these code lines below\r\n\t             * future-proof while it's still easy.\r\n\t             */\n\t            var assetStatus = position.assetStatus;\n\t\n\t            var assetStatuses = [];\n\t\n\t            if (_.isArray(position.assetStatus)) {\n\t              assetStatuses = assetStatus;\n\t            } else {\n\t              assetStatuses = [assetStatus];\n\t            }\n\t\n\t            return assetStatuses.some(function (value) {\n\t              return _.includes(filters, value);\n\t            });\n\t          }).map(function (part) {\n\t            return _.map(part, 'domainObjectTypeId');\n\t          }).value();\n\t\n\t          layerManager.setObjectsVisibility(layerName, parts[0], true);\n\t\n\t          layerManager.setObjectsVisibility(layerName, parts[1], false);\n\t        } else {\n\t          layerManager.setAllObjectsVisibility(layerName, true);\n\t        }\n\t\n\t        controls.setProgressOverlayEnabled(false);\n\t\n\t        viewer.setSelectedAssetStatusFilters(filters);\n\t      } catch (e) {\n\t        logError('Error filtering assets based on status.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onAnimationPositionsLoadingRequested: function onAnimationPositionsLoadingRequested() {\n\t\n\t      try {\n\t        viewer.setAnimationFeatureActivated(true);\n\t      } catch (e) {\n\t        logError('Error loading animation objects.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onAnimationPaused: function onAnimationPaused() {\n\t      var animationManager = viewer.getAnimationManager();\n\t\n\t      try {\n\t        animationManager.pauseAnimation();\n\t      } catch (e) {\n\t        logError('Error pausing animation.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onAnimationStopped: function onAnimationStopped() {\n\t      var animationManager = viewer.getAnimationManager();\n\t\n\t      try {\n\t        animationManager.stopAnimation();\n\t      } catch (e) {\n\t        logError('Error stopping animation.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onAnimationStarted: function onAnimationStarted() {\n\t      var animationManager = viewer.getAnimationManager();\n\t\n\t      try {\n\t        animationManager.startAnimation();\n\t      } catch (e) {\n\t        logError('Error starting animation.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param step\r\n\t     */\n\t    onAnimationStepSelected: function onAnimationStepSelected(step) {\n\t      var animationManager = viewer.getAnimationManager();\n\t\n\t      try {\n\t        animationManager.stepTo(step);\n\t      } catch (e) {\n\t        logError('Error doing step-to animation.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param animationSpeed\r\n\t     */\n\t    onAnimationSpeedSelected: function onAnimationSpeedSelected(animationSpeed) {\n\t      var animationManager = viewer.getAnimationManager();\n\t\n\t      try {\n\t        animationManager.setAnimationSpeed(animationSpeed);\n\t      } catch (e) {\n\t        logError('Error setting animation speed.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param trailLength\r\n\t     */\n\t    onAnimationTrailLengthSelected: function onAnimationTrailLengthSelected(trailLength) {\n\t      var animationManager = viewer.getAnimationManager();\n\t\n\t      try {\n\t        animationManager.setTrailLength(trailLength);\n\t      } catch (e) {\n\t        logError('Error setting animation trail length.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onEditModeDeactivated: function onEditModeDeactivated() {\n\t      var editManager = viewer.getEditManager();\n\t\n\t      try {\n\t        editManager.destroy();\n\t      } catch (e) {\n\t        logError('Error destroying edit manager.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectType\r\n\t     */\n\t    onEditableObjectTypeSelected: function onEditableObjectTypeSelected(objectType) {\n\t      var editManager = viewer.getEditManager();\n\t\n\t      try {\n\t        editManager.setEditableObjectType(objectType);\n\t      } catch (e) {\n\t        logError('Error setting edit object type.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param shapeType\r\n\t     */\n\t    onEditableObjectShapeTypeSelected: function onEditableObjectShapeTypeSelected(shapeType) {\n\t      var editManager = viewer.getEditManager();\n\t\n\t      try {\n\t        editManager.setEditableObjectShapeType(shapeType);\n\t      } catch (e) {\n\t        logError('Error setting edit object shape type.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param latLng\r\n\t     */\n\t    onEditableObjectLatLngEntered: function onEditableObjectLatLngEntered(latLng) {\n\t      var editManager = viewer.getEditManager();\n\t\n\t      try {\n\t        var coordinates = _.map(latLng.split(','), function (coordinate) {\n\t          return parseFloat(parseFloat(coordinate).toFixed(8));\n\t        });\n\t\n\t        var _coordinates = _slicedToArray(coordinates, 2);\n\t\n\t        var lat = _coordinates[0];\n\t        var lng = _coordinates[1];\n\t\n\t\n\t        if (_.isFinite(lat) && _.isFinite(lng)) {\n\t          editManager.setEditableObjectLatLng(lat, lng);\n\t        }\n\t      } catch (e) {\n\t        logError('Error setting edit object coordinates.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param bufferDistance\r\n\t     */\n\t    onEditableObjectBufferDistanceEntered: function onEditableObjectBufferDistanceEntered(bufferDistance) {\n\t      var editManager = viewer.getEditManager();\n\t\n\t      try {\n\t        var distance = parseFloat(bufferDistance);\n\t\n\t        if (_.isFinite(distance)) {\n\t          editManager.setEditableObjectBufferDistance(distance);\n\t        }\n\t      } catch (e) {\n\t        logError('Error setting edit object buffer distance.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectName\r\n\t     */\n\t    onEditableObjectNameEntered: function onEditableObjectNameEntered(objectName) {\n\t      var editManager = viewer.getEditManager();\n\t\n\t      try {\n\t        editManager.setEditableObjectName(objectName);\n\t      } catch (e) {\n\t        logError('Error setting edit object name.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param configName\r\n\t     */\n\t    onEditableObjectConfigNameSelected: function onEditableObjectConfigNameSelected(configName) {\n\t      var editManager = viewer.getEditManager();\n\t\n\t      try {\n\t        editManager.setEditableObjectConfigName(configName);\n\t      } catch (e) {\n\t        logError('Error setting edit object config name.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectProperties\r\n\t     */\n\t    onObjectCreationRequested: function onObjectCreationRequested(layerName, objectProperties) {\n\t      var layerManager = viewer.getLayerManager();\n\t\n\t      try {\n\t        var domainObjectType = viewer.domainObjectType;\n\t        var domainObjectId = viewer.domainObjectId;\n\t\n\t\n\t        $.ajax({\n\t          url: '' + config.serviceUrl + layersConfig[layerName].serviceUrls.create,\n\t          type: 'POST',\n\t          data: _extends({}, objectProperties, {\n\t            domainObjectType: domainObjectType,\n\t            domainObjectId: domainObjectId\n\t          }),\n\t\n\t          success: function success(data) {\n\t            var object = _.first(data.data);\n\t\n\t            layerManager.addObject(layerName, object);\n\t\n\t            if (viewer.lazyLoadingEnabled && !layerManager.testIsPositionLayerName(layerName)) {\n\t\n\t              layerManager.addCachedRoamObject(object);\n\t            }\n\t\n\t            layerManager.setObjectVisibility(layerName, object.domainObjectTypeId, true);\n\t          },\n\t          error: function error(jqXHR) {\n\t            var errorMessage = _.first(jqXHR.responseJSON.messages);\n\t\n\t            _app2.default.view.toast.showNotificationSimple('Error', _app2.default.translate('The object creation failed.'), errorMessage);\n\t\n\t            logError('Error creating ROAM object.', new Error(errorMessage));\n\t          },\n\t\n\t\n\t          complete: function complete() {\n\t            instance.onEditModeDeactivated();\n\t          }\n\t        });\n\t      } catch (e) {\n\t        logError('Error creating ROAM object.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param index\r\n\t     */\n\t    onWaypointItemAdditionRequested: function onWaypointItemAdditionRequested(index) {\n\t      var routingManager = viewer.getRoutingManager();\n\t\n\t      try {\n\t        routingManager.addWaypoint({}, index);\n\t      } catch (e) {\n\t        logError('Error adding waypoint item.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param index\r\n\t     */\n\t    onWaypointItemRemovalRequested: function onWaypointItemRemovalRequested(index) {\n\t      var routingManager = viewer.getRoutingManager();\n\t\n\t      try {\n\t        routingManager.removeWaypoint(index);\n\t      } catch (e) {\n\t        logError('Error removing waypoint item.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param fromIndex\r\n\t     * @param toIndex\r\n\t     */\n\t    onWaypointItemReorderingRequested: function onWaypointItemReorderingRequested(fromIndex, toIndex) {\n\t      var routingManager = viewer.getRoutingManager();\n\t\n\t      try {\n\t        routingManager.reorderWaypoint(fromIndex, toIndex);\n\t      } catch (e) {\n\t        logError('Error reordering waypoint item.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     * @param index\r\n\t     */\n\t    onWaypointItemSelected: function onWaypointItemSelected(waypoint, index) {\n\t      var routingManager = viewer.getRoutingManager();\n\t\n\t      try {\n\t        routingManager.updateWaypoint(waypoint, index);\n\t      } catch (e) {\n\t        logError('Error setting waypoint item.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param query\r\n\t     */\n\t    onPlacesSearchRequested: function onPlacesSearchRequested(query) {\n\t      var routingManager = viewer.getRoutingManager();\n\t\n\t      try {\n\t        (function () {\n\t          var routingControls = routingManager.getRoutingControls();\n\t\n\t          routingControls.setProgressOverlayEnabled(true);\n\t          routingManager.clearPlaces();\n\t\n\t          /*\r\n\t           * Fetch places data from native map viewer's\r\n\t           * places service API.\r\n\t           */\n\t          routingManager.searchPlaces(query).done(function (places) {\n\t            return routingManager.addPlaces(places);\n\t          }).fail(function (e) {\n\t            logError('Could not retrieve nearby places from ' + viewer.getFriendlyName() + ' service.', new Error(e.message));\n\t          }).always(function () {\n\t            return routingControls.setProgressOverlayEnabled(false);\n\t          });\n\t\n\t          var domainObjectType = viewer.domainObjectType;\n\t          var domainObjectId = viewer.domainObjectId;\n\t\n\t          /**\r\n\t           * Fetch geoposition objects (the ones that have\r\n\t           * longitude and latitude - currently: locations and\r\n\t           * assets) which have been persisted in our system.\r\n\t           */\n\t\n\t          $.ajax({\n\t            url: '' + config.serviceUrl + serviceUrls.geoPositionObjects.read,\n\t            type: 'GET',\n\t            data: {\n\t              domainObjectType: domainObjectType,\n\t              domainObjectId: domainObjectId,\n\t              name: query\n\t            },\n\t\n\t            success: function success(data) {\n\t              routingManager.addPlaces(_.map(data.results, function (geoPositionObject) {\n\t                var latitude = geoPositionObject.latitude;\n\t                var longitude = geoPositionObject.longitude;\n\t                var name = geoPositionObject.name;\n\t                var domainObjectType = geoPositionObject.domainObjectType;\n\t                var id = geoPositionObject.id;\n\t\n\t\n\t                return {\n\t                  name: name,\n\t                  domainObjectType: domainObjectType,\n\t                  icon: 'mc-icon-routing-type' + domainObjectType,\n\t                  lat: latitude,\n\t                  lng: longitude,\n\t                  domainObjectId: id\n\t                };\n\t              }));\n\t            },\n\t            error: function error(jqXHR, textStatus, errorThrown) {\n\t              logError('Could not retrieve geo position objects from ROAM Caesar service.', new Error(errorThrown));\n\t            },\n\t            complete: function complete() {\n\t              routingControls.setProgressOverlayEnabled(false);\n\t            }\n\t          });\n\t        })();\n\t      } catch (e) {\n\t        logError('Error retrieving place suggestions.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param featureName\r\n\t     * @param checked\r\n\t     */\n\t    onRouteFeatureToggled: function onRouteFeatureToggled(featureName, checked) {\n\t      var routingManager = viewer.getRoutingManager();\n\t\n\t      try {\n\t        routingManager.setRouteFeatureAvoided(featureName, !checked);\n\t      } catch (e) {\n\t        logError('Error toggling route feature.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onRouteCalculationRequested: function onRouteCalculationRequested() {\n\t      var routingManager = viewer.getRoutingManager();\n\t\n\t      try {\n\t        (function () {\n\t          var routingControls = routingManager.getRoutingControls();\n\t\n\t          routingControls.expandRoutingPanel();\n\t          routingControls.setProgressOverlayEnabled(true);\n\t\n\t          routingManager.calculateRoute().done(function (result) {\n\t            return routingManager.setRoutingResult(result);\n\t          }).fail(function (e) {\n\t            logError(viewer.getFriendlyName() + ' routing service could not calculate route.', new Error(e.message));\n\t          }).always(function () {\n\t            routingControls.setProgressOverlayEnabled(false);\n\t            routingControls.updateSaveRouteButton();\n\t            routingControls.duckPunchWaypoints();\n\t          });\n\t        })();\n\t      } catch (e) {\n\t        _app2.default.view.toast.showNotificationSimple('Error', _app2.default.translate('The routing failed.'), e.message);\n\t\n\t        logError('Error calculating route.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onRouteSavingRequested: function onRouteSavingRequested() {\n\t      var routingManager = viewer.getRoutingManager();\n\t\n\t      $.when(_app2.default.dialog.input({\n\t        title: _app2.default.translate('Save Route'),\n\t        message: _app2.default.translate('Choose a name for this new route:'),\n\t        labelOK: _app2.default.translate('Save Route'),\n\t        required: true\n\t      })).done(function (response) {\n\t\n\t        if (response.button === 'OK') {\n\t          var routeData = routingManager.yieldSaveRouteRequestData();\n\t\n\t          /*\r\n\t           * Safety first. Do we really have a valid route here?\r\n\t           */\n\t          if (routeData.waypoints.length >= 2) {\n\t            var domainObjectType = viewer.domainObjectType;\n\t            var domainObjectId = viewer.domainObjectId;\n\t\n\t            /*\r\n\t             * Save the route.\r\n\t             */\n\t\n\t            $.ajax({\n\t              url: config.serviceUrl + serviceUrls.routing.create,\n\t              data: {\n\t                domainObjectType: domainObjectType,\n\t                domainObjectId: domainObjectId,\n\t                name: response.input,\n\t                route: JSON.stringify(routeData)\n\t              },\n\t\n\t              success: function success() {\n\t                _app2.default.view.toast.showNotificationSimple('Info', _app2.default.translate(''), _app2.default.translate('The route has been successfully saved.'));\n\t              },\n\t              error: function error(jqXHR, textStatus, errorThrown) {\n\t                logError('Error saving the route.', new Error(errorThrown));\n\t              }\n\t            });\n\t          }\n\t        }\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param directionsIncluded\r\n\t     */\n\t    onMapsPrintRequested: function onMapsPrintRequested(directionsIncluded) {\n\t\n\t      try {\n\t        viewer.print(directionsIncluded ? viewer.getRoutingManager().getRouteDirections() : undefined);\n\t      } catch (e) {\n\t        logError('Error printing the maps.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onResize: function onResize() {\n\t\n\t      try {\n\t        viewer.resize();\n\t      } catch (e) {\n\t        logError('Error resizing the map viewer.', e);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onDestroy: function onDestroy() {\n\t\n\t      try {\n\t        var mapInfoBox = viewer.getMapInfoBox();\n\t\n\t        if (controls) {\n\t          controls.destroy();\n\t        }\n\t\n\t        if (mapInfoBox) {\n\t          mapInfoBox.destroy();\n\t        }\n\t\n\t        if (viewer.rememberLastViewportEnabled) {\n\t          instance.onViewportSaved(viewer.getBoundingBox());\n\t        }\n\t\n\t        viewer.container.empty();\n\t      } catch (e) {\n\t        logError('Error destroying the controller.', e);\n\t      }\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t\n\t  /* region init code */\n\t\n\t  var logError = instance.logError;\n\t\n\t  /* endregion init code */\n\t});\n\t\n\texports.default = Controller;\n\texports.Controller = Controller;\n\n/***/ },\n/* 88 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Created by glenn on 12/01/16.\r\n\t */\n\t\n\texports.default = function () {\n\t\n\t  // Test ES6 code here.\n\t  var es6 = 'ES6';\n\t  console.log('hello world from ' + es6);\n\t}();\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Initializer = exports.default = undefined;\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _layerDataFetcher = __webpack_require__(90);\n\t\n\tvar _viewerFactory = __webpack_require__(96);\n\t\n\tvar _controls = __webpack_require__(91);\n\t\n\tvar _controller = __webpack_require__(87);\n\t\n\tvar _routing = __webpack_require__(95);\n\t\n\tvar _legend = __webpack_require__(94);\n\t\n\tvar _dateRangeSlider = __webpack_require__(93);\n\t\n\tvar _coordinatesDisplay = __webpack_require__(92);\n\t\n\tvar _debugger = __webpack_require__(36);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Created by Glenn on 2014-11-10.\r\n\t */\n\t\n\tvar Initializer = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  options: undefined\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t  var options = instance.options;\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   * Model\r\n\t   */\n\t\n\t  var viewerFactory = void 0;\n\t\n\t  /*\r\n\t   * Well, you might as well argue the map viewer is\r\n\t   * our so-called \"ViewModel\".\r\n\t   */\n\t  var viewer = void 0;\n\t\n\t  /*\r\n\t   * View\r\n\t   */\n\t  var controls = void 0;\n\t\n\t  /*\r\n\t   * Controller\r\n\t   */\n\t  var controller = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param onMapInitialized\r\n\t     */\n\t\n\t    startInitialization: function startInitialization(onMapInitialized) {\n\t\n\t      /*\r\n\t       * Prefetch map layers data.\r\n\t       */\n\t      var domainObjectType = options.domainObjectType;\n\t      var domainObjectId = options.domainObjectId;\n\t      var eventIds = options.eventIds;\n\t\n\t      var layerDataFetcher = _layerDataFetcher.LayerDataFetcher.create({\n\t        domainObjectType: domainObjectType,\n\t        domainObjectId: domainObjectId,\n\t        alarmEventIds: eventIds\n\t      });\n\t\n\t      options.layerDataFetcher = layerDataFetcher;\n\t      layerDataFetcher.prefetch();\n\t\n\t      _debugger.mapsDebugger.time('Map MVC components initialization time');\n\t\n\t      /*\r\n\t       * Bootstrap map MVC components.\r\n\t       */\n\t      viewerFactory = _viewerFactory.ViewerFactory.create();\n\t      viewerFactory.createViewer(options, function (mapViewer) {\n\t        var controlsView = options.mapDisplay.children('.map-controls');\n\t\n\t        viewer = mapViewer;\n\t        controls = _controls.Controls.create({\n\t          controlsView: controlsView,\n\t          viewer: viewer\n\t        });\n\t\n\t        controller = _controller.Controller.create({\n\t          controls: controls,\n\t          viewer: viewer\n\t        });\n\t\n\t        /*\r\n\t         * Please stick to this MVC implementation:\r\n\t         *\r\n\t         * - Controller listens to the View for UI events.\r\n\t         * - View listens to the Model for change events.\r\n\t         *\r\n\t         * - View may query state of the Model.\r\n\t         * - Controller updates state of the Model.\r\n\t         * - Controller may update the View.\r\n\t         */\n\t        controls.setController(controller);\n\t        viewer.setControls(controls);\n\t        _debugger.mapsDebugger.timeEnd('Map MVC components initialization time');\n\t\n\t        controller.onMapMvcComponentsInitialized(options, function () {\n\t          _debugger.mapsDebugger.time('Map extensions installation time');\n\t\n\t          /*\r\n\t           * Install map extensions here.\r\n\t           * 1) Legend\r\n\t           * 2) Routing\r\n\t           * 3) Date range slider\r\n\t           * 4) Coordinates display\r\n\t           */\n\t          var legend = _legend.Legend.create({\n\t            viewer: viewer\n\t          });\n\t          legend.setController(controller);\n\t          viewer.setLegend(legend);\n\t\n\t          if (_app2.default.config.map.routing) {\n\t            var routingManager = viewer.getRoutingManager();\n\t            var routingControls = _routing.RoutingControls.create({\n\t              controlsView: controlsView,\n\t              routingManager: routingManager\n\t            });\n\t\n\t            routingControls.setController(controller);\n\t            routingManager.setRoutingControls(routingControls);\n\t            routingManager.initRoutingEngine();\n\t\n\t            /*\r\n\t             * Add initial waypoints for routing and\r\n\t             * instantly calculate route if possible.\r\n\t             */\n\t            var reconstructingWaypoints = options.reconstructingWaypoints;\n\t\n\t            var initialWaypoints = [{}, {}];\n\t\n\t            if (_.isArray(reconstructingWaypoints) && reconstructingWaypoints.length >= 2) {\n\t\n\t              initialWaypoints = reconstructingWaypoints;\n\t            }\n\t\n\t            _.forEach(initialWaypoints, function (waypoint, i) {\n\t              controller.onWaypointItemAdditionRequested();\n\t              controller.onWaypointItemSelected(waypoint, i);\n\t            });\n\t\n\t            if (routingManager.canCalculateRoute()) {\n\t              controller.onRouteCalculationRequested();\n\t            }\n\t          }\n\t\n\t          if (_app2.default.config.map.dateRangeSlider) {\n\t\n\t            if (viewer.isModernBrowser()) {\n\t              var dateRangeSlider = _dateRangeSlider.DateRangeSlider.create({\n\t                viewer: viewer\n\t              });\n\t              dateRangeSlider.setController(controller);\n\t              viewer.setDateRangeSlider(dateRangeSlider);\n\t            }\n\t          }\n\t\n\t          if (_app2.default.config.map.coordinatesDisplay) {\n\t            var coordinatesDisplay = _coordinatesDisplay.CoordinatesDisplay.create({\n\t              viewer: viewer\n\t            });\n\t            coordinatesDisplay.setController(controller);\n\t            viewer.setCoordinatesDisplay(coordinatesDisplay);\n\t          }\n\t\n\t          _debugger.mapsDebugger.timeEnd('Map extensions installation time');\n\t\n\t          onMapInitialized(controller);\n\t        });\n\t      });\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t});\n\t\n\texports.default = Initializer;\n\texports.Initializer = Initializer;\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.LayerDataFetcher = exports.default = undefined;\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _project = __webpack_require__(27);\n\t\n\tvar _debugger = __webpack_require__(36);\n\t\n\tvar _layerManager = __webpack_require__(28);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /**\r\n\t                                                                                                                                                                                                     * Created by glenn on 30/11/15.\r\n\t                                                                                                                                                                                                     */\n\t\n\tvar _LayerManager$ROAM_LA = _layerManager.LayerManager.ROAM_LAYERS;\n\tvar ROAM_ASSETS = _LayerManager$ROAM_LA.ROAM_ASSETS;\n\tvar ROAM_ASSETS_HISTORY = _LayerManager$ROAM_LA.ROAM_ASSETS_HISTORY;\n\t\n\t\n\tvar LayerDataFetcher = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  serviceUrl: _app2.default.config.serviceUrl,\n\t  /**\r\n\t   *\r\n\t   */\n\t  domainObjectType: '',\n\t  domainObjectId: '',\n\t  alarmEventIds: undefined\n\t}).methods({\n\t\n\t  /**\r\n\t   *\r\n\t   * @param domainObjectType\r\n\t   * @returns {boolean}\r\n\t   */\n\t\n\t  testIsSingleAssetModeEnabled: function testIsSingleAssetModeEnabled(domainObjectType) {\n\t    return !_.includes(['customer', 'group', 'location', 'geofence'], domainObjectType);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param layerName\r\n\t   * @returns {boolean}\r\n\t   */\n\t  testIsPositionLayerName: function testIsPositionLayerName(layerName) {\n\t    return layerName === ROAM_ASSETS || layerName === ROAM_ASSETS_HISTORY;\n\t  }\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t  var serviceUrl = instance.serviceUrl;\n\t  var domainObjectType = instance.domainObjectType;\n\t  var domainObjectId = instance.domainObjectId;\n\t  var alarmEventIds = instance.alarmEventIds;\n\t\n\t  /* region private properties */\n\t\n\t  var workingLayersProps = [];\n\t  var dataUrls = [];\n\t  var requestPromises = [];\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {Array}\r\n\t     */\n\t\n\t    getWorkingLayersProperties: function getWorkingLayersProperties() {\n\t      return workingLayersProps;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param dataUrl\r\n\t     */\n\t    addDataUrl: function addDataUrl(dataUrl) {\n\t      dataUrls.push(dataUrl);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {Array}\r\n\t     */\n\t    getRequestPromises: function getRequestPromises() {\n\t      return requestPromises;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    prefetch: function prefetch() {\n\t      dataUrls = _(instance.getWorkingLayersProperties()).map(function (layerProps) {\n\t        return layerProps.serviceUrls.read;\n\t      }).compact().value();\n\t\n\t      instance.fetch();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*|Array}\r\n\t     */\n\t    fetch: function fetch() {\n\t      var _$;\n\t\n\t      _debugger.mapsDebugger.time('Map data ajax requests time');\n\t      requestPromises = _.map(dataUrls, function (dataUrl) {\n\t        return $.ajax({\n\t          url: serviceUrl + dataUrl,\n\t          data: {\n\t            domainObjectType: domainObjectType,\n\t            domainObjectId: domainObjectId,\n\t            eventIds: JSON.stringify(alarmEventIds)\n\t          },\n\t\n\t          beforeSend: function beforeSend(jqXHR) {\n\t            var dataType = '';\n\t\n\t            if (dataUrl.match(/locations/i)) {\n\t              //mapsDebugger.time('Locations data ajax request time');\n\t              dataType = 'location';\n\t            } else if (dataUrl.match(/geofences/i)) {\n\t              //mapsDebugger.time('Geofences data ajax request time');\n\t              dataType = 'geofence';\n\t            } else {\n\t              //mapsDebugger.time('Asset positions data ajax request time');\n\t              dataType = 'assetmessageevent';\n\t            }\n\t\n\t            jqXHR.dataType = dataType;\n\t          },\n\t          success: function success(data, textStatus, jqXHR) {\n\t            //let dataType = jqXHR.dataType;\n\t            //\n\t            //if (dataType === 'location') {\n\t            //    mapsDebugger.timeEnd('Locations data ajax request time');\n\t            //} else if (dataType === 'geofence') {\n\t            //    mapsDebugger.timeEnd('Geofences data ajax request time');\n\t            //} else {\n\t            //    mapsDebugger.timeEnd('Asset positions data ajax request time');\n\t            //}\n\t          }\n\t        });\n\t      });\n\t\n\t      (_$ = $).when.apply(_$, _toConsumableArray(requestPromises)).always(function () {\n\t        return _debugger.mapsDebugger.timeEnd('Map data ajax requests time');\n\t      });\n\t\n\t      return instance.getRequestPromises();\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t\n\t  /* region init code */\n\t\n\t  var positionLayerName = instance.testIsSingleAssetModeEnabled(domainObjectType) ? ROAM_ASSETS_HISTORY : ROAM_ASSETS;\n\t\n\t  workingLayersProps = _.filter(_project.project.roamLayers, function (layerProps, layerName) {\n\t    return layerName === positionLayerName || !instance.testIsPositionLayerName(layerName);\n\t  });\n\t\n\t  /* endregion init code */\n\t});\n\t\n\texports.default = LayerDataFetcher;\n\texports.LayerDataFetcher = LayerDataFetcher;\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Controls = exports.default = undefined;\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _layerManager = __webpack_require__(28);\n\t\n\tvar _animationManager = __webpack_require__(59);\n\t\n\tvar _styler = __webpack_require__(15);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**\r\n\t                                                                                                                                                                                                                   * Created by Glenn on 2015-02-06.\r\n\t                                                                                                                                                                                                                   */\n\t\n\tvar viewTemplate = __webpack_require__(239);\n\t\n\tvar ROAM_LAYERS = _layerManager.LayerManager.ROAM_LAYERS;\n\tvar ROAM_ASSETS = ROAM_LAYERS.ROAM_ASSETS;\n\tvar ROAM_ASSETS_HISTORY = ROAM_LAYERS.ROAM_ASSETS_HISTORY;\n\tvar ROAM_LOCATIONS = ROAM_LAYERS.ROAM_LOCATIONS;\n\tvar ROAM_GEOFENCES = ROAM_LAYERS.ROAM_GEOFENCES;\n\tvar ROAM_ASSETS_ANIMATION = ROAM_LAYERS.ROAM_ASSETS_ANIMATION;\n\tvar _AnimationManager$ANI = _animationManager.AnimationManager.ANIMATION_STATES;\n\tvar PAUSE = _AnimationManager$ANI.PAUSE;\n\tvar STOP = _AnimationManager$ANI.STOP;\n\t\n\tvar styler = _styler.Styler.getInstance();\n\t\n\tvar Controls = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  controlsView: undefined,\n\t  /**\r\n\t   * Model\r\n\t   */\n\t  viewer: undefined\n\t}).methods({\n\t\n\t  /**\r\n\t   *\r\n\t   * @param enabled\r\n\t   */\n\t\n\t  setProgressOverlayEnabled: function setProgressOverlayEnabled(enabled) {\n\t    kendo.ui.progress(this.controlsView, enabled);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  destroy: function destroy() {\n\t    var controlsView = this.controlsView;\n\t\n\t\n\t    if (controlsView) {\n\t      kendo.destroy(controlsView);\n\t      controlsView.empty();\n\t    }\n\t  }\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t  var controlsView = instance.controlsView;\n\t  var viewer = instance.viewer;\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   * Controller\r\n\t   */\n\t\n\t  var controller = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var objectsLoadedActions = {};\n\t  var objectAddedActions = {};\n\t  var objectsVisibilityChangedActions = {};\n\t  var objectLabelsVisibilityChangedActions = {};\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var dropDownLists = void 0;\n\t  var dateTimePickers = void 0;\n\t  var goToIcon = void 0;\n\t  var objectTrees = void 0;\n\t  var objectEditors = void 0;\n\t  var editModeActivators = void 0;\n\t  var editableObjectNameTextboxes = void 0;\n\t  var editableObjectConfigNameDropDowns = void 0;\n\t  var confirmObjectCreationButtons = void 0;\n\t  var cancelObjectCreationButtons = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var autoRefreshCheckbox = void 0;\n\t  var autoFocusCheckbox = void 0;\n\t  var autoLabelingCheckbox = void 0;\n\t  var saveViewportButton = void 0;\n\t  var restoreViewportButton = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var zoomToScaleDropDown = void 0;\n\t  var zoomToLevelDropDown = void 0;\n\t\n\t  //let zoomToRegionDropDown;\n\t  //let saveRegionButton;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var historyModeRadio = void 0;\n\t  var presetIntervalsDropDown = void 0;\n\t  var intervalSelectionFieldset = void 0;\n\t  var fromDateTimePicker = void 0;\n\t  var toDateTimePicker = void 0;\n\t  var fetchPositionsButton = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var positionList = void 0;\n\t  var positionsVisibilityCheckbox = void 0;\n\t  var positionTree = void 0;\n\t  var positionCountBadge = void 0;\n\t  var assetLabelsCheckbox = void 0;\n\t  var useClustersCheckbox = void 0;\n\t  var positionsConnectorCheckbox = void 0;\n\t  var statusFiltersMultiSelect = void 0;\n\t  var animationButton = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var animationPanel = void 0;\n\t  var animationCurrentStepText = void 0;\n\t  var animationMaxStepText = void 0;\n\t  var animationInfoText = void 0;\n\t  var animationPauseButton = void 0;\n\t  var animationStopButton = void 0;\n\t  var animationPlayButton = void 0;\n\t  var animationSlider = void 0;\n\t  var animationSpeedDropDown = void 0;\n\t  var trailLengthDropDown = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var locationTree = void 0;\n\t  var locationCountBadge = void 0;\n\t  var locationLabelsCheckbox = void 0;\n\t  var locationCoordinatesTextbox = void 0;\n\t  var locationNameTextbox = void 0;\n\t  var locationConfigNameDropDown = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var geofenceTree = void 0;\n\t  var geofenceCountBadge = void 0;\n\t  var geofenceLabelsCheckbox = void 0;\n\t  var geofenceShapeTypeButtons = void 0;\n\t  var geofenceBufferDistanceTextboxes = void 0;\n\t  var geofenceNameTextbox = void 0;\n\t  var geofenceConfigNameDropDown = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region private methods */\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function setupMethodLookups() {\n\t    var _objectsLoadedActions, _objectAddedActions, _objectsVisibilityCha, _objectLabelsVisibili;\n\t\n\t    var onPositionsLoaded = instance.onPositionsLoaded;\n\t    var onLocationsLoaded = instance.onLocationsLoaded;\n\t    var onGeofencesLoaded = instance.onGeofencesLoaded;\n\t    var onLocationAdded = instance.onLocationAdded;\n\t    var onGeofenceAdded = instance.onGeofenceAdded;\n\t    var onPositionsVisibilityChanged = instance.onPositionsVisibilityChanged;\n\t    var onLocationsVisibilityChanged = instance.onLocationsVisibilityChanged;\n\t    var onGeofencesVisibilityChanged = instance.onGeofencesVisibilityChanged;\n\t    var onAssetLabelsVisibilityChanged = instance.onAssetLabelsVisibilityChanged;\n\t    var onLocationLabelsVisibilityChanged = instance.onLocationLabelsVisibilityChanged;\n\t    var onGeofenceLabelsVisibilityChanged = instance.onGeofenceLabelsVisibilityChanged;\n\t\n\t\n\t    objectsLoadedActions = (_objectsLoadedActions = {}, _defineProperty(_objectsLoadedActions, ROAM_ASSETS, onPositionsLoaded), _defineProperty(_objectsLoadedActions, ROAM_ASSETS_HISTORY, onPositionsLoaded), _defineProperty(_objectsLoadedActions, ROAM_LOCATIONS, onLocationsLoaded), _defineProperty(_objectsLoadedActions, ROAM_GEOFENCES, onGeofencesLoaded), _defineProperty(_objectsLoadedActions, ROAM_ASSETS_ANIMATION, _.noop), _objectsLoadedActions);\n\t\n\t    objectAddedActions = (_objectAddedActions = {}, _defineProperty(_objectAddedActions, ROAM_ASSETS, _.noop), _defineProperty(_objectAddedActions, ROAM_ASSETS_HISTORY, _.noop), _defineProperty(_objectAddedActions, ROAM_LOCATIONS, onLocationAdded), _defineProperty(_objectAddedActions, ROAM_GEOFENCES, onGeofenceAdded), _defineProperty(_objectAddedActions, ROAM_ASSETS_ANIMATION, _.noop), _objectAddedActions);\n\t\n\t    objectsVisibilityChangedActions = (_objectsVisibilityCha = {}, _defineProperty(_objectsVisibilityCha, ROAM_ASSETS, onPositionsVisibilityChanged), _defineProperty(_objectsVisibilityCha, ROAM_ASSETS_HISTORY, onPositionsVisibilityChanged), _defineProperty(_objectsVisibilityCha, ROAM_LOCATIONS, onLocationsVisibilityChanged), _defineProperty(_objectsVisibilityCha, ROAM_GEOFENCES, onGeofencesVisibilityChanged), _defineProperty(_objectsVisibilityCha, ROAM_ASSETS_ANIMATION, _.noop), _objectsVisibilityCha);\n\t\n\t    objectLabelsVisibilityChangedActions = (_objectLabelsVisibili = {}, _defineProperty(_objectLabelsVisibili, ROAM_ASSETS, onAssetLabelsVisibilityChanged), _defineProperty(_objectLabelsVisibili, ROAM_ASSETS_HISTORY, onAssetLabelsVisibilityChanged), _defineProperty(_objectLabelsVisibili, ROAM_LOCATIONS, onLocationLabelsVisibilityChanged), _defineProperty(_objectLabelsVisibili, ROAM_GEOFENCES, onGeofenceLabelsVisibilityChanged), _defineProperty(_objectLabelsVisibili, ROAM_ASSETS_ANIMATION, _.noop), _objectLabelsVisibili);\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildGeneralControls() {\n\t    dropDownLists = controlsView.find('select:not([multiple])');\n\t    dateTimePickers = controlsView.find('.datetime-picker');\n\t    objectTrees = controlsView.find('.object-tree');\n\t\n\t    objectEditors = controlsView.find('.object-editor');\n\t    editModeActivators = objectEditors.prev('.editmode-activator');\n\t    editableObjectNameTextboxes = objectEditors.find('.editableobject-objectname');\n\t    editableObjectConfigNameDropDowns = objectEditors.find('.editableobject-configname');\n\t    confirmObjectCreationButtons = objectEditors.find('.confirm-object-creation');\n\t    cancelObjectCreationButtons = objectEditors.find('.cancel-object-creation');\n\t\n\t    goToIcon = $('<span>').addClass('mc-icon mc-icon-goto').attr('title', _app2.default.translate('Go to this map object'));\n\t\n\t    /* region Build Kendo controls */\n\t\n\t    dropDownLists.kendoDropDownList({\n\t      dataTextField: 'text',\n\t      dataValueField: 'value'\n\t    });\n\t\n\t    dateTimePickers.kendoDateTimePicker({\n\t      format: _app2.default.config.user.dateTimeFormat\n\t    });\n\t\n\t    objectTrees.kendoTreeView({\n\t      loadOnDemand: true,\n\t      checkboxes: {\n\t        checkChildren: true\n\t      }\n\t    });\n\t\n\t    /* endregion Build Kendo controls */\n\t\n\t    /* region Setup event listeners */\n\t\n\t    goToIcon.on('click', function (e) {\n\t      e.stopPropagation();\n\t\n\t      var icon = $(e.target);\n\t      var layerName = icon.data('layerName');\n\t      var id = icon.data('id');\n\t\n\t      controller.onObjectZoomingRequested(layerName, id);\n\t    });\n\t\n\t    objectTrees.on({\n\t      mouseenter: function mouseenter(e) {\n\t        var item = $(e.currentTarget);\n\t        var dataItem = item.closest('.object-tree').data('kendoTreeView').dataItem(item);\n\t\n\t        if (dataItem.leaf) {\n\t          var layerName = dataItem.layerName;\n\t          var id = dataItem.id;\n\t\n\t\n\t          goToIcon.data({\n\t            layerName: layerName,\n\t            id: id\n\t          })\n\t\n\t          /*\r\n\t           * Append it to the container of\r\n\t           * the tree item's text.\r\n\t           */\n\t          .appendTo(item.find('div > .k-in'));\n\t        }\n\t      },\n\t      mouseleave: function mouseleave() {\n\t        goToIcon.detach();\n\t      }\n\t    }, '.k-item');\n\t\n\t    _.forEach(objectTrees, function (objectTree) {\n\t      var treeView = $(objectTree);\n\t      var kTreeView = treeView.data('kendoTreeView');\n\t\n\t      kTreeView.bind('check', function (e) {\n\t        var checkedItem = e.sender;\n\t        var dataItem = checkedItem.dataItem(e.node);\n\t        var layerName = dataItem.layerName;\n\t        var objectIds = dataItem.objectIds;\n\t        var checked = dataItem.checked;\n\t\n\t\n\t        controller.onObjectsVisibilityToggled(layerName, objectIds, checked);\n\t      });\n\t\n\t      if (treeView.hasClass('position-tree')) {\n\t        kTreeView.bind('select', function (e) {\n\t          var selectedItem = e.sender;\n\t          controller.onPositionSelectionToggled(selectedItem.dataItem(e.node).id, true);\n\t        });\n\t      }\n\t    });\n\t\n\t    editModeActivators.on('click', function (e) {\n\t      var activator = $(e.currentTarget);\n\t      var objectEditor = activator.next('.object-editor');\n\t      var editManager = viewer.getEditManager();\n\t\n\t      controller.onEditableObjectTypeSelected(objectEditor.data('objecttype'));\n\t\n\t      controller.onEditableObjectShapeTypeSelected(editManager.getEditableObjectShapeType());\n\t    });\n\t\n\t    editableObjectNameTextboxes.on('blur', function (e) {\n\t      controller.onEditableObjectNameEntered($(e.target).val());\n\t    });\n\t\n\t    editableObjectConfigNameDropDowns.on('change', function (e) {\n\t      controller.onEditableObjectConfigNameSelected($(e.target).val());\n\t    });\n\t\n\t    confirmObjectCreationButtons.on('click', function () {\n\t      var editManager = viewer.getEditManager();\n\t      var targetLayerName = editManager.getTargetLayerName();\n\t\n\t      if (editManager.isEditableObjectPropertiesValid()) {\n\t        var editableObjectProperties = editManager.getSanitizedEditableObjectProperties();\n\t\n\t        controller.onObjectCreationRequested(targetLayerName, editableObjectProperties);\n\t      }\n\t    });\n\t\n\t    cancelObjectCreationButtons.on('click', function () {\n\t      return controller.onEditModeDeactivated();\n\t    });\n\t\n\t    /* endregion Setup event listeners */\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildMapViewPanelControls() {\n\t    var viewBehaviorPanel = controlsView.find('.mc-panel-viewbehavior');\n\t    var viewAreaPanel = controlsView.find('.mc-panel-viewarea');\n\t\n\t    autoRefreshCheckbox = viewBehaviorPanel.find('[name=\"auto-refresh\"]');\n\t    autoFocusCheckbox = viewBehaviorPanel.find('[name=\"auto-focus\"]');\n\t    autoLabelingCheckbox = viewBehaviorPanel.find('[name=\"auto-labeling\"]');\n\t    saveViewportButton = viewBehaviorPanel.find('[name=\"save-viewport\"]');\n\t    restoreViewportButton = viewBehaviorPanel.find('[name=\"restore-viewport\"]');\n\t\n\t    zoomToScaleDropDown = viewAreaPanel.find('[name=\"zoom-to-scale\"]');\n\t    zoomToLevelDropDown = viewAreaPanel.find('[name=\"zoom-to-level\"]');\n\t\n\t    /* region Reformat scales number */\n\t\n\t    _.forEach(zoomToScaleDropDown.children('option'), function (opt) {\n\t      var option = $(opt);\n\t      var scaleTextRe = /1 : (\\d+)/i;\n\t\n\t      if (option.text().match(scaleTextRe)) {\n\t        var value = _.parseInt(option.val());\n\t        var scaleText = '1 : ' + kendo.toString(value, 'n0');\n\t\n\t        option.text(scaleText);\n\t      }\n\t    });\n\t\n\t    /*\r\n\t     * Rebuild after reformat; Meh.\r\n\t     */\n\t    zoomToScaleDropDown.kendoDropDownList({\n\t      dataTextField: 'text',\n\t      dataValueField: 'value'\n\t    });\n\t\n\t    /* endregion Reformat scales number */\n\t\n\t    /* region Setup event listeners */\n\t\n\t    /* region View behavior */\n\t\n\t    autoRefreshCheckbox.on('click', function (e) {\n\t      controller.onAutoRefreshToggled($(e.target).is(':checked'));\n\t    });\n\t\n\t    autoFocusCheckbox.on('click', function (e) {\n\t      controller.onAutoFocusToggled($(e.target).is(':checked'));\n\t    });\n\t\n\t    autoLabelingCheckbox.on('click', function (e) {\n\t      controller.onAutoLabelingToggled($(e.target).is(':checked'));\n\t    });\n\t\n\t    saveViewportButton.on('click', function () {\n\t      return controller.onViewportSaved(viewer.getBoundingBox());\n\t    });\n\t\n\t    restoreViewportButton.on('click', function () {\n\t      return controller.onViewportRestored(localStorage.getItem('USER_BBOX'));\n\t    });\n\t\n\t    /* endregion View behavior */\n\t\n\t    /* region View area */\n\t\n\t    zoomToScaleDropDown.on('change', function (e) {\n\t      controller.onScaleZoomingSelected($(e.target).val());\n\t    });\n\t\n\t    zoomToLevelDropDown.on('change', function (e) {\n\t      controller.onLevelZoomingSelected($(e.target).val());\n\t    });\n\t\n\t    /* endregion View area */\n\t\n\t    /* endregion Setup event listeners */\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildIntervalsPanelControls() {\n\t    var intervalsPanel = controlsView.find('.mc-panel-intervals');\n\t\n\t    historyModeRadio = intervalsPanel.find('[name=\"history-mode\"]');\n\t    presetIntervalsDropDown = intervalsPanel.find('[name=\"preset-intervals\"]');\n\t    intervalSelectionFieldset = intervalsPanel.find('[name=\"interval-selection\"]');\n\t    fromDateTimePicker = intervalsPanel.find('[name=\"datetime-from\"]');\n\t    toDateTimePicker = intervalsPanel.find('[name=\"datetime-to\"]');\n\t    fetchPositionsButton = intervalsPanel.find('[name=\"fetch-positions\"]');\n\t\n\t    /* region Setup event listeners */\n\t\n\t    historyModeRadio.on('click', function (e) {\n\t      var historyMode = $(e.target).val();\n\t      var latest = historyMode === 'CURRENT';\n\t\n\t      controller.onDataSelectionOptionsUpdated({ latest: latest });\n\t    });\n\t\n\t    var kFromDateTimePicker = fromDateTimePicker.data('kendoDateTimePicker');\n\t    var kToDateTimePicker = toDateTimePicker.data('kendoDateTimePicker');\n\t\n\t    presetIntervalsDropDown.on('change', function (e) {\n\t      var presetInterval = $(e.target).val();\n\t\n\t      if (presetInterval && presetInterval !== '-') {\n\t        var _viewer$selectInterva = viewer.selectIntervalRange(presetInterval);\n\t\n\t        var min = _viewer$selectInterva.min;\n\t        var max = _viewer$selectInterva.max;\n\t\n\t\n\t        controller.onDataSelectionOptionsUpdated({\n\t          from: min,\n\t          to: max\n\t        });\n\t      }\n\t    });\n\t\n\t    kFromDateTimePicker.bind('change', function (e) {\n\t\n\t      /*\r\n\t       * Pick the value; fallback to max if from > to.\r\n\t       */\n\t      var picker = e.sender;\n\t      var from = picker.value() || picker.max();\n\t      controller.onDataSelectionOptionsUpdated({ from: from });\n\t    });\n\t\n\t    kToDateTimePicker.bind('change', function (e) {\n\t\n\t      /*\r\n\t       * Pick the value; fallback to min if to < from.\r\n\t       */\n\t      var picker = e.sender;\n\t      var to = picker.value() || picker.min();\n\t\n\t      controller.onDataSelectionOptionsUpdated({ to: to });\n\t    });\n\t\n\t    fetchPositionsButton.on('click', function () {\n\t      instance.onPositionsFetchingRequested();\n\t    });\n\t\n\t    /* endregion Setup event listeners */\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildNavigationPanelControls() {\n\t    var navigationPanel = controlsView.find('.mc-panel-navigation');\n\t\n\t    positionList = navigationPanel.find('.position-list');\n\t    positionsVisibilityCheckbox = navigationPanel.find('[name=\"positions-visibility\"]');\n\t    positionTree = navigationPanel.find('.position-tree');\n\t    positionCountBadge = navigationPanel.find('.position-count');\n\t    assetLabelsCheckbox = navigationPanel.find('[name=\"asset-labels\"]');\n\t    useClustersCheckbox = navigationPanel.find('[name=\"use-clusters\"]');\n\t    positionsConnectorCheckbox = navigationPanel.find('[name=\"positions-connector\"]');\n\t    statusFiltersMultiSelect = navigationPanel.find('[name=\"status-filters\"]');\n\t    animationButton = navigationPanel.find('[name=\"animation\"]');\n\t\n\t    /* region Setup event listeners */\n\t\n\t    positionList.on({\n\t      click: function click(e) {\n\t        var item = $(e.currentTarget);\n\t\n\t        item.toggleClass('active');\n\t\n\t        controller.onPositionSelectionToggled(item.data('id'), item.is('.active'));\n\t      },\n\t      mouseenter: function mouseenter(e) {\n\t        var item = $(e.currentTarget);\n\t\n\t        goToIcon.data({\n\t          layerName: item.data('layerName'),\n\t          id: item.data('id')\n\t        }).appendTo(item);\n\t      },\n\t      mouseleave: function mouseleave() {\n\t        goToIcon.detach();\n\t      }\n\t    }, '.list-group-item');\n\t\n\t    var layerManager = viewer.getLayerManager();\n\t\n\t    positionsVisibilityCheckbox.on('click', function (e) {\n\t      var positionLayerName = layerManager.getPositionLayerName();\n\t      var objectIds = _.map(layerManager.getObjectsByLayer(positionLayerName), 'roamObject.domainObjectTypeId');\n\t\n\t      controller.onObjectsVisibilityToggled(positionLayerName, objectIds, $(e.target).is(':checked'));\n\t    });\n\t\n\t    assetLabelsCheckbox.on('click', function (e) {\n\t      controller.onObjectLabelsVisibilityToggled(layerManager.getPositionLayerName(), $(e.target).is(':checked'));\n\t    });\n\t\n\t    useClustersCheckbox.on('click', function (e) {\n\t      controller.onUseClustersStatusToggled($(e.target).is(':checked'));\n\t    });\n\t\n\t    positionsConnectorCheckbox.on('click', function (e) {\n\t      controller.onConnectHistoryPositionsStatusToggled($(e.target).is(':checked'));\n\t    });\n\t\n\t    statusFiltersMultiSelect.kendoMultiSelect().data('kendoMultiSelect').bind('change', function (e) {\n\t      controller.onAssetStatusFiltersChanged(e.sender.value());\n\t    });\n\t\n\t    animationButton.on('click', function () {\n\t      return controller.onAnimationPositionsLoadingRequested();\n\t    });\n\t\n\t    /* endregion Setup event listeners */\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildAnimationPanelControls() {\n\t    animationPanel = controlsView.find('.mc-panel-animation');\n\t    animationCurrentStepText = animationPanel.find('.step-current');\n\t    animationMaxStepText = animationPanel.find('.step-max');\n\t    animationInfoText = animationPanel.find('.animation-info');\n\t    animationPauseButton = animationPanel.find('[name=\"animation-pause\"]');\n\t    animationStopButton = animationPanel.find('[name=\"animation-stop\"]');\n\t    animationPlayButton = animationPanel.find('[name=\"animation-play\"]');\n\t    animationSlider = animationPanel.find('[name=\"animation-slider\"]');\n\t    animationSpeedDropDown = animationPanel.find('[name=\"animation-speed\"]');\n\t    trailLengthDropDown = animationPanel.find('[name=\"trail-length\"]');\n\t\n\t    /* region Build Kendo controls */\n\t\n\t    rebuildAnimationSlider();\n\t\n\t    /* endregion Build Kendo controls */\n\t\n\t    /* region Setup event listeners */\n\t\n\t    animationPauseButton.on('click', function () {\n\t      return controller.onAnimationPaused();\n\t    });\n\t\n\t    animationStopButton.on('click', function () {\n\t      return controller.onAnimationStopped();\n\t    });\n\t\n\t    animationPlayButton.on('click', function () {\n\t      return controller.onAnimationStarted();\n\t    });\n\t\n\t    animationSpeedDropDown.on('change', function (e) {\n\t      controller.onAnimationSpeedSelected($(e.target).val());\n\t    });\n\t\n\t    trailLengthDropDown.on('change', function (e) {\n\t      controller.onAnimationTrailLengthSelected($(e.target).val());\n\t    });\n\t\n\t    /* endregion Setup event listeners */\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildLocationsPanelControls() {\n\t    var locationsPanel = controlsView.find('.mc-panel-locations');\n\t\n\t    locationTree = locationsPanel.find('.location-tree');\n\t    locationCountBadge = locationsPanel.find('.location-count');\n\t    locationLabelsCheckbox = locationsPanel.find('[name=\"location-labels\"]');\n\t    locationCoordinatesTextbox = locationsPanel.find('[name=\"location-coordinates\"]');\n\t    locationNameTextbox = locationsPanel.find('[name=\"location-objectname\"]');\n\t    locationConfigNameDropDown = locationsPanel.find('[name=\"location-configname\"]');\n\t\n\t    /* region Setup event listeners */\n\t\n\t    locationLabelsCheckbox.on('click', function (e) {\n\t      controller.onObjectLabelsVisibilityToggled(ROAM_LOCATIONS, $(e.target).is(':checked'));\n\t    });\n\t\n\t    locationCoordinatesTextbox.on('blur', function (e) {\n\t      controller.onEditableObjectLatLngEntered($(e.target).val());\n\t    });\n\t\n\t    /* endregion Setup event listeners */\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildGeofencesPanelControls() {\n\t    var geofencesPanel = controlsView.find('.mc-panel-geofences');\n\t\n\t    geofenceTree = geofencesPanel.find('.geofence-tree');\n\t    geofenceCountBadge = geofencesPanel.find('.geofence-count');\n\t    geofenceLabelsCheckbox = geofencesPanel.find('[name=\"geofence-labels\"]');\n\t    geofenceShapeTypeButtons = geofencesPanel.find('[name=\"geofence-shapetype\"]');\n\t    geofenceBufferDistanceTextboxes = geofencesPanel.find('[name=\"geofence-bufferdistance\"]');\n\t    geofenceNameTextbox = geofencesPanel.find('[name=\"geofence-objectname\"]');\n\t    geofenceConfigNameDropDown = geofencesPanel.find('[name=\"geofence-configname\"]');\n\t\n\t    /* region Setup event listeners */\n\t\n\t    geofenceLabelsCheckbox.on('click', function (e) {\n\t      controller.onObjectLabelsVisibilityToggled(ROAM_GEOFENCES, $(e.target).is(':checked'));\n\t    });\n\t\n\t    geofenceShapeTypeButtons.on('click', function (e) {\n\t      var shapeType = $(e.currentTarget).data('shapetype');\n\t      var selectedShapeType = viewer.getEditManager().getEditableObjectShapeType();\n\t\n\t      if (shapeType !== selectedShapeType) {\n\t        controller.onEditableObjectShapeTypeSelected(shapeType);\n\t      }\n\t    });\n\t\n\t    geofenceBufferDistanceTextboxes.on('blur', function (e) {\n\t      controller.onEditableObjectBufferDistanceEntered($(e.target).val());\n\t    });\n\t\n\t    /* endregion Setup event listeners */\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   * @param fieldsetSelector\r\n\t   * @param enabled\r\n\t   */\n\t  function setFieldsetEnabled(fieldsetSelector, enabled) {\n\t    var fieldset = controlsView.find(fieldsetSelector);\n\t\n\t    fieldset.prop('disabled', !enabled).find('input, select, button, fieldset').prop('disabled', !enabled);\n\t\n\t    _(fieldset.find('input.datetime-picker')).map(function (dateTimePicker) {\n\t      return $(dateTimePicker).data('kendoDateTimePicker');\n\t    }).compact().forEach(function (kDateTimePicker) {\n\t      return kDateTimePicker.enable(enabled);\n\t    });\n\t\n\t    _(fieldset.find('select:not([multiple])')).map(function (dropDownList) {\n\t      return $(dropDownList).data('kendoDropDownList');\n\t    }).compact().forEach(function (kDropDownList) {\n\t      return kDropDownList.enable(enabled);\n\t    });\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   * @param buttonsState\r\n\t   */\n\t  function setAnimationButtonsEnabled(buttonsState) {\n\t    animationPauseButton.prop('disabled', !buttonsState.pause);\n\t    animationStopButton.prop('disabled', !buttonsState.stop);\n\t    animationPlayButton.prop('disabled', !buttonsState.play);\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function rebuildAnimationSlider() {\n\t    var kAnimationSlider = animationSlider.data('kendoSlider');\n\t\n\t    if (kAnimationSlider) {\n\t      var animationSliderContainer = animationSlider.closest('.animation-slider-container');\n\t\n\t      /**\r\n\t       * Destroy Kendo widgets manually.\r\n\t       * Point 3) is our case, since we'd like to change\r\n\t       * the maximum value of the slider.\r\n\t       * @see http://docs.telerik.com/kendo-ui/framework/widgets/destroy\r\n\t       */\n\t      kAnimationSlider.destroy();\n\t      animationSliderContainer.empty();\n\t\n\t      animationSlider = $('<input>').attr('name', 'animation-slider').appendTo(animationSliderContainer);\n\t    }\n\t\n\t    var maxStep = viewer.getAnimationManager().getMaxStep();\n\t    var ready = maxStep > 0;\n\t\n\t    kAnimationSlider = animationSlider.kendoSlider({\n\t      //showButtons  : false,\n\t      tickPlacement: 'none',\n\t      max: maxStep\n\t    }).data('kendoSlider');\n\t\n\t    if (ready) {\n\t      kAnimationSlider.bind('change', function (e) {\n\t        var step = e.value;\n\t\n\t        controller.onAnimationPaused();\n\t        controller.onAnimationStepSelected(step);\n\t      });\n\t    }\n\t\n\t    kAnimationSlider.enable(ready);\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   * @param objectTypeName\r\n\t   * @param objects\r\n\t   * @returns {Array}\r\n\t   */\n\t  function createTreeViewDataSource(objectTypeName, objects) {\n\t    var layerName = ROAM_LAYERS['ROAM_' + objectTypeName.toUpperCase()];\n\t    var data = [];\n\t    var root = {\n\t      layerName: layerName,\n\t      root: true,\n\t      id: objectTypeName.toLowerCase(),\n\t      text: _app2.default.translate(objectTypeName),\n\t      items: [],\n\t      objectIds: [],\n\t      expanded: true\n\t    };\n\t\n\t    var configurationFilterEnabled = viewer.testIsAssetConfigurationFilterEnabled(layerName);\n\t    var configurations = {};\n\t    var categories = {};\n\t\n\t    _.forEach(objects, function (o) {\n\t\n\t      /*\r\n\t       * Leaf nodes\r\n\t       */\n\t      var domainObjectTypeId = o.domainObjectTypeId;\n\t      var asset = o.asset;\n\t      var name = o.name;\n\t\n\t      var leaf = {\n\t        layerName: layerName,\n\t        leaf: true,\n\t        id: domainObjectTypeId,\n\t        text: asset ? asset.name : name,\n\t        objectIds: [domainObjectTypeId]\n\t      };\n\t\n\t      if (layerName === ROAM_ASSETS_HISTORY) {\n\t        leaf.text = asset.name + ' ' + name;\n\t      }\n\t\n\t      /*\r\n\t       * Category nodes\r\n\t       */\n\t      var locationType = o.locationType;\n\t      var fenceType = o.fenceType;\n\t      var assetCategory = o.assetCategory;\n\t\n\t      var categoryName = locationType || fenceType || assetCategory || 'Unknown';\n\t      var category = categories[categoryName];\n\t\n\t      if (!category) {\n\t        category = categories[categoryName] = {};\n\t\n\t        _.assign(category, {\n\t          layerName: layerName,\n\t          category: true,\n\t          name: _app2.default.translate(categoryName),\n\t          id: categoryName.toLowerCase(),\n\t          imageUrl: styler.getObjectCategoryIcon(o),\n\t          items: [],\n\t          objectIds: []\n\t        });\n\t      }\n\t\n\t      var categoryItems = category.items;\n\t\n\t      categoryItems.push(leaf);\n\t      category.objectIds.push(leaf.id);\n\t      category.text = category.name + ' (' + categoryItems.length + ')';\n\t\n\t      /*\r\n\t       * Configuration nodes\r\n\t       */\n\t      if (configurationFilterEnabled) {\n\t        var configName = o.configurationName || 'Unknown';\n\t        var config = configurations[configName];\n\t\n\t        if (!config) {\n\t          config = configurations[configName] = {};\n\t\n\t          _.assign(config, {\n\t            layerName: layerName,\n\t            configuration: true,\n\t            name: _app2.default.translate(configName),\n\t            items: [],\n\t            objectIds: []\n\t          });\n\t        }\n\t\n\t        var configItems = config.items;\n\t\n\t        if (!_.find(configItems, { id: category.id })) {\n\t          configItems.push(category);\n\t          config.text = config.name + ' (' + configItems.length + ')';\n\t        }\n\t\n\t        config.objectIds.push(leaf.id);\n\t      }\n\t    });\n\t\n\t    var rootItems = !_.isEmpty(configurations) ? configurations : categories;\n\t\n\t    root.items = _(rootItems).map().compact().forEach(function (rootItem) {\n\t      root.objectIds = [].concat(_toConsumableArray(root.objectIds), _toConsumableArray(rootItem.objectIds));\n\t    });\n\t\n\t    data.push(root);\n\t\n\t    return data;\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   * @param options\r\n\t   */\n\t  function rebuildTreeView(options) {\n\t    var objectTree = options.objectTree;\n\t    var objectTypeName = options.objectTypeName;\n\t    var objects = options.objects;\n\t    var countBadge = options.countBadge;\n\t\n\t    var kObjectTree = objectTree.data('kendoTreeView');\n\t\n\t    if (kObjectTree) {\n\t      var dataSource = new kendo.data.HierarchicalDataSource({\n\t        data: createTreeViewDataSource(objectTypeName, objects)\n\t      });\n\t\n\t      kObjectTree.setDataSource(dataSource);\n\t    }\n\t\n\t    countBadge.text(objects.length);\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   * @param options\r\n\t   */\n\t  function addTreeViewItem(options) {\n\t    var layerName = options.layerName;\n\t\n\t    /*\r\n\t     * We don't currently support creating (adding) asset\r\n\t     * position, the below mechanism applies only for adding\r\n\t     * a location or geofence object.\r\n\t     */\n\t\n\t    if (!viewer.getLayerManager().testIsPositionLayerName(layerName)) {\n\t      var objectTree = options.objectTree;\n\t      var object = options.object;\n\t      var countBadge = options.countBadge;\n\t\n\t      var kTreeView = objectTree.data('kendoTreeView');\n\t      var locationType = object.locationType;\n\t      var fenceType = object.fenceType;\n\t\n\t      var categoryName = locationType || fenceType;\n\t\n\t      if (kTreeView) {\n\t        var dataSource = kTreeView.dataSource;\n\t\n\t        var category = dataSource.get(categoryName.toLowerCase());\n\t        var categoryNode = void 0;\n\t\n\t        if (category) {\n\t          categoryNode = kTreeView.findByUid(category.uid);\n\t        } else {\n\t          categoryNode = kTreeView.append({\n\t            layerName: layerName,\n\t            category: true,\n\t            name: categoryName,\n\t            id: categoryName.toLowerCase(),\n\t            imageUrl: styler.getObjectCategoryIcon(object),\n\t            items: [],\n\t            objectIds: []\n\t          }, objectTree.find('.k-item:first'));\n\t\n\t          category = kTreeView.dataItem(categoryNode);\n\t        }\n\t\n\t        /**\r\n\t         * Make sure the child nodes loaded.\r\n\t         * @see http://docs.telerik.com/kendo-ui/api/javascript/data/node#methods-loaded\r\n\t         * @see http://docs.telerik.com/kendo-ui/api/javascript/data/node#methods-load\r\n\t         */\n\t        if (!category.loaded()) {\n\t          category.load();\n\t        }\n\t\n\t        var categoryItems = category.items;\n\t        var domainObjectTypeId = object.domainObjectTypeId;\n\t        var name = object.name;\n\t\n\t\n\t        if (!_.find(categoryItems, { id: domainObjectTypeId })) {\n\t          var root = dataSource.at(0);\n\t          var itemNode = kTreeView.append({\n\t            layerName: layerName,\n\t            leaf: true,\n\t            id: domainObjectTypeId,\n\t            text: name,\n\t            objectIds: [domainObjectTypeId]\n\t          }, categoryNode);\n\t\n\t          root.objectIds.push(domainObjectTypeId);\n\t          category.objectIds.push(domainObjectTypeId);\n\t\n\t          kTreeView.expandTo(itemNode);\n\t          kTreeView.select(itemNode);\n\t\n\t          kTreeView.text(categoryNode, categoryName + ' (' + categoryItems.length + ')');\n\t\n\t          countBadge.text(_.parseInt(countBadge.text()) + 1);\n\t        }\n\t      }\n\t    }\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   * @param options\r\n\t   */\n\t  function handleTreeObjectsVisibilityChanged(options) {\n\t    var objectIds = options.objectIds;\n\t    var visibility = options.visibility;\n\t    var objectTree = options.objectTree;\n\t\n\t\n\t    if (!_.isEmpty(objectIds)) {\n\t      var kTreeView = objectTree.data('kendoTreeView');\n\t\n\t      if (kTreeView) {\n\t        (function () {\n\t\n\t          /*\r\n\t           * Programmatically (recursively) update the checked\r\n\t           * state of the nodes.\r\n\t           */\n\t\n\t          var updateCheckedState = function updateCheckedState(item) {\n\t\n\t            if (_.isEmpty(_.difference(item.objectIds, objectIds))) {\n\t              item.set('checked', visibility);\n\t\n\t              return;\n\t            }\n\t\n\t            if (forceItemNodesLoadingEnabled && !item.loaded()) {\n\t              item.load();\n\t            }\n\t\n\t            var children = item.items;\n\t\n\t            if (_.isEmpty(children)) {\n\t              return;\n\t            }\n\t\n\t            _.forEach(children, function (child) {\n\t              return updateCheckedState(child);\n\t            });\n\t          };\n\t\n\t          var root = kTreeView.dataSource.at(0);\n\t\n\t          /**\r\n\t           * REVIEW: Is there a better way to do this?\r\n\t           * Item nodes need to be loaded if asset status\r\n\t           * filters feature is enabled (applied for position\r\n\t           * \"assetmessageevent\" layer only).\r\n\t           */\n\t          var forceItemNodesLoadingEnabled = viewer.isAssetStatusFiltersEnabled() && viewer.getLayerManager().testIsPositionLayerName(root.layerName);\n\t\n\t          updateCheckedState(root);\n\t\n\t          /**\r\n\t           * REVIEW: May not needed anymore.\r\n\t           * When the checkbox is programmatically checked\r\n\t           * through code, e.g. (in our case) when zooming\r\n\t           * to object, there is a need to update indeterminate\r\n\t           * state of its parents.\r\n\t           * @see http://docs.telerik.com/kendo-ui/api/javascript/ui/treeview#methods-updateIndeterminate\r\n\t           */\n\t\n\t          //kTreeView.updateIndeterminate();\n\t        })();\n\t      }\n\t    }\n\t  }\n\t\n\t  /* endregion private methods */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapController\r\n\t     */\n\t\n\t    setController: function setController(mapController) {\n\t      controller = mapController;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param listener\r\n\t     */\n\t    setListener: function setListener(listener) {\n\t      instance.setController(listener);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param max\r\n\t     */\n\t    setDateTimePickerMaxDate: function setDateTimePickerMaxDate(max) {\n\t\n\t      _(dateTimePickers).map(function (dateTimePicker) {\n\t        return $(dateTimePicker).data('kendoDateTimePicker');\n\t      }).compact().forEach(function (kDateTimePicker) {\n\t        return kDateTimePicker.max(max);\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param hidden\r\n\t     */\n\t    setAutoLabelingCheckboxHidden: function setAutoLabelingCheckboxHidden(hidden) {\n\t      autoLabelingCheckbox.closest('.checkbox').toggleClass('hidden', hidden);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param enabled\r\n\t     */\n\t    setUseClustersCheckboxEnabled: function setUseClustersCheckboxEnabled(enabled) {\n\t      useClustersCheckbox.prop('disabled', !enabled).closest('.checkbox').toggleClass('disabled', !enabled);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visible\r\n\t     */\n\t    setAssetStatusFiltersVisible: function setAssetStatusFiltersVisible(visible) {\n\t      statusFiltersMultiSelect.closest('.status-filters-container').toggleClass('hidden', !visible);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param filtersValues\r\n\t     */\n\t    setAssetStatusFiltersValues: function setAssetStatusFiltersValues(filtersValues) {\n\t      var kStatusFiltersMultiSelect = statusFiltersMultiSelect.data('kendoMultiSelect');\n\t\n\t      if (kStatusFiltersMultiSelect) {\n\t        kStatusFiltersMultiSelect.setDataSource(new kendo.data.DataSource({\n\t          data: _.compact(filtersValues)\n\t        }));\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param locationConfigNames\r\n\t     */\n\t    setLocationConfigNames: function setLocationConfigNames(locationConfigNames) {\n\t      var klocationConfigNameDropDown = locationConfigNameDropDown.data('kendoDropDownList');\n\t\n\t      if (klocationConfigNameDropDown) {\n\t        klocationConfigNameDropDown.setDataSource(new kendo.data.DataSource({\n\t          data: locationConfigNames\n\t        }));\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objects\r\n\t     */\n\t    onObjectsLoaded: function onObjectsLoaded(layerName, objects) {\n\t      var objectsLoadedAction = objectsLoadedActions[layerName];\n\t\n\t      if (!_.isFunction(objectsLoadedAction)) {\n\t        throw new Error('Invalid layer name: ' + layerName + '.');\n\t      }\n\t\n\t      objectsLoadedAction(objects);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param positions\r\n\t     */\n\t    onPositionsLoaded: function onPositionsLoaded(positions) {\n\t      var positionLayerName = viewer.getLayerManager().getPositionLayerName();\n\t      var assetCategoryFilterEnabled = viewer.isAssetCategoryFilterEnabled();\n\t\n\t      positionTree.parent().toggleClass('hidden', !assetCategoryFilterEnabled);\n\t\n\t      positionList.parent().toggleClass('hidden', assetCategoryFilterEnabled);\n\t\n\t      positionsVisibilityCheckbox.closest('.checkbox').toggleClass('hidden', assetCategoryFilterEnabled);\n\t\n\t      if (assetCategoryFilterEnabled) {\n\t        rebuildTreeView({\n\t          objectTypeName: 'Assets',\n\t          objects: positions,\n\t          objectTree: positionTree,\n\t          countBadge: positionCountBadge\n\t        });\n\t      } else {\n\t        positionList.empty();\n\t\n\t        _.forEach(positions, function (position) {\n\t          var asset = position.asset;\n\t          var eventTime = position.eventTime;\n\t          var name = position.name;\n\t          var domainObjectTypeId = position.domainObjectTypeId;\n\t\n\t          var itemText = asset.name;\n\t\n\t          if (eventTime) {\n\t            position.formattedEventTime = _app2.default.util.format.dateTime(eventTime);\n\t          }\n\t\n\t          if (positionLayerName === ROAM_ASSETS_HISTORY) {\n\t            itemText = position.formattedEventTime + ' ' + name;\n\t          }\n\t\n\t          var positionItem = $('<a>').addClass('list-group-item').text(itemText).data({\n\t            layerName: positionLayerName,\n\t            id: domainObjectTypeId\n\t          });\n\t\n\t          positionList.append(positionItem);\n\t        });\n\t      }\n\t\n\t      positionCountBadge.text(positions.length);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param locations\r\n\t     */\n\t    onLocationsLoaded: function onLocationsLoaded(locations) {\n\t      rebuildTreeView({\n\t        objectTypeName: 'Locations',\n\t        objects: locations,\n\t        objectTree: locationTree,\n\t        countBadge: locationCountBadge\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param geofences\r\n\t     */\n\t    onGeofencesLoaded: function onGeofencesLoaded(geofences) {\n\t      rebuildTreeView({\n\t        objectTypeName: 'Geofences',\n\t        objects: geofences,\n\t        objectTree: geofenceTree,\n\t        countBadge: geofenceCountBadge\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param object\r\n\t     */\n\t    onObjectAdded: function onObjectAdded(layerName, object) {\n\t      var objectAddedAction = objectAddedActions[layerName];\n\t\n\t      if (!_.isFunction(objectAddedAction)) {\n\t        throw new Error('Invalid layer name: ' + layerName + '.');\n\t      }\n\t\n\t      objectAddedAction(object);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param location\r\n\t     */\n\t    onLocationAdded: function onLocationAdded(location) {\n\t      addTreeViewItem({\n\t        layerName: ROAM_LOCATIONS,\n\t        object: location,\n\t        objectTree: locationTree,\n\t        countBadge: locationCountBadge\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param geofence\r\n\t     */\n\t    onGeofenceAdded: function onGeofenceAdded(geofence) {\n\t      addTreeViewItem({\n\t        layerName: ROAM_GEOFENCES,\n\t        object: geofence,\n\t        objectTree: geofenceTree,\n\t        countBadge: geofenceCountBadge\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param object\r\n\t     */\n\t    onObjectRemoved: function onObjectRemoved(layerName, object) {\n\t      _.noop();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param location\r\n\t     */\n\t    onLocationRemoved: function onLocationRemoved(location) {\n\t      //console.log('location removed');\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param geofence\r\n\t     */\n\t    onGeofenceRemoved: function onGeofenceRemoved(geofence) {\n\t      //console.log('geofence removed');\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param enabled\r\n\t     */\n\t    onSingleAssetModeStatusChanged: function onSingleAssetModeStatusChanged(enabled) {\n\t      assetLabelsCheckbox.prop('disabled', enabled).closest('.checkbox').toggleClass('disabled', enabled);\n\t\n\t      positionsConnectorCheckbox.prop('disabled', !enabled).closest('.checkbox').toggleClass('disabled', !enabled);\n\t\n\t      animationButton.prop('disabled', !enabled);\n\t\n\t      var navigationText = enabled ? 'Asset Positions' : 'Assets';\n\t      controlsView.find('[data-phrase=\"Navigation\"]').text(_app2.default.translate(navigationText));\n\t\n\t      instance.setAssetStatusFiltersVisible(viewer.isAssetStatusFiltersEnabled() && !enabled);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    onAutoRefreshChanged: function onAutoRefreshChanged(activated) {\n\t      autoRefreshCheckbox.prop('checked', activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    onPositionsFetchingRequested: function onPositionsFetchingRequested(polling) {\n\t      var positionLayerName = viewer.getLayerManager().getPositionLayerName();\n\t\n\t      controller.onPositionsFetchingRequested(positionLayerName, polling);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    onAutoFocusChanged: function onAutoFocusChanged(activated) {\n\t      autoFocusCheckbox.prop('checked', activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    onAutoLabelingStatusChanged: function onAutoLabelingStatusChanged(activated) {\n\t      autoLabelingCheckbox.prop('checked', activated);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param options\r\n\t     */\n\t    onDataSelectionOptionsChanged: function onDataSelectionOptionsChanged(options) {\n\t      var latest = options.latest;\n\t      var from = options.from;\n\t      var to = options.to;\n\t\n\t      var historyMode = latest ? 'CURRENT' : 'INTERVAL';\n\t\n\t      historyModeRadio.filter('[value=' + historyMode + ']').prop('checked', true);\n\t\n\t      setFieldsetEnabled(intervalSelectionFieldset, !latest);\n\t\n\t      intervalSelectionFieldset.parent('.panel').toggleClass('hidden', latest);\n\t\n\t      var kFromDateTimePicker = fromDateTimePicker.data('kendoDateTimePicker');\n\t      var kToDateTimePicker = toDateTimePicker.data('kendoDateTimePicker');\n\t\n\t      if (kFromDateTimePicker && kToDateTimePicker) {\n\t        kFromDateTimePicker.max(to);\n\t        kFromDateTimePicker.value(from);\n\t        kToDateTimePicker.min(from);\n\t        kToDateTimePicker.value(to);\n\t      }\n\t\n\t      var presetInterval = viewer.selectPresetInterval({ min: from, max: to });\n\t\n\t      var kPresetIntervalsDropDown = presetIntervalsDropDown.data('kendoDropDownList');\n\t\n\t      if (kPresetIntervalsDropDown) {\n\t        kPresetIntervalsDropDown.value(presetInterval);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param objectIds\r\n\t     * @param visibility\r\n\t     */\n\t    onObjectsVisibilityChanged: function onObjectsVisibilityChanged(layerName, objectIds, visibility) {\n\t      var objectsVisibilityChangedAction = objectsVisibilityChangedActions[layerName];\n\t\n\t      if (!_.isFunction(objectsVisibilityChangedAction)) {\n\t        throw new Error('Invalid layer name: ' + layerName + '.');\n\t      }\n\t\n\t      objectsVisibilityChangedAction(objectIds, visibility);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectIds\r\n\t     * @param visibility\r\n\t     */\n\t    onPositionsVisibilityChanged: function onPositionsVisibilityChanged(objectIds, visibility) {\n\t      var assetCategoryFilterEnabled = viewer.isAssetCategoryFilterEnabled();\n\t\n\t      if (assetCategoryFilterEnabled) {\n\t        handleTreeObjectsVisibilityChanged({\n\t          objectIds: objectIds,\n\t          visibility: visibility,\n\t          objectTree: positionTree\n\t        });\n\t      } else {\n\t        positionsVisibilityCheckbox.prop('checked', visibility);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectIds\r\n\t     * @param visibility\r\n\t     */\n\t    onLocationsVisibilityChanged: function onLocationsVisibilityChanged(objectIds, visibility) {\n\t      handleTreeObjectsVisibilityChanged({\n\t        objectIds: objectIds,\n\t        visibility: visibility,\n\t        objectTree: locationTree\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectIds\r\n\t     * @param visibility\r\n\t     */\n\t    onGeofencesVisibilityChanged: function onGeofencesVisibilityChanged(objectIds, visibility) {\n\t      handleTreeObjectsVisibilityChanged({\n\t        objectIds: objectIds,\n\t        visibility: visibility,\n\t        objectTree: geofenceTree\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param layerName\r\n\t     * @param visibility\r\n\t     */\n\t    onObjectLabelsVisibilityChanged: function onObjectLabelsVisibilityChanged(layerName, visibility) {\n\t      var objectLabelsVisibilityChangedAction = objectLabelsVisibilityChangedActions[layerName];\n\t\n\t      if (!_.isFunction(objectLabelsVisibilityChangedAction)) {\n\t        throw new Error('Invalid layer name: ' + layerName + '.');\n\t      }\n\t\n\t      objectLabelsVisibilityChangedAction(visibility);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visibility\r\n\t     */\n\t    onAssetLabelsVisibilityChanged: function onAssetLabelsVisibilityChanged(visibility) {\n\t\n\t      if (!assetLabelsCheckbox.prop('disabled')) {\n\t        assetLabelsCheckbox.prop('checked', visibility);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visibility\r\n\t     */\n\t    onLocationLabelsVisibilityChanged: function onLocationLabelsVisibilityChanged(visibility) {\n\t\n\t      if (!locationLabelsCheckbox.prop('disabled')) {\n\t        locationLabelsCheckbox.prop('checked', visibility);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visibility\r\n\t     */\n\t    onGeofenceLabelsVisibilityChanged: function onGeofenceLabelsVisibilityChanged(visibility) {\n\t\n\t      if (!geofenceLabelsCheckbox.prop('disabled')) {\n\t        geofenceLabelsCheckbox.prop('checked', visibility);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectId\r\n\t     * @param highlighted\r\n\t     */\n\t    onPositionHighlightChanged: function onPositionHighlightChanged(objectId, highlighted) {\n\t\n\t      if (objectId) {\n\t        var assetCategoryFilterEnabled = viewer.isAssetCategoryFilterEnabled();\n\t\n\t        if (assetCategoryFilterEnabled) {\n\t          var kTreeView = positionTree.data('kendoTreeView');\n\t          var selectedUid = kTreeView.dataSource.get(objectId).uid;\n\t\n\t          kTreeView.select(kTreeView.findByUid(selectedUid));\n\t        } else {\n\t          var targetItem = $(_.find(positionList.children('.list-group-item'), function (listItem) {\n\t            return $(listItem).data('id') === objectId;\n\t          }));\n\t\n\t          targetItem.toggleClass('active', highlighted);\n\t        }\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    onUseClustersStatusChanged: function onUseClustersStatusChanged(activated) {\n\t\n\t      if (!useClustersCheckbox.prop('disabled')) {\n\t        useClustersCheckbox.prop('checked', activated);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    onConnecinstancetoryPositionsStatusChanged: function onConnecinstancetoryPositionsStatusChanged(activated) {\n\t\n\t      if (!positionsConnectorCheckbox.prop('disabled')) {\n\t        positionsConnectorCheckbox.prop('checked', activated);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param filters\r\n\t     */\n\t    onAssetStatusFiltersChanged: function onAssetStatusFiltersChanged(filters) {\n\t      var kStatusFiltersMultiSelect = statusFiltersMultiSelect.data('kendoMultiSelect');\n\t\n\t      if (kStatusFiltersMultiSelect) {\n\t        kStatusFiltersMultiSelect.value(filters);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param activated\r\n\t     */\n\t    onAnimationFeatureStatusChanged: function onAnimationFeatureStatusChanged(activated) {\n\t\n\t      if (animationPanel) {\n\t        animationPanel.fadeIn(1000).toggleClass('hidden', !activated);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param currentStep\r\n\t     */\n\t    onAnimationCurrentStepChanged: function onAnimationCurrentStepChanged(currentStep) {\n\t      animationCurrentStepText.text(currentStep);\n\t      animationSlider.data('kendoSlider').value(currentStep);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param maxStep\r\n\t     */\n\t    onAnimationMaxStepChanged: function onAnimationMaxStepChanged(maxStep) {\n\t      animationMaxStepText.text(maxStep);\n\t      rebuildAnimationSlider();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param animationInfo\r\n\t     */\n\t    onAnimationInfoChanged: function onAnimationInfoChanged(animationInfo) {\n\t      animationInfoText.text(animationInfo);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param animationSpeed\r\n\t     */\n\t    onAnimationSpeedChanged: function onAnimationSpeedChanged(animationSpeed) {\n\t      animationSpeedDropDown.data('kendoDropDownList').value(animationSpeed);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param trailLength\r\n\t     */\n\t    onAnimationTrailLengthChanged: function onAnimationTrailLengthChanged(trailLength) {\n\t      trailLengthDropDown.data('kendoDropDownList').value(trailLength);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param animationState\r\n\t     */\n\t    onAnimationStateChanged: function onAnimationStateChanged(animationState) {\n\t\n\t      if (animationState === PAUSE) {\n\t        setAnimationButtonsEnabled({\n\t          pause: false,\n\t          stop: true,\n\t          play: true\n\t        });\n\t      } else if (animationState === STOP) {\n\t        setAnimationButtonsEnabled({\n\t          pause: false,\n\t          stop: false,\n\t          play: true\n\t        });\n\t      } else {\n\t        setAnimationButtonsEnabled({\n\t          pause: true,\n\t          stop: true,\n\t          play: false\n\t        });\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectType\r\n\t     */\n\t    onEditableObjectTypeChanged: function onEditableObjectTypeChanged(objectType) {\n\t\n\t      _.forEach(objectEditors, function (oEditor) {\n\t        var objectEditor = $(oEditor);\n\t\n\t        var editModeActivator = objectEditor.prev('.editmode-activator');\n\t        var editorFieldset = objectEditor.find('.editor-fieldset');\n\t        var editModeActivated = objectEditor.data('objecttype') === objectType;\n\t\n\t        editModeActivator.toggleClass('hidden', editModeActivated);\n\t        objectEditor.toggleClass('hidden', !editModeActivated);\n\t        setFieldsetEnabled(editorFieldset, editModeActivated);\n\t\n\t        if (!editModeActivated) {\n\t          objectEditor.find('.form-group').toggleClass('has-error', false);\n\t\n\t          objectEditor.find('.invalid-block').toggleClass('hidden', true);\n\t        }\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param shapeType\r\n\t     */\n\t    onEditableObjectShapeTypeChanged: function onEditableObjectShapeTypeChanged(shapeType) {\n\t      var objectType = viewer.getEditManager().getEditableObjectType();\n\t      var objectEditor = objectEditors.filter('[data-objecttype=\"' + objectType + '\"]');\n\t      var shapeTypeButtons = objectEditor.find('.editableobject-shapetype');\n\t      var shapeParameterFieldset = objectEditor.find('.shapeparameter-fieldset');\n\t\n\t      _.forEach(shapeTypeButtons, function (btn) {\n\t        var button = $(btn);\n\t\n\t        var active = button.data('shapetype') === shapeType;\n\t        button.toggleClass('active', active);\n\t      });\n\t\n\t      _.forEach(shapeParameterFieldset.children('.form-group'), function (frmGroup) {\n\t        var formGroup = $(frmGroup);\n\t\n\t        var shown = formGroup.data('shapetype') === shapeType;\n\t        formGroup.toggleClass('hidden', !shown);\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param lat\r\n\t     * @param lng\r\n\t     */\n\t    onEditableObjectLatLngChanged: function onEditableObjectLatLngChanged(lat, lng) {\n\t      locationCoordinatesTextbox.val(lat + ', ' + lng);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param coordinates\r\n\t     */\n\t    onEditableObjectCoordinatesChanged: function onEditableObjectCoordinatesChanged(coordinates) {\n\t      var objectType = viewer.getEditManager().getEditableObjectType();\n\t      var objectEditor = objectEditors.filter('[data-objecttype=\"' + objectType + '\"]');\n\t      var coordinatesTextbox = objectEditor.find('.editableobject-coordinates');\n\t\n\t      // Default value of coordinates property.\n\t      coordinatesTextbox.val('');\n\t\n\t      if (!_.isEmpty(coordinates)) {\n\t        var coordinatesValid = _.every(coordinates, _.isFinite);\n\t\n\t        if (coordinatesValid) {\n\t          coordinatesTextbox.val(coordinates.join(', '));\n\t        }\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param bufferDistance\r\n\t     */\n\t    onEditableObjectBufferDistanceChanged: function onEditableObjectBufferDistanceChanged(bufferDistance) {\n\t      var objectType = viewer.getEditManager().getEditableObjectType();\n\t      var objectEditor = objectEditors.filter('[data-objecttype=\"' + objectType + '\"]');\n\t      var bufferDistanceTextbox = objectEditor.find('.editableobject-bufferdistance');\n\t\n\t      bufferDistanceTextbox.val(_.round(bufferDistance));\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectName\r\n\t     */\n\t    onEditableObjectNameChanged: function onEditableObjectNameChanged(objectName) {\n\t      var objectType = viewer.getEditManager().getEditableObjectType();\n\t      var objectEditor = objectEditors.filter('[data-objecttype=\"' + objectType + '\"]');\n\t      var objectNameTextbox = objectEditor.find('.editableobject-objectname');\n\t\n\t      objectNameTextbox.val(objectName);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param configName\r\n\t     */\n\t    onEditableObjectConfigNameChanged: function onEditableObjectConfigNameChanged(configName) {\n\t      var objectType = viewer.getEditManager().getEditableObjectType();\n\t      var objectEditor = objectEditors.filter('[data-objecttype=\"' + objectType + '\"]');\n\t      var configNameDropDown = objectEditor.find('select.editableobject-configname');\n\t\n\t      configNameDropDown.data('kendoDropDownList').value(configName);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param propertyName\r\n\t     * @param validity\r\n\t     */\n\t    onEditableObjectPropertyValidityChanged: function onEditableObjectPropertyValidityChanged(propertyName, validity) {\n\t      var objectType = viewer.getEditManager().getEditableObjectType();\n\t      var objectEditor = objectEditors.filter('[data-objecttype=\"' + objectType + '\"]');\n\t\n\t      var propName = propertyName.toLowerCase();\n\t\n\t      var editableObjectFormGroup = objectEditor.find('.form-group:visible').has('.editableobject-' + propName);\n\t\n\t      var editableObjectInvalidBlock = editableObjectFormGroup.find('.invalid-' + propName);\n\t\n\t      var valid = validity.valid;\n\t      var invalidText = validity.invalidText;\n\t\n\t\n\t      editableObjectFormGroup.toggleClass('has-error', !valid);\n\t      editableObjectInvalidBlock.toggleClass('hidden', valid);\n\t\n\t      if (invalidText) {\n\t        editableObjectInvalidBlock.find('.invalid-text').text(invalidText);\n\t      }\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t\n\t  /* region init code */\n\t\n\t  controlsView.html(viewTemplate);\n\t  _app2.default.i18n.translateContent(controlsView);\n\t\n\t  setupMethodLookups();\n\t\n\t  buildGeneralControls();\n\t  buildMapViewPanelControls();\n\t  buildIntervalsPanelControls();\n\t  buildNavigationPanelControls();\n\t  buildAnimationPanelControls();\n\t  buildLocationsPanelControls();\n\t  buildGeofencesPanelControls();\n\t\n\t  setFieldsetEnabled('fieldset:disabled', false);\n\t\n\t  /* endregion init code */\n\t});\n\t\n\texports.default = Controls;\n\texports.Controls = Controls;\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.CoordinatesDisplay = exports.default = undefined;\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar CoordinatesDisplay = stampit().props({\n\t\n\t    /**\r\n\t     * Model\r\n\t     */\n\t    viewer: undefined\n\t}).init(function (_ref) {\n\t    var instance = _ref.instance;\n\t    var viewer = instance.viewer;\n\t\n\t    /* region private properties */\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t\n\t    var coordinatesDisplayView = void 0;\n\t\n\t    /*\r\n\t     * Controller\r\n\t     */\n\t    var controller = void 0;\n\t\n\t    /* endregion private properties */\n\t\n\t    /* region privileged methods */\n\t\n\t    _.assign(instance, {\n\t\n\t        /**\r\n\t         *\r\n\t         * @param mapController\r\n\t         */\n\t\n\t        setController: function setController(mapController) {\n\t            controller = mapController;\n\t        },\n\t\n\t\n\t        /**\r\n\t         *\r\n\t         * @param longitude\r\n\t         * @param latitude\r\n\t         */\n\t        setCoordinates: function setCoordinates(longitude, latitude) {\n\t            coordinatesDisplayView.val(longitude.toFixed(8) + ', ' + latitude.toFixed(8));\n\t        }\n\t    });\n\t\n\t    /* endregion privileged methods */\n\t\n\t    /* region init code */\n\t\n\t    var _viewer$getCenter = viewer.getCenter();\n\t\n\t    var lat = _viewer$getCenter.lat;\n\t    var lng = _viewer$getCenter.lng;\n\t\n\t    var defaultCoordinates = [lng.toFixed(8), lat.toFixed(8)];\n\t\n\t    coordinatesDisplayView = $('<input>').addClass('form-control input-sm map-coordinatesdisplay').attr({\n\t        type: 'text',\n\t        title: _app2.default.translate('Enter \"longitude, latitude\" coordinates and press enter.'),\n\t        'data-toggle': 'tooltip', // Make it a nice Bootstrap tooltip.\n\t        size: 24\n\t    }).on('keydown', function (e) {\n\t\n\t        if (e.which === 13) {\n\t            // \"Enter\" key\n\t\n\t            var inputText = $(e.target);\n\t            var coordinatesString = inputText.val();\n\t            var coordinates = coordinatesString.split(',');\n\t            var _lng = parseFloat(coordinates[0].trim());\n\t            var _lat = parseFloat(coordinates[1].trim());\n\t\n\t            if (_.isFinite(_lng) && _.isFinite(_lat)) {\n\t                inputText.data('coordinatesString', coordinatesString);\n\t                viewer.panTo(_lng, _lat);\n\t            } else {\n\t                inputText.val(inputText.data('coordinatesString'));\n\t            }\n\t        }\n\t    }).val(defaultCoordinates.join(', ')).appendTo(viewer.container);\n\t\n\t    /* endregion init code */\n\t}); /**\r\n\t     * Created by Glenn on 2015-04-27.\r\n\t     */\n\t\n\texports.default = CoordinatesDisplay;\n\texports.CoordinatesDisplay = CoordinatesDisplay;\n\n/***/ },\n/* 93 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.DateRangeSlider = exports.default = undefined;\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar config = _app2.default.config; /**\r\n\t                                    * Created by Glenn on 2015-04-27.\r\n\t                                    */\n\t\n\tvar util = _app2.default.util;\n\t\n\t\n\tvar DateRangeSlider = stampit().props({\n\t\n\t  /**\r\n\t   * Model\r\n\t   */\n\t  viewer: undefined\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t  var viewer = instance.viewer;\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t\n\t  var sliderHook = void 0;\n\t  var latestEventCheckbox = void 0;\n\t  var slider = void 0;\n\t  var fromDateTimePicker = void 0;\n\t  var toDateTimePicker = void 0;\n\t  var presetIntervalsDropDown = void 0;\n\t\n\t  /*\r\n\t   * Controller\r\n\t   */\n\t  var controller = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region private methods */\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildLatestEventCheckbox() {\n\t    latestEventCheckbox = $('<input>').attr({\n\t      type: 'checkbox'\n\t    }).on('click', function (e) {\n\t      var checked = $(e.target).is(':checked');\n\t\n\t      controller.onDataSelectionOptionsUpdated({ latest: checked });\n\t\n\t      controller.onPositionsFetchingRequested(viewer.getLayerManager().getPositionLayerName());\n\t    });\n\t\n\t    var latestEventView = $('<div>').addClass('checkbox map-drs-latestevent').attr({\n\t      title: _app2.default.translate('Select this option to view the latest event(s).'),\n\t      'data-toggle': 'tooltip'\n\t    }).append($('<label>').append(latestEventCheckbox).append($('<span>').addClass('checkbox-name').text(_app2.default.translate('Latest'))));\n\t\n\t    sliderHook.append(latestEventView);\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildRangeSlider() {\n\t    slider = $('<div>').addClass('map-drs-slider');\n\t\n\t    var now = config.map.now();\n\t    var today = viewer.selectIntervalRange('TODAY');\n\t    var tomorrow = {\n\t\n\t      /*\r\n\t       * tomorrow.min = tomorrow 12:00 AM\r\n\t       * (12 midnight).\r\n\t       */\n\t      min: new Date(new Date(today.min).setDate(today.min.getDate() + 1))\n\t    };\n\t    var oneDay = 86400000;\n\t    var sliderGranularity = 60000; // one minute granularity\n\t    var dataSelectionOptions = viewer.getDataSelectionOptions();\n\t    var from = dataSelectionOptions.from;\n\t    var to = dataSelectionOptions.to;\n\t    var min = tomorrow.min;\n\t\n\t\n\t    var noUiSliderOptions = {\n\t      //margin   : oneDay,\n\t      start: [from.getTime(), to.getTime()],\n\t      connect: true,\n\t      behaviour: 'tap-drag',\n\t      step: sliderGranularity,\n\t      range: {\n\t        min: min.getTime() - config.map.dateRangeMinimum * oneDay,\n\t        '64%': min.getTime() - 2 * oneDay,\n\t        '82%': min.getTime() - oneDay,\n\t        max: now.getTime()\n\t      },\n\t      format: wNumb({\n\t        decimals: 0\n\t      })\n\t    };\n\t    slider.noUiSlider(noUiSliderOptions)\n\t\n\t    /**\r\n\t     * TODO: Use `mode: 'values'` for better pips labeling.\r\n\t     * @see: http://refreshless.com/nouislider/pips/\r\n\t     * § Values\r\n\t     */\n\t    .noUiSlider_pips({\n\t      mode: 'range',\n\t      density: 6,\n\t      format: {\n\t        to: function to(value) {\n\t          var pipsLabelText = util.format.date(util.dateToGMT(new Date(value)));\n\t\n\t          //if (value === today.max.getTime()) {\n\t          //    value = tomorrow.min.getTime();\n\t          //}\n\t\n\t          if (value === now.getTime()) {\n\t            pipsLabelText = 'now';\n\t          }\n\t\n\t          return pipsLabelText;\n\t        }\n\t      }\n\t    });\n\t\n\t    /**\r\n\t     * 'change' event are fired when the handle is released,\r\n\t     * even though the values don't change. This would cause\r\n\t     * a useless expensive call to .onPositionsFetchingRequested().\r\n\t     * These lines below serve as a little workaround for it.\r\n\t     *\r\n\t     * @see: http://refreshless.com/nouislider/events-callbacks/\r\n\t     */\n\t    var isSliderValueChanged = function isSliderValueChanged(from, to) {\n\t      var dataSelectionOptions = viewer.getDataSelectionOptions();\n\t      var deltaFrom = Math.abs(dataSelectionOptions.from - from);\n\t      var deltaTo = Math.abs(dataSelectionOptions.to - to);\n\t      var changed = deltaFrom >= sliderGranularity || deltaTo >= sliderGranularity;\n\t\n\t      return changed;\n\t    };\n\t\n\t    slider.on('change', function (e) {\n\t      var values = $(e.currentTarget).val();\n\t      var from = new Date(_.parseInt(values[0]));\n\t      var to = new Date(_.parseInt(values[1]));\n\t\n\t      if (isSliderValueChanged(from, to)) {\n\t        controller.onDataSelectionOptionsUpdated({\n\t          from: from,\n\t          to: to\n\t        });\n\t\n\t        controller.onPositionsFetchingRequested(viewer.getLayerManager().getPositionLayerName());\n\t      }\n\t    });\n\t\n\t    /* region handle label */\n\t\n\t    /*\r\n\t     * Setup handle labels.\r\n\t     */\n\t    var linkMethod = function linkMethod(value, handle) {\n\t      var handleLabel = handle.children('.map-drs-handlelabel');\n\t\n\t      //var whichHandle = (handle.find('.map-drs-handlelabel-lower').length > 0) ?\n\t      //                  'lower' : 'upper';\n\t      //console.log('view - ' + whichHandle + ': ' + value);\n\t\n\t      handleLabel.children('.map-drs-handlelabel-text').remove();\n\t\n\t      handleLabel.prepend($('<span>').addClass('map-drs-handlelabel-text').text(util.format.dateTime(util.dateToGMT(new Date(_.parseInt(value))), 'g')));\n\t    };\n\t\n\t    /**\r\n\t     *\r\n\t     * @see http://refreshless.com/nouislider/examples/\r\n\t     * § Slider with Tooltips - Tooltip with custom HTML\r\n\t     */\n\t    _.forEach(['lower', 'upper'], function (tooltipPos) {\n\t      return slider.Link(tooltipPos).to('-inline-\\n          <div class=\"label label-default map-drs-handlelabel\\n          map-drs-handlelabel-' + tooltipPos + '\"></div>', linkMethod);\n\t    });\n\t\n\t    /*\r\n\t     * Add KendoDateTimePicker widget for both handle labels.\r\n\t     */\n\t    var buildHandleLabelDateTimePicker = function buildHandleLabelDateTimePicker(slider, whichHandle) {\n\t      var handleLabel = slider.find('.map-drs-handlelabel-' + whichHandle);\n\t\n\t      var handleLabelControls = $('<div>').addClass('map-drs-handlelabel-controls\\n          map-drs-handlelabel-controls-' + whichHandle);\n\t\n\t      var dateIcon = $('<span>').addClass('glyphicon glyphicon-calendar map-drs-handlelabel-controls-icon');\n\t\n\t      var timeIcon = $('<span>').addClass('glyphicon glyphicon-time map-drs-handlelabel-controls-icon');\n\t\n\t      var invisibleInput = $('<input>').addClass('map-drs-handlelabel-controls-datetimepicker invisible');\n\t\n\t      if (whichHandle === 'lower') {\n\t        fromDateTimePicker = invisibleInput;\n\t      } else {\n\t        toDateTimePicker = invisibleInput;\n\t      }\n\t\n\t      handleLabelControls.append([dateIcon, timeIcon, invisibleInput]);\n\t\n\t      var range = noUiSliderOptions.range;\n\t      var start = noUiSliderOptions.start;\n\t\n\t\n\t      var kDateTimePicker = invisibleInput.kendoDateTimePicker({\n\t        //footer  : false,\n\t        min: whichHandle === 'lower' ? new Date(range.min) : new Date(start[0]),\n\t        max: whichHandle === 'lower' ? new Date(start[0]) : new Date(range.max),\n\t        value: whichHandle === 'lower' ? new Date(start[0]) : new Date(start[1]),\n\t        interval: 1\n\t      }).data('kendoDateTimePicker');\n\t\n\t      kDateTimePicker.bind('change', function (e) {\n\t        var picker = e.sender;\n\t        var pickedDate = picker.value();\n\t\n\t        if (whichHandle === 'lower') {\n\t\n\t          /*\r\n\t           * Handle invalid 'from' date: from > to.\r\n\t           */\n\t          if (!pickedDate) {\n\t            pickedDate = picker.max();\n\t          }\n\t\n\t          controller.onDataSelectionOptionsUpdated({ from: pickedDate });\n\t        } else {\n\t\n\t          /*\r\n\t           * Handle invalid 'to' date: to < from.\r\n\t           */\n\t          if (!pickedDate) {\n\t            pickedDate = picker.min();\n\t          }\n\t\n\t          controller.onDataSelectionOptionsUpdated({ to: pickedDate });\n\t        }\n\t\n\t        controller.onPositionsFetchingRequested(viewer.getLayerManager().getPositionLayerName());\n\t      });\n\t\n\t      dateIcon.on('click', function () {\n\t\n\t        if (instance.isSliderEnabled()) {\n\t          kDateTimePicker.close('time');\n\t          kDateTimePicker.open('date');\n\t        }\n\t      });\n\t\n\t      timeIcon.on('click', function () {\n\t\n\t        if (instance.isSliderEnabled()) {\n\t          kDateTimePicker.close('date');\n\t          kDateTimePicker.open('time');\n\t        }\n\t      });\n\t\n\t      handleLabel.append(handleLabelControls);\n\t    };\n\t\n\t    buildHandleLabelDateTimePicker(slider, 'lower');\n\t    buildHandleLabelDateTimePicker(slider, 'upper');\n\t\n\t    /* endregion handle label */\n\t\n\t    sliderHook.append(slider);\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildPresetIntervalsDropDown() {\n\t    presetIntervalsDropDown = $('<select>').addClass('map-drs-presetintervals').on('change', function (e) {\n\t      var presetInterval = $(e.target).val();\n\t\n\t      if (presetInterval && presetInterval !== '-') {\n\t        var intervalRange = viewer.selectIntervalRange(presetInterval);\n\t\n\t        var min = intervalRange.min;\n\t        var max = intervalRange.max;\n\t\n\t\n\t        controller.onDataSelectionOptionsUpdated({\n\t          from: min,\n\t          to: max\n\t        });\n\t\n\t        controller.onPositionsFetchingRequested(viewer.getLayerManager().getPositionLayerName());\n\t      }\n\t    }).kendoDropDownList({\n\t      dataTextField: 'text',\n\t      dataValueField: 'value',\n\t      dataSource: [{\n\t        text: _app2.default.translate('Choose interval'),\n\t        value: '-'\n\t      }, {\n\t        text: _app2.default.translate('Today'),\n\t        value: 'TODAY'\n\t      }, {\n\t        text: _app2.default.translate('Yesterday'),\n\t        value: 'YESTERDAY'\n\t      }, {\n\t        text: _app2.default.translate('Last 24 Hours'),\n\t        value: 'LAST_24H'\n\t      }, {\n\t        text: _app2.default.translate('Last 48 Hours'),\n\t        value: 'LAST_48H'\n\t      }]\n\t    });\n\t\n\t    sliderHook.append(presetIntervalsDropDown.data('kendoDropDownList').wrapper);\n\t  }\n\t\n\t  /* endregion private methods */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapController\r\n\t     */\n\t\n\t    setController: function setController(mapController) {\n\t      controller = mapController;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param options\r\n\t     */\n\t    onDataSelectionOptionsChanged: function onDataSelectionOptionsChanged(options) {\n\t      var latest = options.latest;\n\t      var from = options.from;\n\t      var to = options.to;\n\t\n\t\n\t      latestEventCheckbox.prop('checked', latest);\n\t      instance.setSliderVisible(!latest);\n\t\n\t      slider.val([from.getTime(), to.getTime()]);\n\t\n\t      var kFromDateTimePicker = fromDateTimePicker.data('kendoDateTimePicker');\n\t      var kToDateTimePicker = toDateTimePicker.data('kendoDateTimePicker');\n\t\n\t      kFromDateTimePicker.max(to);\n\t      kFromDateTimePicker.value(from);\n\t      kToDateTimePicker.min(from);\n\t      kToDateTimePicker.value(to);\n\t\n\t      var kPresetIntervalsDropDown = presetIntervalsDropDown.data('kendoDropDownList');\n\t      var presetInterval = viewer.selectPresetInterval({ min: from, max: to });\n\t\n\t      kPresetIntervalsDropDown.value(presetInterval);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isSliderEnabled: function isSliderEnabled() {\n\t      return !Boolean(slider.attr('disabled'));\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param enabled\r\n\t     */\n\t    setSliderEnabled: function setSliderEnabled(enabled) {\n\t\n\t      if (enabled) {\n\t        slider.removeAttr('disabled');\n\t      } else {\n\t        slider.attr('disabled', true);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visible\r\n\t     */\n\t    setSliderVisible: function setSliderVisible(visible) {\n\t      slider.toggleClass('hidden', !visible);\n\t      presetIntervalsDropDown.data('kendoDropDownList').wrapper.toggleClass('hidden', !visible);\n\t\n\t      if (visible) {\n\t        sliderHook.css('right', 0);\n\t      } else {\n\t        sliderHook.css('right', 'auto');\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param enabled\r\n\t     */\n\t    setEnabled: function setEnabled(enabled) {\n\t      latestEventCheckbox.prop('disabled', !enabled);\n\t      instance.setSliderEnabled(enabled);\n\t      presetIntervalsDropDown.data('kendoDropDownList').enable(enabled);\n\t\n\t      kendo.ui.progress(viewer.container.closest('.map-display'), !enabled);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visible\r\n\t     */\n\t    setVisible: function setVisible(visible) {\n\t      sliderHook.toggleClass('hidden', !visible);\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t\n\t  /* region init code */\n\t\n\t  if ($.fn.noUiSlider) {\n\t    sliderHook = $('<div>').addClass('map-drs');\n\t\n\t    buildLatestEventCheckbox();\n\t    buildRangeSlider();\n\t    buildPresetIntervalsDropDown();\n\t\n\t    viewer.container.append(sliderHook);\n\t\n\t    /*\r\n\t     * Since currently the date range slider considered\r\n\t     * as an \"extension\" and loaded after the map\r\n\t     * initialization process, we gotta call this\r\n\t     * .onDataSelectionOptionsChanged() manually after\r\n\t     * initializing the date range slider in order to\r\n\t     * sync. the default state of data selection options.\r\n\t     */\n\t    instance.onDataSelectionOptionsChanged(viewer.getDataSelectionOptions());\n\t  } else {\n\t    throw new Error('$.noUiSlider plugin not exist.');\n\t  }\n\t\n\t  /* endregion init code */\n\t});\n\t\n\texports.default = DateRangeSlider;\n\texports.DateRangeSlider = DateRangeSlider;\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Legend = exports.default = undefined;\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _project = __webpack_require__(27);\n\t\n\tvar _styler = __webpack_require__(15);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar config = _app2.default.config; /**\r\n\t                                    * Created by Glenn on 2015-04-27.\r\n\t                                    */\n\t\n\tvar serviceUrls = _project.project.serviceUrls;\n\t\n\tvar styler = _styler.Styler.getInstance();\n\t\n\tvar Legend = stampit().props({\n\t\n\t  /**\r\n\t   * Model\r\n\t   */\n\t  viewer: undefined\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t  var viewer = instance.viewer;\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t\n\t  var legendHook = void 0;\n\t  var legendContent = void 0;\n\t\n\t  /*\r\n\t   * Default general legend symbols applied for all customers.\r\n\t   */\n\t  var pairs = [['Current', 'ROAM - arrow-blue'], ['Historical', 'ROAM - arrow-green'], ['Selected', 'ROAM - arrow-orange'], ['Alarmed', 'ROAM - arrow-red'], ['Engine On', 'ROAM - arrow-purple'], ['Engine Off', 'ROAM - arrow-gray']];\n\t\n\t  if (_app2.default.config.map.legend.isDEWA) {\n\t    _.remove(pairs, function (pair) {\n\t      return pair[0] === 'Historical';\n\t    });\n\t  }\n\t\n\t  var legendSymbols = _.fromPairs(pairs);\n\t\n\t  /*\r\n\t   * Controller\r\n\t   */\n\t  var controller = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region private methods */\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  function buildLegend() {\n\t\n\t    /**\r\n\t     * Generate popover html.\r\n\t     * @type {*|jQuery|HTMLElement}\r\n\t     */\n\t    var legendList = $('<ul>').addClass('list-unstyled legend-list');\n\t\n\t    _.forOwn(legendSymbols, function (symbol, meaning) {\n\t      var asSvg = true;\n\t      var symbolIcon = styler.getDirectionIcon({\n\t        mapCurrentSymbol: symbol,\n\t        heading: 45\n\t      }, asSvg);\n\t\n\t      var legendEntry = $('<li>').addClass('row');\n\t      var meaningPlaceholder = $('<div>').addClass('col-sm-8');\n\t      var symbolPlaceholder = $('<div>').addClass('col-sm-4');\n\t\n\t      meaningPlaceholder.text(_app2.default.translate(meaning)).appendTo(legendEntry);\n\t\n\t      symbolPlaceholder.append(asSvg ? symbolIcon : $('<img>').attr('src', symbolIcon)).appendTo(legendEntry);\n\t\n\t      legendList.append(legendEntry);\n\t    });\n\t    legendContent = legendList[0].outerHTML;\n\t\n\t    var mapCanvas = viewer.container;\n\t\n\t    legendHook = $('<button>').addClass('btn btn-default map-legend').attr({\n\t      title: _app2.default.translate('Legend'),\n\t      'data-toggle': 'tooltip'\n\t    }).popover({\n\t      content: legendContent,\n\t      html: true,\n\t      placement: 'bottom',\n\t      template: '\\n            <div class=\"popover map-legend-popover\" role=\"tooltip\">\\n              <div class=\"arrow\"></div>\\n              <h3 class=\"popover-title\"></h3>\\n              <div class=\"popover-content\"></div>\\n            </div>\\n          ',\n\t      viewport: mapCanvas\n\t    }).append($('<span>').addClass('glyphicon glyphicon-list-alt map-legend-icon')).appendTo(mapCanvas);\n\t  }\n\t\n\t  /* endregion private methods */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapController\r\n\t     */\n\t\n\t    setController: function setController(mapController) {\n\t      controller = mapController;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visible\r\n\t     */\n\t    setVisible: function setVisible(visible) {\n\t      legendHook.toggleClass('hidden', !visible);\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t\n\t  /* region init code */\n\t\n\t  /*\r\n\t   * Customer-defined color coding added to the legend symbols.\r\n\t   */\n\t  var backendServiceEnabled = false;\n\t\n\t  if (backendServiceEnabled) {\n\t    var domainObjectType = viewer.domainObjectType;\n\t    var domainObjectId = viewer.domainObjectId;\n\t\n\t\n\t    $.ajax({\n\t      url: '' + config.serviceUrl + serviceUrls.legend.read,\n\t      data: {\n\t        domainObjectType: domainObjectType,\n\t        domainObjectId: domainObjectId\n\t      },\n\t\n\t      success: function success(data) {\n\t        var legendData = data.legendData;\n\t\n\t\n\t        _.forEach(legendData, function (el) {\n\t          legendSymbols[el.k] = _app2.default.translate(el.v);\n\t        });\n\t      },\n\t      error: function error(jqXHR, textStatus, errorThrown) {\n\t        controller.logError('Error retrieving legend data.', new Error(errorThrown));\n\t      },\n\t      complete: function complete() {\n\t        buildLegend();\n\t      }\n\t    });\n\t  } else {\n\t    buildLegend();\n\t  }\n\t\n\t  /* endregion init code */\n\t});\n\t\n\texports.default = Legend;\n\texports.Legend = Legend;\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.RoutingControls = exports.default = undefined;\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar viewTemplate = __webpack_require__(241); /**\r\n\t                                                  * Created by Glenn on 2015-05-11.\r\n\t                                                  */\n\t\n\tvar util = _app2.default.util;\n\tvar i18n = _app2.default.i18n;\n\t\n\t\n\tvar RoutingControls = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  routingView: undefined,\n\t  /**\r\n\t   *\r\n\t   */\n\t  controlsView: undefined,\n\t  /**\r\n\t   * Model\r\n\t   */\n\t  routingManager: undefined\n\t}).methods({\n\t\n\t  /**\r\n\t   *\r\n\t   * @param enabled\r\n\t   */\n\t\n\t  setProgressOverlayEnabled: function setProgressOverlayEnabled(enabled) {\n\t    kendo.ui.progress(this.routingView, enabled);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  expandRoutingPanel: function expandRoutingPanel() {\n\t    var controlsView = this.controlsView;\n\t\n\t    var panelBar = controlsView.data('kendoPanelBar');\n\t\n\t    if (panelBar) {\n\t      panelBar.expand('.mc-panel-routing');\n\t    } else {\n\t      controlsView.children('.mc-panelbar').children('.mc-panel').removeClass('k-state-active').filter('.mc-panel-routing').addClass('k-state-active');\n\t    }\n\t  }\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t\n\t  instance.routingView = $(viewTemplate);\n\t  var routingView = instance.routingView;\n\t  var controlsView = instance.controlsView;\n\t  var routingManager = instance.routingManager;\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   * Controller\r\n\t   */\n\t\n\t  var controller = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var waypointList = void 0;\n\t  var addWaypointButton = void 0;\n\t  var routeFeatures = void 0;\n\t  var routeSummaryText = void 0;\n\t  var maneuverList = void 0;\n\t  var printRouteIcon = void 0;\n\t  var saveRouteButton = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var targetInputWidget = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region private methods */\n\t\n\t  /**\r\n\t   *\r\n\t   * @param waypoint\r\n\t   * @returns {*|jQuery|HTMLElement}\r\n\t   */\n\t  function createWaypointItem(waypoint) {\n\t    var waypointItem = $('<li>').addClass('waypoint-item');\n\t\n\t    var waypointLabel = $('<span>').addClass('label label-primary waypoint-label').text(waypoint.label);\n\t\n\t    var waypointInput = $('<input>').addClass('waypoint-input').val(waypoint.name).on('input', _.debounce(function (e) {\n\t      var textbox = $(e.target);\n\t      var query = textbox.val();\n\t      var clearInputIcon = textbox.siblings('.waypoint-input-clear');\n\t\n\t      targetInputWidget = textbox.data('kendoAutoComplete');\n\t\n\t      if (query.length === 0) {\n\t        clearInputIcon.fadeOut(200);\n\t        textbox.width('100%');\n\t\n\t        /*\r\n\t         * Make waypoint value invalid,\r\n\t         * but not removing it.\r\n\t         */\n\t        targetInputWidget.select(null);\n\t        targetInputWidget.trigger('select');\n\t      } else if (query.length >= 3) {\n\t        textbox.width('85%');\n\t        clearInputIcon.fadeIn(200);\n\t\n\t        controller.onPlacesSearchRequested(query);\n\t      } else {\n\t\n\t        /*\r\n\t         * Not a limbo; query's length is\r\n\t         * between 1-2.\r\n\t         */\n\t        _.noop();\n\t      }\n\t    }, 600 /* Only consider input after this ms. */));\n\t\n\t    var waypointRemover = $('<button>').addClass('btn btn-link waypoint-remover').attr('title', _app2.default.translate('Remove stop over')).on('click', function (e) {\n\t      var item = $(e.target).parent('.waypoint-item');\n\t\n\t      controller.onWaypointItemRemovalRequested(item.index());\n\t      controller.onRouteCalculationRequested();\n\t    }).append($('<span>').addClass('glyphicon glyphicon-remove'));\n\t\n\t    waypointItem.append([waypointLabel, waypointInput, waypointRemover]);\n\t\n\t    var kWaypointInput = waypointInput.kendoAutoComplete({\n\t      dataSource: routingManager.getPlaces(),\n\t      dataTextField: 'name',\n\t      delay: 1200,\n\t      minLength: 3,\n\t      placeholder: _app2.default.translate('Select stop over...'),\n\t      template: '<span class=\"mc-icon #=data.icon#\"></span><span>#=data.name#</span>',\n\t      /**\r\n\t       *\r\n\t       */\n\t      filtering: function filtering(e) {\n\t\n\t        /*\r\n\t         * No need to do filtering again as the data\r\n\t         * that we received from the services is\r\n\t         * already filtered; just return \"as-is\" and\r\n\t         * show everything.\r\n\t         */\n\t        e.filter.value = '';\n\t      },\n\t      select: function select(e) {\n\t        var item = e.item;\n\t        var sender = e.sender;\n\t\n\t        var selectedItem = item;\n\t        var widget = sender;\n\t        /*\r\n\t         *\r\n\t         */\n\t        var waypointModel = {\n\t          lat: NaN,\n\t          lng: NaN,\n\t          name: '',\n\t          domainObjectType: '',\n\t          domainObjectId: ''\n\t        };\n\t        var index = widget.wrapper.parent('.waypoint-item').index();\n\t\n\t        if (selectedItem) {\n\t          var selectedItemIndex = selectedItem.index();\n\t\n\t          /*\r\n\t           * Make sure the data source of the\r\n\t           * widget is refreshed, because most of\r\n\t           * time it is not. Ok, this is becoming\r\n\t           * more like a \"in-between\" move in chess.\r\n\t           */\n\t          sender.dataSource.read();\n\t\n\t          var dataItem = widget.dataItem(selectedItemIndex);\n\t          var lat = dataItem.lat;\n\t          var lng = dataItem.lng;\n\t          var name = dataItem.name;\n\t          var domainObjectType = dataItem.domainObjectType;\n\t          var domainObjectId = dataItem.domainObjectId;\n\t\n\t\n\t          _.assign(waypointModel, {\n\t            lat: lat,\n\t            lng: lng,\n\t            name: name,\n\t            domainObjectType: domainObjectType,\n\t            domainObjectId: domainObjectId\n\t          });\n\t        }\n\t\n\t        controller.onWaypointItemSelected(waypointModel, index);\n\t        controller.onRouteCalculationRequested();\n\t      }\n\t    }).data('kendoAutoComplete');\n\t\n\t    // clearInputIcon\n\t    $('<span>').addClass('k-icon k-i-close waypoint-input-clear').on('click', function (e) {\n\t      var icon = $(e.target);\n\t      var textbox = icon.siblings('.waypoint-input');\n\t\n\t      textbox.val('').trigger('input').data('kendoAutoComplete').close();\n\t    }).appendTo(kWaypointInput.wrapper).hide();\n\t\n\t    return waypointItem;\n\t  }\n\t\n\t  /* endregion private methods */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapController\r\n\t     */\n\t\n\t    setController: function setController(mapController) {\n\t      controller = mapController;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    updateSaveRouteButton: function updateSaveRouteButton() {\n\t      saveRouteButton.prop('disabled', !routingManager.routeExists());\n\t    },\n\t\n\t\n\t    /**\r\n\t     * The waypoints render quite dodgy when adding or removing\r\n\t     * a waypoint, and/or after rendering route. Duck-punch it.\r\n\t     * @see https://en.wikipedia.org/wiki/Monkey_patch\r\n\t     */\n\t    duckPunchWaypoints: function duckPunchWaypoints() {\n\t\n\t      if (!kendo.support.browser.msie) {\n\t        var win = $(window);\n\t        var scrollTop0 = win.scrollTop();\n\t\n\t        /*\r\n\t         * Doing this in IE wrongly triggers Kendo UI\r\n\t         * AutoComplete's select event on the waypoint input\r\n\t         * element :|\r\n\t         */\n\t        waypointList.children('.waypoint-item').find('input.waypoint-input').focus().blur();\n\t\n\t        win.scrollTop(scrollTop0);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     * @param index\r\n\t     */\n\t    onWaypointAdded: function onWaypointAdded(waypoint, index) {\n\t      var waypointItems = waypointList.children('li');\n\t      var waypointItem = createWaypointItem(waypoint);\n\t      var len = waypointItems.length;\n\t\n\t      if (index >= len) {\n\t        waypointList.append(waypointItem);\n\t      } else {\n\t        waypointItems.eq(index).before(waypointItem);\n\t      }\n\t\n\t      var removerHidden = index === 0 || index === len;\n\t      waypointItem.children('.waypoint-remover').toggleClass('hidden', removerHidden);\n\t\n\t      waypoint.listItem = waypointItem;\n\t\n\t      instance.duckPunchWaypoints();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     */\n\t    onWaypointRemoved: function onWaypointRemoved(waypoint) {\n\t      waypoint.listItem.remove();\n\t\n\t      instance.duckPunchWaypoints();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     * @param toIndex\r\n\t     */\n\t    onWaypointReordered: function onWaypointReordered(waypoint, toIndex) {\n\t      var waypointItem = waypoint.listItem;\n\t      var waypointItemData = waypointItem.data();\n\t      var moved = waypointItemData.toIndex === toIndex;\n\t\n\t      if (!moved) {\n\t        waypointItem = waypointItem.detach();\n\t\n\t        var waypointItems = waypointList.children('li');\n\t        var len = waypointItems.length;\n\t\n\t        if (toIndex >= len) {\n\t          toIndex = len;\n\t          waypointList.append(waypointItem);\n\t        } else {\n\t          waypointItems.eq(toIndex).before(waypointItem);\n\t        }\n\t\n\t        waypointItemData.toIndex = toIndex;\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     */\n\t    onWaypointChanged: function onWaypointChanged(waypoint) {\n\t      var listItem = waypoint.listItem;\n\t\n\t\n\t      if (listItem) {\n\t        listItem.find('input.waypoint-input').data('kendoAutoComplete').value(waypoint.name);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoints\r\n\t     */\n\t    onWaypointsLabelChanged: function onWaypointsLabelChanged(waypoints) {\n\t      var len = waypoints.length;\n\t\n\t      _.forEach(waypoints, function (waypoint, i) {\n\t        var listItem = waypoint.listItem;\n\t\n\t\n\t        if (listItem) {\n\t          listItem.children('.waypoint-label').text(waypoint.label);\n\t\n\t          var removerHidden = i === 0 || i === len - 1;\n\t          listItem.children('.waypoint-remover').toggleClass('hidden', removerHidden);\n\t        }\n\t      });\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param places\r\n\t     */\n\t    onPlacesChanged: function onPlacesChanged(places) {\n\t\n\t      if (targetInputWidget) {\n\t\n\t        /*\r\n\t         * Kendo's way of refreshing the data source properly\r\n\t         * for the AutoComplete widget. :o\r\n\t         */\n\t        targetInputWidget.setDataSource(new kendo.data.DataSource({ data: places }));\n\t\n\t        targetInputWidget.dataSource.read();\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param featureName\r\n\t     * @param avoided\r\n\t     */\n\t    onRouteFeatureChanged: function onRouteFeatureChanged(featureName, avoided) {\n\t      routeFeatures.find('[data-featurename=\"' + featureName + '\"]').prop('checked', !avoided);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param summary\r\n\t     */\n\t    onRouteSummaryChanged: function onRouteSummaryChanged(summary) {\n\t      var distance = summary.distance;\n\t      var duration = summary.duration;\n\t\n\t      var summaryExists = Boolean(distance && duration);\n\t\n\t      if (summaryExists) {\n\t        routeSummaryText.html(util.format.routeSummary(summary));\n\t      }\n\t\n\t      routeSummaryText.closest('.route-summary').toggleClass('hidden', !summaryExists);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param maneuvers\r\n\t     */\n\t    onManeuversChanged: function onManeuversChanged(maneuvers) {\n\t      maneuverList.empty();\n\t\n\t      _.forEach(maneuvers, function (maneuver) {\n\t        var maneuverItem = $('<li>').addClass('list-group-item').html(maneuver.instruction);\n\t\n\t        var baseCssAction = maneuver.baseCssAction;\n\t        var action = maneuver.action;\n\t\n\t\n\t        if (baseCssAction && action) {\n\t          maneuverItem.prepend($('<span>').addClass(baseCssAction).addClass(action));\n\t        }\n\t\n\t        maneuverList.append(maneuverItem);\n\t      });\n\t\n\t      maneuverList.closest('.route-directions').toggleClass('hidden', _.isEmpty(maneuvers));\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t\n\t  /* region init code */\n\t\n\t  controlsView.find('.mc-panelbar:first').append(routingView);\n\t  i18n.translateContent(routingView);\n\t\n\t  waypointList = routingView.find('.waypoint-list');\n\t  addWaypointButton = routingView.find('[name=\"add-waypoint\"]');\n\t  routeFeatures = routingView.find('.route-features');\n\t  routeSummaryText = routingView.find('.route-summary-text');\n\t  maneuverList = routingView.find('.maneuver-list');\n\t  printRouteIcon = routingView.find('.print-route');\n\t  saveRouteButton = routingView.find('[name=\"save-route\"]');\n\t\n\t  waypointList.sortable({\n\t    cursor: 'move',\n\t\n\t    start: function start(e, ui) {\n\t      var item = ui.item;\n\t\n\t      var itemData = item.data();\n\t\n\t      itemData.fromIndex = item.index();\n\t    },\n\t    stop: function stop(e, ui) {\n\t      var item = ui.item;\n\t\n\t      var itemData = item.data();\n\t\n\t      itemData.toIndex = item.index();\n\t      var fromIndex = itemData.fromIndex;\n\t      var toIndex = itemData.toIndex;\n\t\n\t      controller.onWaypointItemReorderingRequested(fromIndex, toIndex);\n\t      controller.onRouteCalculationRequested();\n\t    }\n\t  });\n\t\n\t  addWaypointButton.on('click', function () {\n\t    controller.onWaypointItemAdditionRequested(routingManager.getWaypoints().length - 1);\n\t  });\n\t\n\t  routeFeatures.find('.route-feature').each(function (e) {\n\t    var feature = $(e.target);\n\t\n\t    if (routingManager.getViewerModuleName().match(/googlemaps/i)) {\n\t      var featureName = feature.data('featurename');\n\t      var googleMapsFeatures = ['tollroad', 'motorway', 'boatFerry'];\n\t      var featureEnabled = _.includes(googleMapsFeatures, featureName);\n\t\n\t      feature.prop('disabled', !featureEnabled).closest('.checkbox').toggleClass('disabled', !featureEnabled);\n\t    }\n\t  }).on('click', function (e) {\n\t    var feature = $(e.target);\n\t\n\t    controller.onRouteFeatureToggled(feature.data('featurename'), feature.is(':checked'));\n\t    controller.onRouteCalculationRequested();\n\t  });\n\t\n\t  printRouteIcon.on('click', function () {\n\t    return controller.onMapsPrintRequested(true);\n\t  });\n\t\n\t  saveRouteButton.on('click', function () {\n\t    return controller.onRouteSavingRequested();\n\t  });\n\t\n\t  /* endregion init code */\n\t});\n\t\n\texports.default = RoutingControls;\n\texports.RoutingControls = RoutingControls;\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Created by Glenn on 2015-01-16.\r\n\t */\n\t\n\tvar ViewerFactory = stampit().init(function (_ref) {\n\t  var instance = _ref.instance;\n\t\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var viewer = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region private methods */\n\t\n\t  /**\r\n\t   *\r\n\t   * @param mapViewerFactory\r\n\t   * @param options\r\n\t   * @param onMapViewerCreated\r\n\t   */\n\t  function handleCreation(mapViewerFactory, options, onMapViewerCreated) {\n\t    var viewerModuleName = options.viewerModuleName;\n\t    var viewerName = options.viewerName;\n\t    var mapDisplay = options.mapDisplay;\n\t    var domainObjectType = options.domainObjectType;\n\t    var domainObjectId = options.domainObjectId;\n\t    var eventIds = options.eventIds;\n\t    var autoRefresh = options.autoRefresh;\n\t    var autoFocus = options.autoFocus;\n\t    var rememberLastViewportEnabled = options.rememberLastViewportEnabled;\n\t    var lazyLoadingEnabled = options.lazyLoadingEnabled;\n\t    var layerDataFetcher = options.layerDataFetcher;\n\t\n\t\n\t    viewer = mapViewerFactory.create({\n\t      domainObjectType: domainObjectType,\n\t      domainObjectId: domainObjectId,\n\t      moduleName: viewerModuleName,\n\t      name: viewerName,\n\t      container: mapDisplay.children('.map-canvas'),\n\t      alarmEventIds: eventIds,\n\t      autoRefresh: Boolean(autoRefresh),\n\t      autoFocus: Boolean(autoFocus),\n\t      rememberLastViewportEnabled: Boolean(rememberLastViewportEnabled),\n\t      lazyLoadingEnabled: Boolean(lazyLoadingEnabled)\n\t    });\n\t\n\t    viewer.setLayerDataFetcher(layerDataFetcher);\n\t\n\t    onMapViewerCreated(viewer);\n\t  }\n\t\n\t  /**\r\n\t   * Define a split point for each of our maps viewers.\r\n\t   * @see http://webpack.github.io/docs/code-splitting.html\r\n\t   * @see https://github.com/petehunt/webpack-howto#9-async-loading\r\n\t   */\n\t  var factoryActions = {\n\t    heremaps: function heremaps(options, onMapViewerCreated) {\n\t      __webpack_require__.e/* nsure */(1, function () {\n\t\n\t        if (!window.H) {\n\t          __webpack_require__(232);\n\t          __webpack_require__(235);\n\t          __webpack_require__(233);\n\t          __webpack_require__(255);\n\t          __webpack_require__(236);\n\t          __webpack_require__(231);\n\t          __webpack_require__(234);\n\t        }\n\t\n\t        handleCreation(__webpack_require__(107).default, options, onMapViewerCreated);\n\t      });\n\t    },\n\t    googlemaps: function googlemaps(options, onMapViewerCreated) {\n\t      __webpack_require__.e/* nsure */(2, function () {\n\t        window.__google_maps_callback__ = function () {\n\t          __webpack_require__(230);\n\t\n\t          handleCreation(__webpack_require__(58).default, options, onMapViewerCreated);\n\t        };\n\t\n\t        if (!(window.google && window.google.maps)) {\n\t          var params = {\n\t            v: '3.23',\n\t            client: 'gme-roamworks',\n\t            libraries: 'geometry,places',\n\t            callback: '__google_maps_callback__'\n\t          };\n\t\n\t          $.getScript('https://maps.googleapis.com/maps/api/js?' + $.param(params));\n\t        } else {\n\t          handleCreation(__webpack_require__(58).default, options, onMapViewerCreated);\n\t        }\n\t      });\n\t    }\n\t  };\n\t\n\t  /* endregion private methods */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param options\r\n\t     * @param onMapViewerCreated\r\n\t     */\n\t\n\t    createViewer: function createViewer(options, onMapViewerCreated) {\n\t      var viewerModuleName = options.viewerModuleName = options.mapViewer.toLowerCase();\n\t      var factoryAction = factoryActions[viewerModuleName];\n\t\n\t      if (!_.isFunction(factoryAction)) {\n\t        throw new Error('Invalid viewer module name: ' + viewerModuleName + '.');\n\t      }\n\t\n\t      factoryAction(options, onMapViewerCreated);\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t});\n\t\n\texports.default = ViewerFactory;\n\texports.ViewerFactory = ViewerFactory;\n\n/***/ },\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.StaticMap = exports.default = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Created by Glenn on 2015-07-30.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\t\n\t/**\r\n\t *\r\n\t * @see https://developers.google.com/maps/documentation/staticmaps/intro\r\n\t */\n\t\n\t\n\tvar _styler = __webpack_require__(15);\n\t\n\tvar styler = _styler.Styler.getInstance();\n\t\n\t/* region private properties */\n\t\n\tvar baseUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n\t\n\t/* endregion private properties */\n\t\n\t/**\r\n\t *\r\n\t * @singleton\r\n\t */\n\tvar staticMap = {\n\t\n\t  /**\r\n\t   *\r\n\t   * @param container\r\n\t   * @param url\r\n\t   * @param dimensions\r\n\t   * @param roamObject\r\n\t   * @param options\r\n\t   */\n\t\n\t  show: function show(container, url, dimensions, roamObject, options) {\n\t\n\t    if (roamObject) {\n\t      staticMap.renderIcon(container, roamObject, dimensions, options);\n\t    }\n\t\n\t    $('<img>').addClass('map-image').attr('src', url).appendTo(container);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param container\r\n\t   * @param roamObject\r\n\t   * @param dimensions\r\n\t   * @param options\r\n\t   */\n\t  renderIcon: function renderIcon(container, roamObject, dimensions) {\n\t    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\t\n\t\n\t    if (!options.noCentralIcon) {\n\t      var icon = $('<img>').attr({\n\t        src: styler.getRoamIcon(roamObject),\n\t        title: roamObject.name\n\t      }).appendTo(container);\n\t\n\t      var left = options.left;\n\t      var top = options.top;\n\t\n\t      var _dimensions = _slicedToArray(dimensions, 2);\n\t\n\t      var w = _dimensions[0];\n\t      var h = _dimensions[1];\n\t\n\t\n\t      icon.css({\n\t        position: 'absolute',\n\t        left: left || (w - icon.width()) / 2,\n\t        top: top || (h - icon.height()) / 2\n\t      });\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param coordinates - Coordinates in [lng, lat, ...] format.\r\n\t   * @returns {string} - Stringified LatLng in \"lat,lng|lat,lng...\" format.\r\n\t   */\n\t  toLatLngString: function toLatLngString(coordinates) {\n\t    return [].concat(coordinates).reverse().join()\n\t    /**\r\n\t     * Ninja? o)\r\n\t     * @see http://www.regular-expressions.info/floatingpoint.html\r\n\t     * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\r\n\t     */\n\t    .replace(/([-+]?[0-9]*\\.?[0-9]+,[-+]?[0-9]*\\.?[0-9]+),/g, '$1|');\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param container\r\n\t   * @param coordinates\r\n\t   * @param dimensions\r\n\t   * @param zoom\r\n\t   * @param roamObject\r\n\t   * @param options\r\n\t   */\n\t  showStaticMap: function showStaticMap(container, coordinates, dimensions, zoom, roamObject, options) {\n\t    var params = {\n\t      zoom: zoom,\n\t      center: coordinates[1] + ',' + coordinates[0],\n\t      size: dimensions[0] + 'x' + dimensions[1]\n\t    };\n\t    var url = '' + baseUrl + $.param(params);\n\t\n\t    staticMap.show(container, url, dimensions, roamObject, options);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param container\r\n\t   * @param coordinates\r\n\t   * @param dimensions\r\n\t   * @param roamGeofence\r\n\t   */\n\t  showStaticGeofenceMap: function showStaticGeofenceMap(container, coordinates, dimensions, roamGeofence) {\n\t\n\t    /*\r\n\t     *\r\n\t     */\n\t    var coordinates_ = staticMap.toLatLngString(coordinates);\n\t    /*\r\n\t     *\r\n\t     */\n\t    var shapeStyles = styler.getShapeStyles();\n\t    var fenceStyles = _extends({}, shapeStyles.geofence, shapeStyles['geofence' + roamGeofence.fenceType]);\n\t    var strokeColor = fenceStyles.strokeColor;\n\t    var strokeWeight = fenceStyles.strokeWeight;\n\t\n\t    var color = strokeColor.replace('#', '0x');\n\t\n\t    var _fenceStyles$fillColo = fenceStyles.fillColor.replace('#', '0x');\n\t\n\t    var fillColor = _fenceStyles$fillColo.fillColor;\n\t\n\t    var weight = strokeWeight;\n\t    /*\r\n\t     *\r\n\t     */\n\t    var params = {\n\t      path: 'color:' + color + '|fillcolor:' + fillColor + '|weight:' + weight + '|' + coordinates_,\n\t      size: dimensions[0] + 'x' + dimensions[1]\n\t    };\n\t    var url = '' + baseUrl + $.param(params);\n\t\n\t    staticMap.show(container, url);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @deprecated Unused method in web2/js/widget/overviewmap.js?\r\n\t   * @param container\r\n\t   * @param coordinates\r\n\t   * @param dimensions\r\n\t   * @param options\r\n\t   */\n\t  showStaticRegionMap: function showStaticRegionMap(container, coordinates, dimensions, options) {\n\t    _.noop();\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @deprecated Unused method in web2/js/widget/overviewmap.js?\r\n\t   * @param container\r\n\t   * @param roamGeofence\r\n\t   * @param roamAssets\r\n\t   * @param dimensions\r\n\t   * @param bbox - WGS84 Bounds -> [left, bottom, right, top]\r\n\t   */\n\t  showStaticAssetGroupMap: function showStaticAssetGroupMap(container, roamGeofence, roamAssets, dimensions, bbox) {\n\t    _.noop();\n\t  }\n\t};\n\t\n\tvar StaticMap = {\n\t  getInstance: function getInstance() {\n\t    return staticMap;\n\t  }\n\t};\n\t\n\texports.default = StaticMap;\n\texports.StaticMap = StaticMap;\n\n/***/ },\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.StaticMap = exports.default = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Created by Glenn on 2015-07-02.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\t\n\t/**\r\n\t *\r\n\t * @see https://developer.here.com/rest-apis/documentation/enterprise-map-image/\r\n\t */\n\t\n\t\n\tvar _app = __webpack_require__(8);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tvar _styler = __webpack_require__(15);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar styler = _styler.Styler.getInstance();\n\t\n\tvar _App$config$map = _app2.default.config.map;\n\tvar appId = _App$config$map.appId;\n\tvar appCode = _App$config$map.appCode;\n\t\n\t/* region private properties */\n\t\n\tvar protocol = Boolean(window.location.protocol.match(/https/i)) ? 'http' : 'https';\n\tvar baseUrl = protocol + '://image.maps.cit.api.here.com/mia/1.6/';\n\t\n\t/* endregion private properties */\n\t\n\t/**\r\n\t *\r\n\t * @singleton\r\n\t */\n\tvar staticMap = {\n\t\n\t  /**\r\n\t   *\r\n\t   * @param container\r\n\t   * @param url\r\n\t   * @param dimensions\r\n\t   * @param roamObject\r\n\t   * @param options\r\n\t   */\n\t\n\t  show: function show(container, url, dimensions, roamObject, options) {\n\t\n\t    if (roamObject) {\n\t      staticMap.renderIcon(container, roamObject, dimensions, options);\n\t    }\n\t\n\t    $('<img>').addClass('map-image').attr('src', url).appendTo(container);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param container\r\n\t   * @param roamObject\r\n\t   * @param dimensions\r\n\t   * @param options\r\n\t   */\n\t  renderIcon: function renderIcon(container, roamObject, dimensions) {\n\t    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\t\n\t\n\t    if (!options.noCentralIcon) {\n\t      var icon = $('<img>').attr({\n\t        src: styler.getRoamIcon(roamObject),\n\t        title: roamObject.name\n\t      }).appendTo(container);\n\t\n\t      var left = options.left;\n\t      var top = options.top;\n\t\n\t      var _dimensions = _slicedToArray(dimensions, 2);\n\t\n\t      var w = _dimensions[0];\n\t      var h = _dimensions[1];\n\t\n\t\n\t      icon.css({\n\t        position: 'absolute',\n\t        left: left || (w - icon.width()) / 2,\n\t        top: top || (h - icon.height()) / 2\n\t      });\n\t    }\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param coordinates - Coordinates in [lng, lat, ...] format.\r\n\t   * @returns {string} - Stringified LatLng in \"lat,lng,...\" format.\r\n\t   */\n\t  toLatLngString: function toLatLngString(coordinates) {\n\t    return [].concat(coordinates).reverse().join();\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param container\r\n\t   * @param coordinates\r\n\t   * @param dimensions\r\n\t   * @param zoom\r\n\t   * @param roamObject\r\n\t   * @param options\r\n\t   */\n\t  showStaticMap: function showStaticMap(container, coordinates, dimensions, zoom, roamObject, options) {\n\t    coordinates = staticMap.toLatLngString(coordinates);\n\t\n\t    var _dimensions2 = _slicedToArray(dimensions, 2);\n\t\n\t    var w = _dimensions2[0];\n\t    var h = _dimensions2[1];\n\t\n\t    var params = {\n\t      w: w,\n\t      h: h,\n\t      app_id: appId,\n\t      app_code: appCode,\n\t      c: coordinates,\n\t      ctr: coordinates,\n\t      nodot: true,\n\t      z: zoom\n\t    };\n\t    var url = baseUrl + 'mapview?' + $.param(params);\n\t\n\t    staticMap.show(container, url, dimensions, roamObject, options);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @param container\r\n\t   * @param coordinates\r\n\t   * @param dimensions\r\n\t   * @param roamGeofence\r\n\t   */\n\t  showStaticGeofenceMap: function showStaticGeofenceMap(container, coordinates, dimensions, roamGeofence) {\n\t    coordinates = staticMap.toLatLngString(coordinates);\n\t\n\t    /*\r\n\t     *\r\n\t     */\n\t    var shapeStyles = styler.getShapeStyles();\n\t    var fenceStyles = _extends({}, shapeStyles.geofence, shapeStyles['geofence' + roamGeofence.fenceType]);\n\t    var strokeColor = fenceStyles.strokeColor;\n\t    var strokeWeight = fenceStyles.strokeWeight;\n\t\n\t    var fillColor = fenceStyles.fillColor.replace('#', '');\n\t    var lineColor = strokeColor.replace('#', '');\n\t    var lineWidth = strokeWeight;\n\t\n\t    var _dimensions3 = _slicedToArray(dimensions, 2);\n\t\n\t    var w = _dimensions3[0];\n\t    var h = _dimensions3[1];\n\t\n\t\n\t    var params = {\n\t      w: w,\n\t      h: h,\n\t      app_id: appId,\n\t      app_code: appCode,\n\t      a: coordinates,\n\t      sb: 'mk',\n\t      t: 2, // terrain.day\n\t\n\t      //z       : 12,\n\t\n\t      /*\r\n\t       * In argb format.\r\n\t       */\n\t      fc: '33' + fillColor,\n\t      lc: 'ff' + lineColor,\n\t      lw: lineWidth\n\t    };\n\t\n\t    var url = baseUrl + 'region?' + $.param(params);\n\t\n\t    staticMap.show(container, url);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @deprecated Unused method in web2/js/widget/overviewmap.js?\r\n\t   * @param container\r\n\t   * @param coordinates\r\n\t   * @param dimensions\r\n\t   * @param options\r\n\t   */\n\t  showStaticRegionMap: function showStaticRegionMap(container, coordinates, dimensions, options) {\n\t    var _dimensions4 = _slicedToArray(dimensions, 2);\n\t\n\t    var w = _dimensions4[0];\n\t    var h = _dimensions4[1];\n\t\n\t    var params = {\n\t      w: w,\n\t      h: h,\n\t      app_id: appId,\n\t      app_code: appCode,\n\t      nodot: true\n\t    };\n\t\n\t    if (coordinates) {\n\t      params.bbox = staticMap.toLatLngString(coordinates);\n\t    }\n\t\n\t    if (options && options.center) {\n\t      params.ctr = staticMap.toLatLngString(options.center);\n\t    }\n\t\n\t    var url = baseUrl + 'mapview?' + $.param(params);\n\t\n\t    staticMap.show(container, url, dimensions, null, options);\n\t  },\n\t\n\t\n\t  /**\r\n\t   *\r\n\t   * @deprecated Unused method in web2/js/widget/overviewmap.js?\r\n\t   * @param container\r\n\t   * @param roamGeofence\r\n\t   * @param roamAssets\r\n\t   * @param dimensions\r\n\t   * @param bbox - WGS84 Bounds -> [left, bottom, right, top]\r\n\t   */\n\t  showStaticAssetGroupMap: function showStaticAssetGroupMap(container, roamGeofence, roamAssets, dimensions, bbox) {\n\t    var _dimensions5 = _slicedToArray(dimensions, 2);\n\t\n\t    var w = _dimensions5[0];\n\t    var h = _dimensions5[1];\n\t\n\t    var params = {\n\t      w: w,\n\t      h: h,\n\t      app_id: appId,\n\t      app_code: appCode,\n\t      sb: 'mk',\n\t      t: 2 };\n\t\n\t    /*\r\n\t     *\r\n\t     */\n\t    // terrain.day\n\t    var coordinates = staticMap.toLatLngString(roamGeofence.coordinates);\n\t    /*\r\n\t     *\r\n\t     */\n\t    var shapeStyles = styler.getShapeStyles();\n\t    var fenceStyles = _extends({}, shapeStyles.geofence, shapeStyles['geofence' + roamGeofence.fenceType]);\n\t    var strokeColor = fenceStyles.strokeColor;\n\t    var strokeWeight = fenceStyles.strokeWeight;\n\t\n\t\n\t    var fillColor = fenceStyles.fillColor.replace('#', '');\n\t    var lineColor = strokeColor.replace('#', '');\n\t    var lineWidth = strokeWeight;\n\t\n\t    _.assign(params, {\n\t      a0: coordinates,\n\t\n\t      /*\r\n\t       * In argb format.\r\n\t       */\n\t      fc0: '33' + fillColor,\n\t      lc0: 'ff' + lineColor,\n\t      lw0: lineWidth\n\t\n\t    });\n\t\n\t    //, tx0: center.lat + ',' + center.lng + ';' + roamGeofence.name +\n\t    //     ';ff000000;ffffffff;8'\n\t    //, txc0: 'ffff0000'\n\t    //, txs0: 15\n\t    _.forEach(roamAssets, function (roamAsset, i) {\n\t      i = i + 1;\n\t\n\t      var latitude = roamAsset.latitude;\n\t      var longitude = roamAsset.longitude;\n\t\n\t\n\t      params['a' + i] = latitude + ', ' + longitude;\n\t      params['rad' + i] = 500;\n\t\n\t      //params['tx' + i]  = lat + ',' + lng + ';' + roamAsset.name +\n\t      //                    ';ff000000;ffffffff;8'\n\t    });\n\t\n\t    var url = baseUrl + 'region?' + $.param(params);\n\t\n\t    staticMap.show(container, url);\n\t  }\n\t};\n\t\n\tvar StaticMap = {\n\t  getInstance: function getInstance() {\n\t    return staticMap;\n\t  }\n\t};\n\t\n\texports.default = StaticMap;\n\texports.StaticMap = StaticMap;\n\n/***/ },\n/* 107 */,\n/* 108 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.EditManager = exports.default = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Created by Glenn on 2015-07-02.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\t\n\tvar _styler = __webpack_require__(15);\n\t\n\tvar styler = _styler.Styler.getInstance();\n\t\n\tvar EditManager = stampit().init(function (_ref) {\n\t  var instance = _ref.instance;\n\t\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var viewer = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var editableObjectType = void 0;\n\t\n\t  /*\r\n\t   * TODO: Not quite an elegant solution for mimicking two-way\r\n\t   * data binding between the view and the model because, here,\r\n\t   * the default state of the properties is assumed rather than\r\n\t   * bound to the view.\r\n\t   *\r\n\t   * Could have been much easier if we used Angular.\r\n\t   */\n\t  var editableObjectPropertiesList = {\n\t    location: {\n\t      objectName: '',\n\t      configName: 'Bank',\n\t      latitude: NaN,\n\t      longitude: NaN,\n\t      /*\r\n\t       *\r\n\t       */\n\t      shapeType: 'POINT',\n\t      coordinates: []\n\t    },\n\t    geofence: {\n\t      objectName: '',\n\t      configName: 'Exclusive Security',\n\t      type: '',\n\t      geometry: '',\n\t      /*\r\n\t       *\r\n\t       */\n\t      shapeType: 'POLYGON',\n\t      coordinates: [],\n\t      bufferDistances: {\n\t        CIRCLE: 10000,\n\t        PASS: 100\n\t      }\n\t    }\n\t  };\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var editableObject = void 0;\n\t  var editModeLabel = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var clickListener = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var editableObjectPropertyValidationActions = {\n\t    coordinates: function coordinates(_coordinates) {\n\t      var shapeType = instance.getEditableObjectShapeType();\n\t      var shapeTypeValidationAction = shapeTypeValidationActions[shapeType];\n\t      var validity = void 0;\n\t\n\t      if (!_.isFunction(shapeTypeValidationAction)) {\n\t        validity = {\n\t          valid: false,\n\t          invalidText: 'Invalid shape type: ' + shapeType + '.'\n\t        };\n\t      } else {\n\t        var argument = _coordinates;\n\t\n\t        if (shapeType !== 'POINT') {\n\t          argument = _.floor(_coordinates.length / 2);\n\t        }\n\t\n\t        validity = shapeTypeValidationAction(argument);\n\t      }\n\t\n\t      return validity;\n\t    },\n\t    bufferDistance: function bufferDistance(_bufferDistance) {\n\t      return {\n\t\n\t        /*\r\n\t         * For shapes other than circle or pass,\r\n\t         * `undefined` is a valid buffer distance value.\r\n\t         */\n\t        valid: _.isUndefined(_bufferDistance) || _bufferDistance > 10\n\t      };\n\t    },\n\t    objectName: function objectName(_objectName) {\n\t      return {\n\t        valid: _objectName.length >= 3\n\t      };\n\t    }\n\t  };\n\t\n\t  var shapeTypeValidationActions = {\n\t    POINT: function POINT(coordinates) {\n\t      var latLng = coordinates.join(',');\n\t      /**\r\n\t       * Regex for validating lat/lon with lil' bit modifications.\r\n\t       * @see http://stackoverflow.com/a/18690202/2013891\r\n\t       */\n\t      var latPart = /^([-]?([1-8]?\\d(\\.\\d+)?|90(\\.0+)?)),\\s*/;\n\t      var lngPart = /([-]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?))$/;\n\t      var latLngRegex = new RegExp('' + latPart.source + lngPart.source);\n\t\n\t      return {\n\t        valid: Boolean(latLng.match(latLngRegex))\n\t      };\n\t    },\n\t    POLYGON: function POLYGON(pointCount) {\n\t      return {\n\t        valid: pointCount >= 3,\n\t        invalidText: 'Polygon needs at least 3 points.'\n\t      };\n\t    },\n\t    RECTANGLE: function RECTANGLE(pointCount) {\n\t      return {\n\t        valid: pointCount === 2,\n\t        invalidText: 'Rectangle needs 2 points.'\n\t      };\n\t    },\n\t    CIRCLE: function CIRCLE(pointCount) {\n\t      return {\n\t        valid: pointCount === 1,\n\t        invalidText: 'Circle needs a pair of coordinates.'\n\t      };\n\t    },\n\t    PASS: function PASS(pointCount) {\n\t      return {\n\t        valid: pointCount >= 2,\n\t        invalidText: 'Pass needs at least 2 points.'\n\t      };\n\t    }\n\t  };\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var wildcatTypes = { // The Cat is getting wild!! :)\n\t    POLYGON: 'Wildcat.GeoArea',\n\t    RECTANGLE: 'Wildcat.GeoRectangle',\n\t    CIRCLE: 'Wildcat.GeoCircle',\n\t    PASS: 'Wildcat.GeoPass'\n\t  };\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region private methods */\n\t\n\t  /**\r\n\t   *\r\n\t   * @param shapeType\r\n\t   * @param coordinates\r\n\t   * @returns {*}\r\n\t   */\n\t  function createEditableObject(shapeType, coordinates) {\n\t\n\t    /**\r\n\t     *\r\n\t     * @see `.getFactoryMethod()` method in\r\n\t     * web2/js/maps/viewers/map-object.js\r\n\t     */\n\t    if (shapeType.match(/rectangle|circle/i)) {\n\t      shapeType = shapeType + '2';\n\t    } else if (shapeType.match(/pass/i)) {\n\t      shapeType = 'line';\n\t    }\n\t\n\t    var mapObject = viewer.getMapObjectFactory().create({\n\t      viewer: viewer,\n\t      objectModel: {\n\t        coordinates: coordinates,\n\t        shapeType: shapeType.toLowerCase(),\n\t        options: {\n\t          draggable: true,\n\t          editable: true,\n\t          icon: {\n\t            model: styler.getLocationIcon({ locationType: 'missing' })\n\t          },\n\t          styleName: 'editableObject'\n\t        }\n\t      }\n\t    });\n\t\n\t    return mapObject;\n\t  }\n\t\n\t  /**\r\n\t   *\r\n\t   * @param name\r\n\t   * @param value\r\n\t   * @returns {{valid: boolean, invalidText: string}}\r\n\t   */\n\t  function createEditableObjectPropertyValidity(name, value) {\n\t    var editableObjectPropertyValidationAction = editableObjectPropertyValidationActions[name];\n\t\n\t    if (!_.isFunction(editableObjectPropertyValidationAction)) {\n\t      throw new Error('Invalid property name: ' + name + '.');\n\t    }\n\t\n\t    return editableObjectPropertyValidationAction(value);\n\t  }\n\t\n\t  /**\r\n\t   * A lot of strange formatting stuffs below as this is how\r\n\t   * the server wants it, so do not blame me. :)\r\n\t   * @param coordinates\r\n\t   * @param bufferDistance\r\n\t   * @returns {string}\r\n\t   */\n\t  function toGeometryStringParam(coordinates, bufferDistance) {\n\t    var geometry = _(coordinates).map(function (coordinate, i) {\n\t      var n = i + 1;\n\t      var latLng = void 0;\n\t\n\t      if (n % 2 === 0) {\n\t        latLng = coordinates[i - 1].toFixed(8) + ',' + coordinates[i].toFixed(8);\n\t      }\n\t\n\t      return latLng;\n\t    }).compact().join(';');\n\t\n\t    if (bufferDistance) {\n\t      geometry = geometry + ';@' + bufferDistance;\n\t\n\t      if (instance.getEditableObjectShapeType() === 'CIRCLE') {\n\t        geometry = geometry.replace(';@', ',');\n\t      }\n\t    }\n\t\n\t    return geometry;\n\t  }\n\t\n\t  /* endregion private methods */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapViewer\r\n\t     */\n\t    setViewer: _.once(function (mapViewer) {\n\t      return viewer = mapViewer;\n\t    }),\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getEditableObject: function getEditableObject() {\n\t      return editableObject;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapObject\r\n\t     */\n\t    setEditableObject: function setEditableObject(mapObject) {\n\t\n\t      /*\r\n\t       * Model.\r\n\t       */\n\t      instance.setEditableObjectCoordinates(mapObject.objectModel.coordinates);\n\t\n\t      /*\r\n\t       * View listens to model.\r\n\t       */\n\t      if (editableObject) {\n\t        viewer.removeObject(editableObject);\n\t      }\n\t\n\t      editableObject = mapObject;\n\t      viewer.addObject(editableObject);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {string}\r\n\t     */\n\t    getEditableObjectType: function getEditableObjectType() {\n\t      return editableObjectType;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param type\r\n\t     */\n\t    setEditableObjectType: function setEditableObjectType(type) {\n\t\n\t      /*\r\n\t       * Model.\r\n\t       */\n\t      editableObjectType = type;\n\t\n\t      /*\r\n\t       * View listens to model.\r\n\t       */\n\t      if (!editModeLabel) {\n\t        editModeLabel = $('<span>').addClass('label label-primary editor-label').css({\n\t          position: 'absolute',\n\t          left: 4,\n\t          top: 4\n\t        }).appendTo(viewer.container);\n\t      }\n\t\n\t      if (type) {\n\t        editModeLabel.text('Edit Mode: ' + editableObjectType.toUpperCase());\n\t      }\n\t\n\t      editModeLabel.toggleClass('hidden', !type);\n\t\n\t      viewer.getControls().onEditableObjectTypeChanged(type);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getTargetLayerName: function getTargetLayerName() {\n\t      return viewer.getLayerManager().getLayerName(editableObjectType);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getEditableObjectProperties: function getEditableObjectProperties() {\n\t      var editableObjectProperties = editableObjectPropertiesList[editableObjectType];\n\t\n\t      if (!_.isPlainObject(editableObjectProperties)) {\n\t        throw new Error('Edit mode for ' + editableObjectType.toUpperCase() + ' object not supported');\n\t      }\n\t\n\t      return editableObjectProperties;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    getSanitizedEditableObjectProperties: function getSanitizedEditableObjectProperties() {\n\t      var editableObjectProperties = instance.getEditableObjectProperties();\n\t      var shapeType = instance.getEditableObjectShapeType();\n\t      var coordinates = instance.getEditableObjectCoordinates();\n\t\n\t      var wildcatType = wildcatTypes[shapeType];\n\t      if (wildcatType) {\n\t        var bufferDistance = instance.getEditableObjectBufferDistance();\n\t        var geometry = toGeometryStringParam(coordinates, bufferDistance);\n\t\n\t        if (geometry) {\n\t          _.assign(editableObjectProperties, {\n\t            geometry: geometry,\n\t            type: wildcatType\n\t          });\n\t        }\n\t      } else {\n\t        // Assumed to be a point.\n\t\n\t        var _coordinates2 = _slicedToArray(coordinates, 2);\n\t\n\t        var latitude = _coordinates2[0];\n\t        var longitude = _coordinates2[1];\n\t\n\t\n\t        _.assign(editableObjectProperties, {\n\t          latitude: latitude,\n\t          longitude: longitude\n\t        });\n\t      }\n\t\n\t      var sanitizedEditableObjectProperties = _extends({}, editableObjectProperties);\n\t\n\t      delete sanitizedEditableObjectProperties.shapeType;\n\t      delete sanitizedEditableObjectProperties.coordinates;\n\t      delete sanitizedEditableObjectProperties.bufferDistances;\n\t\n\t      return sanitizedEditableObjectProperties;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isEditableObjectPropertiesValid: function isEditableObjectPropertiesValid() {\n\t      var coordinates = instance.getEditableObjectCoordinates();\n\t      var bufferDistance = instance.getEditableObjectBufferDistance();\n\t      var objectName = instance.getEditableObjectName();\n\t\n\t      /*\r\n\t       * Properties to be checked for validity.\r\n\t       */\n\t      var properties = {\n\t        coordinates: coordinates,\n\t        bufferDistance: bufferDistance,\n\t        objectName: objectName\n\t      };\n\t      var valid = true;\n\t\n\t      _.forOwn(properties, function (value, name) {\n\t        var validity = createEditableObjectPropertyValidity(name, value);\n\t\n\t        valid = valid & validity.valid;\n\t\n\t        viewer.getControls().onEditableObjectPropertyValidityChanged(name, validity);\n\t      });\n\t\n\t      return valid;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {string}\r\n\t     */\n\t    getEditableObjectShapeType: function getEditableObjectShapeType() {\n\t      return instance.getEditableObjectProperties().shapeType;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param shapeType\r\n\t     */\n\t    setEditableObjectShapeType: function setEditableObjectShapeType(shapeType) {\n\t\n\t      /*\r\n\t       * Model.\r\n\t       */\n\t      var editableObjectProperties = instance.getEditableObjectProperties();\n\t      editableObjectProperties.shapeType = shapeType;\n\t\n\t      /*\r\n\t       * View listens to model.\r\n\t       */\n\t      instance.reset();\n\t\n\t      clickListener = function clickListener(e) {\n\t        var currentPointer = e.currentPointer;\n\t        var latLng = e.latLng;\n\t\n\t        var point = void 0;\n\t\n\t        if (currentPointer) {\n\t          var viewportX = currentPointer.viewportX;\n\t          var viewportY = currentPointer.viewportY;\n\t\n\t\n\t          point = viewer.pixelToGeo({\n\t            x: viewportX,\n\t            y: viewportY\n\t          });\n\t        } else if (latLng) {\n\t          point = {\n\t            lat: latLng.lat(),\n\t            lng: latLng.lng()\n\t          };\n\t        }\n\t\n\t        var coordinates = [point.lat, point.lng];\n\t        var shapeType = instance.getEditableObjectShapeType();\n\t\n\t        var mapObject = createEditableObject(shapeType, coordinates);\n\t        instance.setEditableObject(mapObject);\n\t\n\t        var auxObjects = mapObject.getData('auxObjects');\n\t        if (auxObjects) {\n\t          viewer.addObjects(auxObjects);\n\t        }\n\t      };\n\t\n\t      viewer.onceEventListener('click', clickListener);\n\t\n\t      viewer.getControls().onEditableObjectShapeTypeChanged(shapeType);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getEditableObjectCoordinates: function getEditableObjectCoordinates() {\n\t      return instance.getEditableObjectProperties().coordinates;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param coordinates\r\n\t     */\n\t    setEditableObjectCoordinates: function setEditableObjectCoordinates(coordinates) {\n\t\n\t      coordinates = _.map(coordinates, function (coordinate) {\n\t\n\t        if (_.isFinite(coordinate)) {\n\t          coordinate = parseFloat(coordinate.toFixed(8));\n\t        }\n\t\n\t        return coordinate;\n\t      });\n\t\n\t      /*\r\n\t       * Model.\r\n\t       */\n\t      var editableObjectProperties = instance.getEditableObjectProperties();\n\t      editableObjectProperties.coordinates = coordinates;\n\t\n\t      /*\r\n\t       * View listens to model.\r\n\t       */\n\t      if (editableObject) {\n\t\n\t        /*\r\n\t         * A bit lazy to make a mapping here. Back to that\r\n\t         * classic if-else statement. Determine object type\r\n\t         * by duck-typing check.\r\n\t         */\n\t        if (_.isFunction(editableObject.setPosition)) {\n\t          var _coordinates3 = coordinates;\n\t\n\t          var _coordinates4 = _slicedToArray(_coordinates3, 2);\n\t\n\t          var lat = _coordinates4[0];\n\t          var lng = _coordinates4[1];\n\t\n\t          // Marker/point.\n\t\n\t          editableObject.setPosition({\n\t            lat: lat,\n\t            lng: lng\n\t          });\n\t        } else if (_.isFunction(editableObject.setCoordinates)) {\n\t\n\t          // Polyline, polygon...\n\t          editableObject.setCoordinates(coordinates);\n\t        } else if (_.isFunction(editableObject.setBounds)) {\n\t          var _coordinates5 = coordinates;\n\t\n\t          var _coordinates6 = _slicedToArray(_coordinates5, 4);\n\t\n\t          var top = _coordinates6[0];\n\t          var left = _coordinates6[1];\n\t          var bottom = _coordinates6[2];\n\t          var right = _coordinates6[3];\n\t\n\t          // Rectangle.\n\t\n\t          editableObject.setBounds({\n\t            left: left,\n\t            bottom: bottom,\n\t            right: right,\n\t            top: top\n\t          });\n\t        } else if (_.isFunction(editableObject.setRadius)) {\n\t          var _coordinates7 = coordinates;\n\t\n\t          var _coordinates8 = _slicedToArray(_coordinates7, 3);\n\t\n\t          var _lat = _coordinates8[0];\n\t          var _lng = _coordinates8[1];\n\t          var radius = _coordinates8[2];\n\t\n\t          // Circle.\n\t\n\t          editableObject.setCenter({\n\t            lat: _lat,\n\t            lng: _lng\n\t          });\n\t          editableObject.setRadius(radius);\n\t        }\n\t      }\n\t\n\t      var controls = viewer.getControls();\n\t      controls.onEditableObjectCoordinatesChanged(coordinates);\n\t      controls.onEditableObjectPropertyValidityChanged('coordinates', createEditableObjectPropertyValidity('coordinates', coordinates));\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    resetEditableObjectCoordinates: function resetEditableObjectCoordinates() {\n\t\n\t      /*\r\n\t       * Model.\r\n\t       */\n\t      var editableObjectProperties = instance.getEditableObjectProperties();\n\t      editableObjectProperties.coordinates = [];\n\t\n\t      /*\r\n\t       * View listens to model.\r\n\t       */\n\t      if (editableObject) {\n\t        var auxObjects = editableObject.getData('auxObjects');\n\t        if (auxObjects) {\n\t          viewer.removeObjects(auxObjects);\n\t        }\n\t\n\t        viewer.removeObject(editableObject);\n\t        editableObject = undefined;\n\t      }\n\t\n\t      var controls = viewer.getControls();\n\t      controls.onEditableObjectCoordinatesChanged([]);\n\t      controls.onEditableObjectPropertyValidityChanged('coordinates', { valid: true });\n\t\n\t      /*\r\n\t       * When resetting object coordinates, make sure buffer\r\n\t       * distance parameter of that particular shape type is\r\n\t       * back to its previous state accordingly.\r\n\t       */\n\t      var bufferDistance = instance.getEditableObjectBufferDistance();\n\t      if (bufferDistance) {\n\t        controls.onEditableObjectBufferDistanceChanged(bufferDistance);\n\t        controls.onEditableObjectPropertyValidityChanged('bufferDistance', { valid: true });\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param lat\r\n\t     * @param lng\r\n\t     */\n\t    setEditableObjectLatLng: function setEditableObjectLatLng(lat, lng) {\n\t      var coordinates = [lat, lng];\n\t\n\t      if (!editableObject) {\n\t        instance.setEditableObject(createEditableObject('POINT', coordinates));\n\t      } else {\n\t        instance.setEditableObjectCoordinates(coordinates);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {number}\r\n\t     */\n\t    getEditableObjectBufferDistance: function getEditableObjectBufferDistance() {\n\t      var _instance$getEditable = instance.getEditableObjectProperties();\n\t\n\t      var bufferDistances = _instance$getEditable.bufferDistances;\n\t\n\t      var shapeType = instance.getEditableObjectShapeType();\n\t      var bufferDistance = void 0;\n\t\n\t      if (bufferDistances && bufferDistances[shapeType]) {\n\t        bufferDistance = bufferDistances[shapeType];\n\t      }\n\t\n\t      return bufferDistance;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param bufferDistance\r\n\t     */\n\t    setEditableObjectBufferDistance: function setEditableObjectBufferDistance(bufferDistance) {\n\t      bufferDistance = parseFloat(bufferDistance.toFixed(8));\n\t\n\t      /*\r\n\t       * Model.\r\n\t       */\n\t      var editableObjectProperties = instance.getEditableObjectProperties();\n\t      var shapeType = instance.getEditableObjectShapeType();\n\t\n\t      editableObjectProperties.bufferDistances[shapeType] = bufferDistance;\n\t\n\t      /*\r\n\t       * View listens to model.\r\n\t       */\n\t      if (editableObject && shapeType === 'CIRCLE') {\n\t        editableObject.setRadius(bufferDistance);\n\t      }\n\t\n\t      var controls = viewer.getControls();\n\t      controls.onEditableObjectBufferDistanceChanged(bufferDistance);\n\t      controls.onEditableObjectPropertyValidityChanged('bufferDistance', createEditableObjectPropertyValidity('bufferDistance', bufferDistance));\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getEditableObjectName: function getEditableObjectName() {\n\t      return instance.getEditableObjectProperties().objectName;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param objectName\r\n\t     */\n\t    setEditableObjectName: function setEditableObjectName(objectName) {\n\t\n\t      /*\r\n\t       * Model.\r\n\t       */\n\t      var editableObjectProperties = instance.getEditableObjectProperties();\n\t      editableObjectProperties.objectName = objectName;\n\t\n\t      /*\r\n\t       * View listens to model.\r\n\t       */\n\t      var controls = viewer.getControls();\n\t      controls.onEditableObjectNameChanged(objectName);\n\t      controls.onEditableObjectPropertyValidityChanged('objectName', createEditableObjectPropertyValidity('objectName', objectName));\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param configName\r\n\t     */\n\t    setEditableObjectConfigName: function setEditableObjectConfigName(configName) {\n\t\n\t      /*\r\n\t       * Model.\r\n\t       */\n\t      var editableObjectProperties = instance.getEditableObjectProperties();\n\t      editableObjectProperties.configName = configName;\n\t\n\t      /*\r\n\t       * View listens to model.\r\n\t       */\n\t      viewer.getControls().onEditableObjectConfigNameChanged(configName);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    reset: function reset() {\n\t      instance.resetEditableObjectCoordinates();\n\t\n\t      if (clickListener) {\n\t        viewer.removeEventListener('click', clickListener);\n\t        clickListener = undefined;\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    destroy: function destroy() {\n\t      instance.reset();\n\t      instance.setEditableObjectType(undefined);\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t});\n\t\n\texports.default = EditManager;\n\texports.EditManager = EditManager;\n\n/***/ },\n/* 109 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\t/**\r\n\t * Created by Glenn on 2015-07-02.\r\n\t */\n\t\n\tvar RoutingManager = stampit().init(function (_ref) {\n\t  var instance = _ref.instance;\n\t\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var viewer = void 0;\n\t\n\t  /*\r\n\t   * View\r\n\t   */\n\t  var routingControls = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var places = [];\n\t  var waypoints = [];\n\t  var route = {\n\t    routingType: 'fastest',\n\t    transportMode: 'car',\n\t    trafficMode: 'default',\n\t    features: {\n\t      tollroad: 0,\n\t      motorway: 0,\n\t      boatFerry: 0,\n\t      tunnel: 0,\n\t      dirtRoad: 0,\n\t      park: 0\n\t    },\n\t    path: [],\n\t    line: undefined,\n\t    legs: [],\n\t    summary: {\n\t      duration: NaN,\n\t      distance: NaN\n\t    },\n\t    maneuvers: []\n\t  };\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var router = void 0;\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var routingLayer = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t\n\t    getViewerModuleName: function getViewerModuleName() {\n\t      return viewer.moduleName;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapViewer\r\n\t     */\n\t    setViewer: _.once(function (mapViewer) {\n\t      return viewer = mapViewer;\n\t    }),\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getRoutingControls: function getRoutingControls() {\n\t      return routingControls;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param routingView\r\n\t     */\n\t    setRoutingControls: function setRoutingControls(routingView) {\n\t      routingControls = routingView;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    initRoutingEngine: _.once(function () {\n\t      router = viewer.getRoutingEngineFactory().create({\n\t        viewer: viewer,\n\t        routingManager: instance\n\t      });\n\t\n\t      routingLayer = viewer.getLayerFactory().create({\n\t        viewer: viewer\n\t      });\n\t      viewer.addOverlay(routingLayer);\n\t    }),\n\t\n\t    /* region Places operations */\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {Array}\r\n\t     */\n\t    getPlaces: function getPlaces() {\n\t      return places;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param placesData\r\n\t     */\n\t    addPlaces: function addPlaces(placesData) {\n\t      places.push.apply(places, _toConsumableArray(placesData));\n\t      routingControls.onPlacesChanged(places);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    clearPlaces: function clearPlaces() {\n\t      var _ref2;\n\t\n\t      (_ref2 = _).pull.apply(_ref2, [places].concat(places)); // Fancy way for emptying array.\n\t      routingControls.onPlacesChanged(places);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param query\r\n\t     * @returns {*}\r\n\t     */\n\t    searchPlaces: function searchPlaces(query) {\n\t      return router.searchPlaces(query);\n\t    },\n\t\n\t\n\t    /* endregion Places operations */\n\t\n\t    /* region Waypoint view-model operations */\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isWaypointValid: function isWaypointValid(waypoint) {\n\t      return Boolean(waypoint && _.isFinite(waypoint.lat) && _.isFinite(waypoint.lng));\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getValidWaypoints: function getValidWaypoints() {\n\t      return _.filter(instance.getWaypoints(), instance.isWaypointValid);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {Array}\r\n\t     */\n\t    getWaypoints: function getWaypoints() {\n\t      return waypoints;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     * @param [index]\r\n\t     */\n\t    addWaypoint: function addWaypoint(waypoint, index) {\n\t      var len = waypoints.length;\n\t      var i = _.isFinite(index) ? index : len;\n\t\n\t      waypoints.splice(i, 0, waypoint);\n\t\n\t      waypoint.pin = instance.createWaypointPin(waypoint);\n\t      instance.addWaypointPin(waypoint.pin);\n\t      instance.updateWaypointLabels();\n\t\n\t      routingControls.onWaypointAdded(waypoint, i);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     * @param index\r\n\t     */\n\t    updateWaypoint: function updateWaypoint(waypoint, index) {\n\t      var updatedWaypoint = _.assign(waypoints[index], waypoint);\n\t\n\t      waypoints.splice(index, 1, updatedWaypoint);\n\t\n\t      instance.updateWaypointPin(updatedWaypoint);\n\t\n\t      routingControls.onWaypointChanged(updatedWaypoint);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param fromIndex\r\n\t     * @param toIndex\r\n\t     */\n\t    reorderWaypoint: function reorderWaypoint(fromIndex, toIndex) {\n\t      var waypoint = waypoints.splice(fromIndex, 1)[0];\n\t\n\t      waypoints.splice(toIndex, 0, waypoint);\n\t\n\t      instance.updateWaypointLabels();\n\t\n\t      routingControls.onWaypointReordered(waypoint, toIndex);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param index\r\n\t     */\n\t    removeWaypoint: function removeWaypoint(index) {\n\t      var waypoint = waypoints.splice(index, 1)[0];\n\t\n\t      instance.removeWaypointPin(waypoint.pin);\n\t      instance.updateWaypointLabels();\n\t\n\t      routingControls.onWaypointRemoved(waypoint);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    updateWaypointLabels: function updateWaypointLabels() {\n\t      var len = waypoints.length;\n\t\n\t      _.forEach(waypoints, function (waypoint, i) {\n\t\n\t        if (i === 0) {\n\t          waypoint.label = 'A';\n\t        } else if (i === len - 1) {\n\t          waypoint.label = 'B';\n\t        } else {\n\t          waypoint.label = i.toString();\n\t        }\n\t\n\t        instance.updateWaypointPin(waypoint);\n\t      });\n\t\n\t      routingControls.onWaypointsLabelChanged(waypoints);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     */\n\t    createWaypointPin: function createWaypointPin(waypoint) {\n\t      var pin = void 0;\n\t\n\t      if (instance.isWaypointValid(waypoint)) {\n\t        var lat = waypoint.lat;\n\t        var lng = waypoint.lng;\n\t        var label = waypoint.label;\n\t\n\t\n\t        pin = viewer.getMapObjectFactory().create({\n\t          viewer: viewer,\n\t          objectModel: {\n\t            shapeType: 'marker',\n\t            coordinates: [lat, lng],\n\t            options: {\n\t              label: label\n\t            }\n\t          }\n\t        });\n\t      }\n\t\n\t      return pin;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypointPin\r\n\t     */\n\t    addWaypointPin: function addWaypointPin(waypointPin) {\n\t\n\t      if (waypointPin) {\n\t        routingLayer.add(waypointPin);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypoint\r\n\t     */\n\t    updateWaypointPin: function updateWaypointPin(waypoint) {\n\t      instance.removeWaypointPin(waypoint.pin);\n\t      waypoint.pin = instance.createWaypointPin(waypoint);\n\t      instance.addWaypointPin(waypoint.pin);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param waypointPin\r\n\t     */\n\t    removeWaypointPin: function removeWaypointPin(waypointPin) {\n\t\n\t      if (waypointPin) {\n\t        routingLayer.remove(waypointPin);\n\t      }\n\t    },\n\t\n\t\n\t    /* endregion Waypoint view-model operations */\n\t\n\t    /* region Routing mode operations */\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {string}\r\n\t     */\n\t    getRoutingType: function getRoutingType() {\n\t      return route.routingType;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {string}\r\n\t     */\n\t    getTransportMode: function getTransportMode() {\n\t      return route.transportMode;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {string}\r\n\t     */\n\t    getTrafficMode: function getTrafficMode() {\n\t      return route.trafficMode;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {route.features|{tollroad, motorway, boatFerry, tunnel, dirtRoad, park}}\r\n\t     */\n\t    getRouteFeatures: function getRouteFeatures() {\n\t      return route.features;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param featureName\r\n\t     * @param avoided\r\n\t     */\n\t    setRouteFeatureAvoided: function setRouteFeatureAvoided(featureName, avoided) {\n\t      route.features[featureName] = avoided ? -1 : 0;\n\t\n\t      routingControls.onRouteFeatureChanged(featureName, avoided);\n\t    },\n\t\n\t\n\t    /* endregion Routing mode operations */\n\t\n\t    /* region Routing operations */\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    routeExists: function routeExists() {\n\t      return route.path.length >= 2;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    canCalculateRoute: function canCalculateRoute() {\n\t      return instance.getValidWaypoints().length >= 2;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    calculateRoute: function calculateRoute() {\n\t      var defer = $.Deferred();\n\t      var promise = defer.promise();\n\t\n\t      if (instance.canCalculateRoute()) {\n\t        promise = router.calculateRoute();\n\t      } else {\n\t        var routingResult = {\n\t          path: [],\n\t          legs: [],\n\t          summary: {},\n\t          maneuvers: []\n\t        };\n\t\n\t        defer.resolve(routingResult);\n\t      }\n\t\n\t      return promise;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param result\r\n\t     */\n\t    setRoutingResult: function setRoutingResult(_ref3) {\n\t      var path = _ref3.path;\n\t      var legs = _ref3.legs;\n\t      var summary = _ref3.summary;\n\t      var maneuvers = _ref3.maneuvers;\n\t\n\t      instance.setRoutePath(path);\n\t      instance.setRouteLegs(legs);\n\t      instance.setRouteSummary(summary);\n\t      instance.setRouteManeuvers(maneuvers);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param path\r\n\t     */\n\t    setRoutePath: function setRoutePath(path) {\n\t      route.path = path;\n\t\n\t      instance.redrawRouteLine();\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    redrawRouteLine: function redrawRouteLine() {\n\t      var mapObjectFactory = viewer.getMapObjectFactory();\n\t\n\t      instance.clearRouteLine();\n\t\n\t      if (instance.routeExists()) {\n\t        var line = mapObjectFactory.create({\n\t          viewer: viewer,\n\t          objectModel: {\n\t            shapeType: 'line',\n\t            coordinates: mapObjectFactory.toCoordinates(route.path),\n\t            options: {\n\t              styleName: 'routeLine'\n\t            }\n\t          }\n\t        });\n\t\n\t        route.line = line;\n\t        routingLayer.add(line);\n\t      }\n\t\n\t      viewer.setBoundingBox(routingLayer.getBounds());\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    clearRouteLine: function clearRouteLine() {\n\t      var line = route.line;\n\t\n\t\n\t      if (line) {\n\t        route.line = undefined;\n\t        routingLayer.remove(line);\n\t      }\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param legs\r\n\t     */\n\t    setRouteLegs: function setRouteLegs(legs) {\n\t      route.legs = legs;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param summary\r\n\t     */\n\t    setRouteSummary: function setRouteSummary(summary) {\n\t      route.summary = summary;\n\t\n\t      routingControls.onRouteSummaryChanged(summary);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param maneuvers\r\n\t     */\n\t    setRouteManeuvers: function setRouteManeuvers(maneuvers) {\n\t      route.maneuvers = maneuvers;\n\t\n\t      routingControls.onManeuversChanged(maneuvers);\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {{start: *, end: *, maneuvers: Array}}\r\n\t     */\n\t    getRouteDirections: function getRouteDirections() {\n\t      return {\n\t        startingPoint: _.first(waypoints).name,\n\t        destination: _.last(waypoints).name,\n\t        maneuvers: route.maneuvers\n\t      };\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {{}}\r\n\t     */\n\t    yieldSaveRouteRequestData: function yieldSaveRouteRequestData() {\n\t      var data = {\n\t        path: [],\n\t        waypoints: []\n\t      };\n\t\n\t      if (instance.routeExists()) {\n\t        (function () {\n\t          var path = route.path;\n\t          var legs = route.legs;\n\t\n\t          var validWaypoints = _.filter(waypoints, instance.isWaypointValid);\n\t\n\t          _.assign(data, {\n\t            path: _.map(path, function (point) {\n\t              return point.lat + ',' + point.lng;\n\t            }),\n\t\n\t            /*\r\n\t             * Create waypoint data from each leg.\r\n\t             * Number of legs = number of waypoints - 1.\r\n\t             */\n\t            waypoints: _.map(legs, function (leg, i) {\n\t              var _validWaypoints$i = validWaypoints[i];\n\t              var name = _validWaypoints$i.name;\n\t              var domainObjectType = _validWaypoints$i.domainObjectType;\n\t              var domainObjectId = _validWaypoints$i.domainObjectId;\n\t              var firstPointIndex = leg.firstPointIndex;\n\t              var length = leg.length;\n\t              var traveltime = leg.traveltime;\n\t\n\t\n\t              return {\n\t                name: name,\n\t                length: length,\n\t                traveltime: traveltime,\n\t                domainObjectType: domainObjectType || undefined,\n\t                domainObjectId: domainObjectId || undefined,\n\t                index: firstPointIndex\n\t              };\n\t            })\n\t          });\n\t\n\t          /*\r\n\t           * Do not forget to push the last waypoint\r\n\t           * (destination) to the list.\r\n\t           */\n\t          var lastWaypoint = _.last(validWaypoints);\n\t          var name = lastWaypoint.name;\n\t          var domainObjectType = lastWaypoint.domainObjectType;\n\t          var domainObjectId = lastWaypoint.domainObjectId;\n\t\n\t\n\t          data.waypoints.push({\n\t            name: name,\n\t            domainObjectType: domainObjectType || undefined,\n\t            domainObjectId: domainObjectId || undefined,\n\t            index: path.length - 1,\n\t            length: 0,\n\t            traveltime: 0\n\t          });\n\t        })();\n\t      }\n\t\n\t      return data;\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t});\n\t\n\t/* endregion Routing operations */\n\texports.default = RoutingManager;\n\texports.RoutingManager = RoutingManager;\n\n/***/ },\n/* 110 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * Created by Glenn on 2015-08-10.\r\n\t */\n\t\n\t/**\r\n\t * Separate dedicated stamp for map object's label. Things may get more\r\n\t * complicated sooner or later; \"Winter is coming.\"\r\n\t * @see https://jira.roamworks.com/browse/AI-232\r\n\t */\n\tvar MapObjectLabel = stampit().props({\n\t\n\t  /**\r\n\t   *\r\n\t   */\n\t  mapObject: undefined\n\t}).init(function (_ref) {\n\t  var instance = _ref.instance;\n\t\n\t  var object = instance.mapObject;\n\t\n\t  /* region private properties */\n\t\n\t  /*\r\n\t   *\r\n\t   */\n\t  var label = void 0;\n\t\n\t  /* endregion private properties */\n\t\n\t  /* region privileged methods */\n\t\n\t  _.assign(instance, {\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t\n\t    getNativeObject: function getNativeObject() {\n\t      return label;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param mapObject\r\n\t     * @returns {*}\r\n\t     */\n\t    setMapObject: function setMapObject(mapObject) {\n\t      object = instance.mapObject = mapObject;\n\t\n\t      return instance;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param text\r\n\t     * @returns {*}\r\n\t     */\n\t    setText: function setText(text) {\n\t      label.text(text);\n\t\n\t      return instance;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    getPosition: function getPosition() {\n\t      return label.data('position');\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param x\r\n\t     * @param y\r\n\t     * @returns {*}\r\n\t     */\n\t    setPosition: function setPosition(x, y) {\n\t      label.css({\n\t        left: x,\n\t        top: y\n\t      }).data('position', {\n\t        x: x,\n\t        y: y\n\t      });\n\t\n\t      return instance;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param direction\r\n\t     * @param magnitude\r\n\t     * @returns {*}\r\n\t     */\n\t    shiftPosition: function shiftPosition(direction, magnitude) {\n\t      var labelData = label.data();\n\t\n\t      labelData.shiftDirection = direction;\n\t\n\t      if (object) {\n\t        var _object = object;\n\t        var viewer = _object.viewer;\n\t        var getPosition = _object.getPosition;\n\t\n\t        var geo = _.isFunction(getPosition) ? object.getPosition() : object.getCenterBounds();\n\t\n\t        labelData.origin = viewer.geoToPixel(geo);\n\t      }\n\t\n\t      var _labelData$origin = labelData.origin;\n\t      var x = _labelData$origin.x;\n\t      var y = _labelData$origin.y;\n\t\n\t      var x0 = x;\n\t      var y0 = y;\n\t      var m = magnitude || 8;\n\t      var directionActions = {\n\t        E: function E() {\n\t          return instance.setPosition(x0 + m, y0);\n\t        }\n\t\n\t      };\n\t\n\t      //SE: () => instance.setPosition(x0 + m, y0 + m),\n\t      //S : () => instance.setPosition(x0, y0 + m),\n\t      //SW: () => instance.setPosition(x0 - m, y0 + m),\n\t      //W : () => instance.setPosition(x0 - m, y0),\n\t      //NW: () => instance.setPosition(x0 - m, y0 - m),\n\t      //N : () => instance.setPosition(x0, y0 - m),\n\t      //NE: () => instance.setPosition(x0 + m, y0 - m),\n\t      var directionAction = directionActions[direction];\n\t\n\t      if (!_.isFunction(directionAction)) {\n\t        throw new Error('Invalid direction: ' + shapeType + '.');\n\t      }\n\t\n\t      directionAction();\n\t\n\t      return instance;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {*}\r\n\t     */\n\t    updatePosition: function updatePosition() {\n\t      instance.shiftPosition(label.data('shiftDirection'));\n\t\n\t      return instance;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isWithinMapBounds: function isWithinMapBounds() {\n\t      var withinMapBounds = false;\n\t\n\t      if (object) {\n\t        var _instance$getPosition = instance.getPosition();\n\t\n\t        var x = _instance$getPosition.x;\n\t        var y = _instance$getPosition.y;\n\t        var _object$viewer$contai = object.viewer.container[0];\n\t        var clientWidth = _object$viewer$contai.clientWidth;\n\t        var clientHeight = _object$viewer$contai.clientHeight;\n\t\n\t\n\t        withinMapBounds = x > 0 && y > 0 && x < clientWidth && y < clientHeight;\n\t      }\n\t\n\t      return withinMapBounds;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    isVisible: function isVisible() {\n\t      return label.data('visible');\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     * @param visible\r\n\t     * @returns {*}\r\n\t     */\n\t    setVisible: function setVisible(visible) {\n\t      //label.detach();\n\t\n\t      /**\r\n\t       * Appending/removing DOM element (label element) has to\r\n\t       * be very efficient here. Use native browser operations\r\n\t       * in favour of jQuery.\r\n\t       * @see http://youmightnotneedjquery.com/\r\n\t       */\n\t      var elem = label[0];\n\t      var parentNode = elem.parentNode;\n\t\n\t\n\t      if (visible && object && object.isVisible(true)) {\n\t        var _object2 = object;\n\t        var viewer = _object2.viewer;\n\t\n\t\n\t        parentNode = viewer.container[0];\n\t        parentNode.appendChild(elem);\n\t\n\t        /*\r\n\t         * Cache the offset values of the label because when\r\n\t         * the label is not visible (removed from the DOM\r\n\t         * tree), the offset values can't be measured => 0.\r\n\t         * Only compute and cache them at the first time.\r\n\t         */\n\t        if (viewer.isAutoLabelingActivated() && !elem.dimensionCached) {\n\t          var offsetWidth = elem.offsetWidth;\n\t          var offsetHeight = elem.offsetHeight;\n\t\n\t\n\t          elem.dimensionCached = true;\n\t          elem.cachedWidth = offsetWidth;\n\t          elem.cachedHeight = offsetHeight;\n\t        }\n\t      } else {\n\t\n\t        if (parentNode) {\n\t          parentNode.removeChild(elem);\n\t        }\n\t      }\n\t\n\t      label.data('visible', visible);\n\t\n\t      return instance;\n\t    },\n\t\n\t\n\t    /**\r\n\t     *\r\n\t     */\n\t    destroy: function destroy() {\n\t      label.remove();\n\t    }\n\t  });\n\t\n\t  /* endregion privileged methods */\n\t\n\t  /* region init code */\n\t\n\t  label = $('<span>')\n\t\n\t  /*\r\n\t   * Use Bootstrap Labels.\r\n\t   * There are also styles like \"label-primary\",\r\n\t   * \"label-success\", \"label-info\", \"label-warning\" and\r\n\t   * \"label-danger\".\r\n\t   */\n\t  .addClass('label label-default').css({ position: 'absolute' }).text(object ? object.getData('description') : '').data({\n\t    origin: {\n\t      x: 0,\n\t      y: 0\n\t    },\n\t    position: {\n\t      x: 0,\n\t      y: 0\n\t    },\n\t    shiftDirection: 'E',\n\t    visible: false\n\t  });\n\t\n\t  // Set default position to the \"East\" of the object.\n\t  instance.shiftPosition(label.data('shiftDirection'));\n\t\n\t  /* endregion init code */\n\t}).static({\n\t\n\t  /**\r\n\t   *\r\n\t   * @param labels\r\n\t   */\n\t\n\t  runAutomaticLabelPlacement: function runAutomaticLabelPlacement(labels) {\n\t    var isColliding = function isColliding(label, other) {\n\t      var l1 = label.getNativeObject()[0];\n\t      var p1 = label.getPosition();\n\t      var x1 = p1.x;\n\t      var y1 = p1.y;\n\t      var w1 = l1.cachedWidth;\n\t      var h1 = l1.cachedHeight;\n\t\n\t      var l2 = other.getNativeObject()[0];\n\t      var p2 = other.getPosition();\n\t      var x2 = p2.x;\n\t      var y2 = p2.y;\n\t      var w2 = l2.cachedWidth;\n\t      var h2 = l2.cachedHeight;\n\t\n\t      /**\r\n\t       *\r\n\t       * @see https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection\r\n\t       * @see http://stackoverflow.com/questions/2440377/javascript-collision-detection\r\n\t       */\n\t      return x1 < x2 + w2 && y1 < y2 + h2 && x2 < x1 + w1 && y2 < y1 + h1;\n\t    };\n\t\n\t    var wrapped = _(labels).chain().orderBy(['mapObject.roamObject.id'], ['desc']).forEach(function (label) {\n\t      return label.setVisible(false);\n\t    }).filter(function (label) {\n\t      return label.mapObject.isWithinViewBounds();\n\t    }).commit();\n\t\n\t    /*\r\n\t     * Give no threshold, and push to the limit (for now).\r\n\t     * \"To infinity and beyond!\" –Buzz Lightyear\r\n\t     */\n\t    var threshold = Infinity;\n\t\n\t    if (wrapped.size().value() > threshold) {\n\t      wrapped = wrapped.sample(threshold).commit();\n\t    }\n\t\n\t    wrapped.forEach(function (label) {\n\t      var canPosition = wrapped.every(function (other) {\n\t        var colliding = false;\n\t\n\t        if (other !== label && label.isWithinMapBounds() && other.isVisible()) {\n\t\n\t          colliding = isColliding(label, other);\n\t        }\n\t\n\t        return !colliding;\n\t      }).value();\n\t\n\t      if (canPosition) {\n\t        label.setVisible(true);\n\t      }\n\t    }).value();\n\t  }\n\t});\n\t\n\texports.default = MapObjectLabel;\n\texports.MapObjectLabel = MapObjectLabel;\n\n/***/ },\n/* 111 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\t\n\t__webpack_require__(226);\n\t\n\t__webpack_require__(227);\n\t\n\tif (global._babelPolyfill) {\n\t  throw new Error(\"only one instance of babel-polyfill is allowed\");\n\t}\n\tglobal._babelPolyfill = true;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 112 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n\t'use strict';\n\t\n\tvar toObject = __webpack_require__(21),\n\t    toIndex = __webpack_require__(32),\n\t    toLength = __webpack_require__(10);\n\t\n\tmodule.exports = [].copyWithin || function copyWithin(target /*= 0*/, start /*= 0, end = @length*/) {\n\t  var O = toObject(this),\n\t      len = toLength(O.length),\n\t      to = toIndex(target, len),\n\t      from = toIndex(start, len),\n\t      $$ = arguments,\n\t      end = $$.length > 2 ? $$[2] : undefined,\n\t      count = Math.min((end === undefined ? len : toIndex(end, len)) - from, len - to),\n\t      inc = 1;\n\t  if (from < to && to < from + count) {\n\t    inc = -1;\n\t    from += count - 1;\n\t    to += count - 1;\n\t  }\n\t  while (count-- > 0) {\n\t    if (from in O) O[to] = O[from];else delete O[to];\n\t    to += inc;\n\t    from += inc;\n\t  }return O;\n\t};\n\n/***/ },\n/* 113 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n\t'use strict';\n\t\n\tvar toObject = __webpack_require__(21),\n\t    toIndex = __webpack_require__(32),\n\t    toLength = __webpack_require__(10);\n\tmodule.exports = [].fill || function fill(value /*, start = 0, end = @length */) {\n\t  var O = toObject(this),\n\t      length = toLength(O.length),\n\t      $$ = arguments,\n\t      $$len = $$.length,\n\t      index = toIndex($$len > 1 ? $$[1] : undefined, length),\n\t      end = $$len > 2 ? $$[2] : undefined,\n\t      endPos = end === undefined ? length : toIndex(end, length);\n\t  while (endPos > index) {\n\t    O[index++] = value;\n\t  }return O;\n\t};\n\n/***/ },\n/* 114 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\n\tvar isObject = __webpack_require__(3),\n\t    isArray = __webpack_require__(49),\n\t    SPECIES = __webpack_require__(5)('species');\n\tmodule.exports = function (original, length) {\n\t  var C;\n\t  if (isArray(original)) {\n\t    C = original.constructor;\n\t    // cross-realm fallback\n\t    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n\t    if (isObject(C)) {\n\t      C = C[SPECIES];\n\t      if (C === null) C = undefined;\n\t    }\n\t  }return new (C === undefined ? Array : C)(length);\n\t};\n\n/***/ },\n/* 115 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// all enumerable object keys, includes symbols\n\tvar $ = __webpack_require__(2);\n\tmodule.exports = function (it) {\n\t  var keys = $.getKeys(it),\n\t      getSymbols = $.getSymbols;\n\t  if (getSymbols) {\n\t    var symbols = getSymbols(it),\n\t        isEnum = $.isEnum,\n\t        i = 0,\n\t        key;\n\t    while (symbols.length > i) {\n\t      if (isEnum.call(it, key = symbols[i++])) keys.push(key);\n\t    }\n\t  }\n\t  return keys;\n\t};\n\n/***/ },\n/* 116 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    toIObject = __webpack_require__(14);\n\tmodule.exports = function (object, el) {\n\t  var O = toIObject(object),\n\t      keys = $.getKeys(O),\n\t      length = keys.length,\n\t      index = 0,\n\t      key;\n\t  while (length > index) {\n\t    if (O[key = keys[index++]] === el) return key;\n\t  }\n\t};\n\n/***/ },\n/* 117 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar global = __webpack_require__(6),\n\t    macrotask = __webpack_require__(84).set,\n\t    Observer = global.MutationObserver || global.WebKitMutationObserver,\n\t    process = global.process,\n\t    Promise = global.Promise,\n\t    isNode = __webpack_require__(19)(process) == 'process',\n\t    head,\n\t    last,\n\t    notify;\n\t\n\tvar flush = function flush() {\n\t  var parent, domain, fn;\n\t  if (isNode && (parent = process.domain)) {\n\t    process.domain = null;\n\t    parent.exit();\n\t  }\n\t  while (head) {\n\t    domain = head.domain;\n\t    fn = head.fn;\n\t    if (domain) domain.enter();\n\t    fn(); // <- currently we use it only for Promise - try / catch not required\n\t    if (domain) domain.exit();\n\t    head = head.next;\n\t  }last = undefined;\n\t  if (parent) parent.enter();\n\t};\n\t\n\t// Node.js\n\tif (isNode) {\n\t  notify = function notify() {\n\t    process.nextTick(flush);\n\t  };\n\t  // browsers with MutationObserver\n\t} else if (Observer) {\n\t    var toggle = 1,\n\t        node = document.createTextNode('');\n\t    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n\t    notify = function notify() {\n\t      node.data = toggle = -toggle;\n\t    };\n\t    // environments with maybe non-completely correct, but existent Promise\n\t  } else if (Promise && Promise.resolve) {\n\t      notify = function notify() {\n\t        Promise.resolve().then(flush);\n\t      };\n\t      // for other environments - macrotask based on:\n\t      // - setImmediate\n\t      // - MessageChannel\n\t      // - window.postMessag\n\t      // - onreadystatechange\n\t      // - setTimeout\n\t    } else {\n\t        notify = function notify() {\n\t          // strange IE + webpack dev server bug - use .call(global)\n\t          macrotask.call(global, flush);\n\t        };\n\t      }\n\t\n\tmodule.exports = function asap(fn) {\n\t  var task = { fn: fn, next: undefined, domain: isNode && process.domain };\n\t  if (last) last.next = task;\n\t  if (!head) {\n\t    head = task;\n\t    notify();\n\t  }last = task;\n\t};\n\n/***/ },\n/* 118 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.1 Object.assign(target, source, ...)\n\tvar $ = __webpack_require__(2),\n\t    toObject = __webpack_require__(21),\n\t    IObject = __webpack_require__(43);\n\t\n\t// should work with symbols and should have deterministic property order (V8 bug)\n\tmodule.exports = __webpack_require__(7)(function () {\n\t  var a = Object.assign,\n\t      A = {},\n\t      B = {},\n\t      S = Symbol(),\n\t      K = 'abcdefghijklmnopqrst';\n\t  A[S] = 7;\n\t  K.split('').forEach(function (k) {\n\t    B[k] = k;\n\t  });\n\t  return a({}, A)[S] != 7 || Object.keys(a({}, B)).join('') != K;\n\t}) ? function assign(target, source) {\n\t  // eslint-disable-line no-unused-vars\n\t  var T = toObject(target),\n\t      $$ = arguments,\n\t      $$len = $$.length,\n\t      index = 1,\n\t      getKeys = $.getKeys,\n\t      getSymbols = $.getSymbols,\n\t      isEnum = $.isEnum;\n\t  while ($$len > index) {\n\t    var S = IObject($$[index++]),\n\t        keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S),\n\t        length = keys.length,\n\t        j = 0,\n\t        key;\n\t    while (length > j) {\n\t      if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n\t    }\n\t  }\n\t  return T;\n\t} : Object.assign;\n\n/***/ },\n/* 119 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar path = __webpack_require__(120),\n\t    invoke = __webpack_require__(42),\n\t    aFunction = __webpack_require__(24);\n\tmodule.exports = function () /* ...pargs */{\n\t  var fn = aFunction(this),\n\t      length = arguments.length,\n\t      pargs = Array(length),\n\t      i = 0,\n\t      _ = path._,\n\t      holder = false;\n\t  while (length > i) {\n\t    if ((pargs[i] = arguments[i++]) === _) holder = true;\n\t  }return function () /* ...args */{\n\t    var that = this,\n\t        $$ = arguments,\n\t        $$len = $$.length,\n\t        j = 0,\n\t        k = 0,\n\t        args;\n\t    if (!holder && !$$len) return invoke(fn, pargs, that);\n\t    args = pargs.slice();\n\t    if (holder) for (; length > j; j++) {\n\t      if (args[j] === _) args[j] = $$[k++];\n\t    }while ($$len > k) {\n\t      args.push($$[k++]);\n\t    }return invoke(fn, args, that);\n\t  };\n\t};\n\n/***/ },\n/* 120 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(6);\n\n/***/ },\n/* 121 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (regExp, replace) {\n\t  var replacer = replace === Object(replace) ? function (part) {\n\t    return replace[part];\n\t  } : replace;\n\t  return function (it) {\n\t    return String(it).replace(regExp, replacer);\n\t  };\n\t};\n\n/***/ },\n/* 122 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\tvar anObject = __webpack_require__(4),\n\t    aFunction = __webpack_require__(24),\n\t    SPECIES = __webpack_require__(5)('species');\n\tmodule.exports = function (O, D) {\n\t  var C = anObject(O).constructor,\n\t      S;\n\t  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n\t};\n\n/***/ },\n/* 123 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 7.1.1 ToPrimitive(input [, PreferredType])\n\tvar isObject = __webpack_require__(3);\n\t// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n\t// and the second argument - flag - preferred type is a string\n\tmodule.exports = function (it, S) {\n\t  if (!isObject(it)) return it;\n\t  var fn, val;\n\t  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n\t  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n\t  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n\t  throw TypeError(\"Can't convert object to primitive value\");\n\t};\n\n/***/ },\n/* 124 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    $export = __webpack_require__(1),\n\t    DESCRIPTORS = __webpack_require__(11),\n\t    createDesc = __webpack_require__(22),\n\t    html = __webpack_require__(70),\n\t    cel = __webpack_require__(67),\n\t    has = __webpack_require__(9),\n\t    cof = __webpack_require__(19),\n\t    invoke = __webpack_require__(42),\n\t    fails = __webpack_require__(7),\n\t    anObject = __webpack_require__(4),\n\t    aFunction = __webpack_require__(24),\n\t    isObject = __webpack_require__(3),\n\t    toObject = __webpack_require__(21),\n\t    toIObject = __webpack_require__(14),\n\t    toInteger = __webpack_require__(33),\n\t    toIndex = __webpack_require__(32),\n\t    toLength = __webpack_require__(10),\n\t    IObject = __webpack_require__(43),\n\t    IE_PROTO = __webpack_require__(26)('__proto__'),\n\t    createArrayMethod = __webpack_require__(38),\n\t    arrayIndexOf = __webpack_require__(63)(false),\n\t    ObjectProto = Object.prototype,\n\t    ArrayProto = Array.prototype,\n\t    arraySlice = ArrayProto.slice,\n\t    arrayJoin = ArrayProto.join,\n\t    defineProperty = $.setDesc,\n\t    getOwnDescriptor = $.getDesc,\n\t    defineProperties = $.setDescs,\n\t    factories = {},\n\t    IE8_DOM_DEFINE;\n\t\n\tif (!DESCRIPTORS) {\n\t  IE8_DOM_DEFINE = !fails(function () {\n\t    return defineProperty(cel('div'), 'a', { get: function get() {\n\t        return 7;\n\t      } }).a != 7;\n\t  });\n\t  $.setDesc = function (O, P, Attributes) {\n\t    if (IE8_DOM_DEFINE) try {\n\t      return defineProperty(O, P, Attributes);\n\t    } catch (e) {/* empty */}\n\t    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n\t    if ('value' in Attributes) anObject(O)[P] = Attributes.value;\n\t    return O;\n\t  };\n\t  $.getDesc = function (O, P) {\n\t    if (IE8_DOM_DEFINE) try {\n\t      return getOwnDescriptor(O, P);\n\t    } catch (e) {/* empty */}\n\t    if (has(O, P)) return createDesc(!ObjectProto.propertyIsEnumerable.call(O, P), O[P]);\n\t  };\n\t  $.setDescs = defineProperties = function defineProperties(O, Properties) {\n\t    anObject(O);\n\t    var keys = $.getKeys(Properties),\n\t        length = keys.length,\n\t        i = 0,\n\t        P;\n\t    while (length > i) {\n\t      $.setDesc(O, P = keys[i++], Properties[P]);\n\t    }return O;\n\t  };\n\t}\n\t$export($export.S + $export.F * !DESCRIPTORS, 'Object', {\n\t  // 19.1.2.6 / 15.2.3.3 Object.getOwnPropertyDescriptor(O, P)\n\t  getOwnPropertyDescriptor: $.getDesc,\n\t  // 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n\t  defineProperty: $.setDesc,\n\t  // 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n\t  defineProperties: defineProperties\n\t});\n\t\n\t// IE 8- don't enum bug keys\n\tvar keys1 = ('constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,' + 'toLocaleString,toString,valueOf').split(',')\n\t// Additional keys for getOwnPropertyNames\n\t,\n\t    keys2 = keys1.concat('length', 'prototype'),\n\t    keysLen1 = keys1.length;\n\t\n\t// Create object with `null` prototype: use iframe Object with cleared prototype\n\tvar _createDict = function createDict() {\n\t  // Thrash, waste and sodomy: IE GC bug\n\t  var iframe = cel('iframe'),\n\t      i = keysLen1,\n\t      gt = '>',\n\t      iframeDocument;\n\t  iframe.style.display = 'none';\n\t  html.appendChild(iframe);\n\t  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n\t  // createDict = iframe.contentWindow.Object;\n\t  // html.removeChild(iframe);\n\t  iframeDocument = iframe.contentWindow.document;\n\t  iframeDocument.open();\n\t  iframeDocument.write('<script>document.F=Object</script' + gt);\n\t  iframeDocument.close();\n\t  _createDict = iframeDocument.F;\n\t  while (i--) {\n\t    delete _createDict.prototype[keys1[i]];\n\t  }return _createDict();\n\t};\n\tvar createGetKeys = function createGetKeys(names, length) {\n\t  return function (object) {\n\t    var O = toIObject(object),\n\t        i = 0,\n\t        result = [],\n\t        key;\n\t    for (key in O) {\n\t      if (key != IE_PROTO) has(O, key) && result.push(key);\n\t    } // Don't enum bug & hidden keys\n\t    while (length > i) {\n\t      if (has(O, key = names[i++])) {\n\t        ~arrayIndexOf(result, key) || result.push(key);\n\t      }\n\t    }return result;\n\t  };\n\t};\n\tvar Empty = function Empty() {};\n\t$export($export.S, 'Object', {\n\t  // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\n\t  getPrototypeOf: $.getProto = $.getProto || function (O) {\n\t    O = toObject(O);\n\t    if (has(O, IE_PROTO)) return O[IE_PROTO];\n\t    if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n\t      return O.constructor.prototype;\n\t    }return O instanceof Object ? ObjectProto : null;\n\t  },\n\t  // 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\n\t  getOwnPropertyNames: $.getNames = $.getNames || createGetKeys(keys2, keys2.length, true),\n\t  // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n\t  create: $.create = $.create || function (O, /*?*/Properties) {\n\t    var result;\n\t    if (O !== null) {\n\t      Empty.prototype = anObject(O);\n\t      result = new Empty();\n\t      Empty.prototype = null;\n\t      // add \"__proto__\" for Object.getPrototypeOf shim\n\t      result[IE_PROTO] = O;\n\t    } else result = _createDict();\n\t    return Properties === undefined ? result : defineProperties(result, Properties);\n\t  },\n\t  // 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\t  keys: $.getKeys = $.getKeys || createGetKeys(keys1, keysLen1, false)\n\t});\n\t\n\tvar construct = function construct(F, len, args) {\n\t  if (!(len in factories)) {\n\t    for (var n = [], i = 0; i < len; i++) {\n\t      n[i] = 'a[' + i + ']';\n\t    }factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n\t  }\n\t  return factories[len](F, args);\n\t};\n\t\n\t// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\n\t$export($export.P, 'Function', {\n\t  bind: function bind(that /*, args... */) {\n\t    var fn = aFunction(this),\n\t        partArgs = arraySlice.call(arguments, 1);\n\t    var bound = function bound() /* args... */{\n\t      var args = partArgs.concat(arraySlice.call(arguments));\n\t      return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n\t    };\n\t    if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n\t    return bound;\n\t  }\n\t});\n\t\n\t// fallback for not array-like ES3 strings and DOM objects\n\t$export($export.P + $export.F * fails(function () {\n\t  if (html) arraySlice.call(html);\n\t}), 'Array', {\n\t  slice: function slice(begin, end) {\n\t    var len = toLength(this.length),\n\t        klass = cof(this);\n\t    end = end === undefined ? len : end;\n\t    if (klass == 'Array') return arraySlice.call(this, begin, end);\n\t    var start = toIndex(begin, len),\n\t        upTo = toIndex(end, len),\n\t        size = toLength(upTo - start),\n\t        cloned = Array(size),\n\t        i = 0;\n\t    for (; i < size; i++) {\n\t      cloned[i] = klass == 'String' ? this.charAt(start + i) : this[start + i];\n\t    }return cloned;\n\t  }\n\t});\n\t$export($export.P + $export.F * (IObject != Object), 'Array', {\n\t  join: function join(separator) {\n\t    return arrayJoin.call(IObject(this), separator === undefined ? ',' : separator);\n\t  }\n\t});\n\t\n\t// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\n\t$export($export.S, 'Array', { isArray: __webpack_require__(49) });\n\t\n\tvar createArrayReduce = function createArrayReduce(isRight) {\n\t  return function (callbackfn, memo) {\n\t    aFunction(callbackfn);\n\t    var O = IObject(this),\n\t        length = toLength(O.length),\n\t        index = isRight ? length - 1 : 0,\n\t        i = isRight ? -1 : 1;\n\t    if (arguments.length < 2) for (;;) {\n\t      if (index in O) {\n\t        memo = O[index];\n\t        index += i;\n\t        break;\n\t      }\n\t      index += i;\n\t      if (isRight ? index < 0 : length <= index) {\n\t        throw TypeError('Reduce of empty array with no initial value');\n\t      }\n\t    }\n\t    for (; isRight ? index >= 0 : length > index; index += i) {\n\t      if (index in O) {\n\t        memo = callbackfn(memo, O[index], index, this);\n\t      }\n\t    }return memo;\n\t  };\n\t};\n\t\n\tvar methodize = function methodize($fn) {\n\t  return function (arg1 /*, arg2 = undefined */) {\n\t    return $fn(this, arg1, arguments[1]);\n\t  };\n\t};\n\t\n\t$export($export.P, 'Array', {\n\t  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n\t  forEach: $.each = $.each || methodize(createArrayMethod(0)),\n\t  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n\t  map: methodize(createArrayMethod(1)),\n\t  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n\t  filter: methodize(createArrayMethod(2)),\n\t  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n\t  some: methodize(createArrayMethod(3)),\n\t  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n\t  every: methodize(createArrayMethod(4)),\n\t  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n\t  reduce: createArrayReduce(false),\n\t  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n\t  reduceRight: createArrayReduce(true),\n\t  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n\t  indexOf: methodize(arrayIndexOf),\n\t  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n\t  lastIndexOf: function lastIndexOf(el, fromIndex /* = @[*-1] */) {\n\t    var O = toIObject(this),\n\t        length = toLength(O.length),\n\t        index = length - 1;\n\t    if (arguments.length > 1) index = Math.min(index, toInteger(fromIndex));\n\t    if (index < 0) index = toLength(length + index);\n\t    for (; index >= 0; index--) {\n\t      if (index in O) if (O[index] === el) return index;\n\t    }return -1;\n\t  }\n\t});\n\t\n\t// 20.3.3.1 / 15.9.4.4 Date.now()\n\t$export($export.S, 'Date', { now: function now() {\n\t    return +new Date();\n\t  } });\n\t\n\tvar lz = function lz(num) {\n\t  return num > 9 ? num : '0' + num;\n\t};\n\t\n\t// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\n\t// PhantomJS / old WebKit has a broken implementations\n\t$export($export.P + $export.F * (fails(function () {\n\t  return new Date(-5e13 - 1).toISOString() != '0385-07-25T07:06:39.999Z';\n\t}) || !fails(function () {\n\t  new Date(NaN).toISOString();\n\t})), 'Date', {\n\t  toISOString: function toISOString() {\n\t    if (!isFinite(this)) throw RangeError('Invalid time value');\n\t    var d = this,\n\t        y = d.getUTCFullYear(),\n\t        m = d.getUTCMilliseconds(),\n\t        s = y < 0 ? '-' : y > 9999 ? '+' : '';\n\t    return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) + '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) + 'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) + ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n\t  }\n\t});\n\n/***/ },\n/* 125 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.P, 'Array', { copyWithin: __webpack_require__(112) });\n\t\n\t__webpack_require__(25)('copyWithin');\n\n/***/ },\n/* 126 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.P, 'Array', { fill: __webpack_require__(113) });\n\t\n\t__webpack_require__(25)('fill');\n\n/***/ },\n/* 127 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\n\t\n\tvar $export = __webpack_require__(1),\n\t    $find = __webpack_require__(38)(6),\n\t    KEY = 'findIndex',\n\t    forced = true;\n\t// Shouldn't skip holes\n\tif (KEY in []) Array(1)[KEY](function () {\n\t  forced = false;\n\t});\n\t$export($export.P + $export.F * forced, 'Array', {\n\t  findIndex: function findIndex(callbackfn /*, that = undefined */) {\n\t    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n\t  }\n\t});\n\t__webpack_require__(25)(KEY);\n\n/***/ },\n/* 128 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\n\t\n\tvar $export = __webpack_require__(1),\n\t    $find = __webpack_require__(38)(5),\n\t    KEY = 'find',\n\t    forced = true;\n\t// Shouldn't skip holes\n\tif (KEY in []) Array(1)[KEY](function () {\n\t  forced = false;\n\t});\n\t$export($export.P + $export.F * forced, 'Array', {\n\t  find: function find(callbackfn /*, that = undefined */) {\n\t    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n\t  }\n\t});\n\t__webpack_require__(25)(KEY);\n\n/***/ },\n/* 129 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ctx = __webpack_require__(16),\n\t    $export = __webpack_require__(1),\n\t    toObject = __webpack_require__(21),\n\t    call = __webpack_require__(74),\n\t    isArrayIter = __webpack_require__(71),\n\t    toLength = __webpack_require__(10),\n\t    getIterFn = __webpack_require__(85);\n\t$export($export.S + $export.F * !__webpack_require__(51)(function (iter) {\n\t  Array.from(iter);\n\t}), 'Array', {\n\t  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n\t  from: function from(arrayLike /*, mapfn = undefined, thisArg = undefined*/) {\n\t    var O = toObject(arrayLike),\n\t        C = typeof this == 'function' ? this : Array,\n\t        $$ = arguments,\n\t        $$len = $$.length,\n\t        mapfn = $$len > 1 ? $$[1] : undefined,\n\t        mapping = mapfn !== undefined,\n\t        index = 0,\n\t        iterFn = getIterFn(O),\n\t        length,\n\t        result,\n\t        step,\n\t        iterator;\n\t    if (mapping) mapfn = ctx(mapfn, $$len > 2 ? $$[2] : undefined, 2);\n\t    // if object isn't iterable or it's array with default iterator - use simple case\n\t    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n\t      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n\t        result[index] = mapping ? call(iterator, mapfn, [step.value, index], true) : step.value;\n\t      }\n\t    } else {\n\t      length = toLength(O.length);\n\t      for (result = new C(length); length > index; index++) {\n\t        result[index] = mapping ? mapfn(O[index], index) : O[index];\n\t      }\n\t    }\n\t    result.length = index;\n\t    return result;\n\t  }\n\t});\n\n/***/ },\n/* 130 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1);\n\t\n\t// WebKit Array.of isn't generic\n\t$export($export.S + $export.F * __webpack_require__(7)(function () {\n\t  function F() {}\n\t  return !(Array.of.call(F) instanceof F);\n\t}), 'Array', {\n\t  // 22.1.2.3 Array.of( ...items)\n\t  of: function of() /* ...args */{\n\t    var index = 0,\n\t        $$ = arguments,\n\t        $$len = $$.length,\n\t        result = new (typeof this == 'function' ? this : Array)($$len);\n\t    while ($$len > index) {\n\t      result[index] = $$[index++];\n\t    }result.length = $$len;\n\t    return result;\n\t  }\n\t});\n\n/***/ },\n/* 131 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(45)('Array');\n\n/***/ },\n/* 132 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    isObject = __webpack_require__(3),\n\t    HAS_INSTANCE = __webpack_require__(5)('hasInstance'),\n\t    FunctionProto = Function.prototype;\n\t// 19.2.3.6 Function.prototype[@@hasInstance](V)\n\tif (!(HAS_INSTANCE in FunctionProto)) $.setDesc(FunctionProto, HAS_INSTANCE, { value: function value(O) {\n\t    if (typeof this != 'function' || !isObject(O)) return false;\n\t    if (!isObject(this.prototype)) return O instanceof this;\n\t    // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n\t    while (O = $.getProto(O)) {\n\t      if (this.prototype === O) return true;\n\t    }return false;\n\t  } });\n\n/***/ },\n/* 133 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar setDesc = __webpack_require__(2).setDesc,\n\t    createDesc = __webpack_require__(22),\n\t    has = __webpack_require__(9),\n\t    FProto = Function.prototype,\n\t    nameRE = /^\\s*function ([^ (]*)/,\n\t    NAME = 'name';\n\t// 19.2.4.2 name\n\tNAME in FProto || __webpack_require__(11) && setDesc(FProto, NAME, {\n\t  configurable: true,\n\t  get: function get() {\n\t    var match = ('' + this).match(nameRE),\n\t        name = match ? match[1] : '';\n\t    has(this, NAME) || setDesc(this, NAME, createDesc(5, name));\n\t    return name;\n\t  }\n\t});\n\n/***/ },\n/* 134 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar strong = __webpack_require__(64);\n\t\n\t// 23.1 Map Objects\n\t__webpack_require__(40)('Map', function (get) {\n\t  return function Map() {\n\t    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n\t  };\n\t}, {\n\t  // 23.1.3.6 Map.prototype.get(key)\n\t  get: function get(key) {\n\t    var entry = strong.getEntry(this, key);\n\t    return entry && entry.v;\n\t  },\n\t  // 23.1.3.9 Map.prototype.set(key, value)\n\t  set: function set(key, value) {\n\t    return strong.def(this, key === 0 ? 0 : key, value);\n\t  }\n\t}, strong, true);\n\n/***/ },\n/* 135 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.3 Math.acosh(x)\n\tvar $export = __webpack_require__(1),\n\t    log1p = __webpack_require__(77),\n\t    sqrt = Math.sqrt,\n\t    $acosh = Math.acosh;\n\t\n\t// V8 bug https://code.google.com/p/v8/issues/detail?id=3509\n\t$export($export.S + $export.F * !($acosh && Math.floor($acosh(Number.MAX_VALUE)) == 710), 'Math', {\n\t  acosh: function acosh(x) {\n\t    return (x = +x) < 1 ? NaN : x > 94906265.62425156 ? Math.log(x) + Math.LN2 : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n\t  }\n\t});\n\n/***/ },\n/* 136 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.5 Math.asinh(x)\n\tvar $export = __webpack_require__(1);\n\t\n\tfunction asinh(x) {\n\t  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n\t}\n\t\n\t$export($export.S, 'Math', { asinh: asinh });\n\n/***/ },\n/* 137 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.7 Math.atanh(x)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Math', {\n\t  atanh: function atanh(x) {\n\t    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n\t  }\n\t});\n\n/***/ },\n/* 138 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.9 Math.cbrt(x)\n\tvar $export = __webpack_require__(1),\n\t    sign = __webpack_require__(54);\n\t\n\t$export($export.S, 'Math', {\n\t  cbrt: function cbrt(x) {\n\t    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n\t  }\n\t});\n\n/***/ },\n/* 139 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.11 Math.clz32(x)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Math', {\n\t  clz32: function clz32(x) {\n\t    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n\t  }\n\t});\n\n/***/ },\n/* 140 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.12 Math.cosh(x)\n\tvar $export = __webpack_require__(1),\n\t    exp = Math.exp;\n\t\n\t$export($export.S, 'Math', {\n\t  cosh: function cosh(x) {\n\t    return (exp(x = +x) + exp(-x)) / 2;\n\t  }\n\t});\n\n/***/ },\n/* 141 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.14 Math.expm1(x)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Math', { expm1: __webpack_require__(53) });\n\n/***/ },\n/* 142 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.16 Math.fround(x)\n\tvar $export = __webpack_require__(1),\n\t    sign = __webpack_require__(54),\n\t    pow = Math.pow,\n\t    EPSILON = pow(2, -52),\n\t    EPSILON32 = pow(2, -23),\n\t    MAX32 = pow(2, 127) * (2 - EPSILON32),\n\t    MIN32 = pow(2, -126);\n\t\n\tvar roundTiesToEven = function roundTiesToEven(n) {\n\t  return n + 1 / EPSILON - 1 / EPSILON;\n\t};\n\t\n\t$export($export.S, 'Math', {\n\t  fround: function fround(x) {\n\t    var $abs = Math.abs(x),\n\t        $sign = sign(x),\n\t        a,\n\t        result;\n\t    if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n\t    a = (1 + EPSILON32 / EPSILON) * $abs;\n\t    result = a - (a - $abs);\n\t    if (result > MAX32 || result != result) return $sign * Infinity;\n\t    return $sign * result;\n\t  }\n\t});\n\n/***/ },\n/* 143 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\n\tvar $export = __webpack_require__(1),\n\t    abs = Math.abs;\n\t\n\t$export($export.S, 'Math', {\n\t  hypot: function hypot(value1, value2) {\n\t    // eslint-disable-line no-unused-vars\n\t    var sum = 0,\n\t        i = 0,\n\t        $$ = arguments,\n\t        $$len = $$.length,\n\t        larg = 0,\n\t        arg,\n\t        div;\n\t    while (i < $$len) {\n\t      arg = abs($$[i++]);\n\t      if (larg < arg) {\n\t        div = larg / arg;\n\t        sum = sum * div * div + 1;\n\t        larg = arg;\n\t      } else if (arg > 0) {\n\t        div = arg / larg;\n\t        sum += div * div;\n\t      } else sum += arg;\n\t    }\n\t    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n\t  }\n\t});\n\n/***/ },\n/* 144 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.18 Math.imul(x, y)\n\tvar $export = __webpack_require__(1),\n\t    $imul = Math.imul;\n\t\n\t// some WebKit versions fails with big numbers, some has wrong arity\n\t$export($export.S + $export.F * __webpack_require__(7)(function () {\n\t  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n\t}), 'Math', {\n\t  imul: function imul(x, y) {\n\t    var UINT16 = 0xffff,\n\t        xn = +x,\n\t        yn = +y,\n\t        xl = UINT16 & xn,\n\t        yl = UINT16 & yn;\n\t    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n\t  }\n\t});\n\n/***/ },\n/* 145 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.21 Math.log10(x)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Math', {\n\t  log10: function log10(x) {\n\t    return Math.log(x) / Math.LN10;\n\t  }\n\t});\n\n/***/ },\n/* 146 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.20 Math.log1p(x)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Math', { log1p: __webpack_require__(77) });\n\n/***/ },\n/* 147 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.22 Math.log2(x)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Math', {\n\t  log2: function log2(x) {\n\t    return Math.log(x) / Math.LN2;\n\t  }\n\t});\n\n/***/ },\n/* 148 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.28 Math.sign(x)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Math', { sign: __webpack_require__(54) });\n\n/***/ },\n/* 149 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.30 Math.sinh(x)\n\tvar $export = __webpack_require__(1),\n\t    expm1 = __webpack_require__(53),\n\t    exp = Math.exp;\n\t\n\t// V8 near Chromium 38 has a problem with very small numbers\n\t$export($export.S + $export.F * __webpack_require__(7)(function () {\n\t  return !Math.sinh(-2e-17) != -2e-17;\n\t}), 'Math', {\n\t  sinh: function sinh(x) {\n\t    return Math.abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n\t  }\n\t});\n\n/***/ },\n/* 150 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.33 Math.tanh(x)\n\tvar $export = __webpack_require__(1),\n\t    expm1 = __webpack_require__(53),\n\t    exp = Math.exp;\n\t\n\t$export($export.S, 'Math', {\n\t  tanh: function tanh(x) {\n\t    var a = expm1(x = +x),\n\t        b = expm1(-x);\n\t    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n\t  }\n\t});\n\n/***/ },\n/* 151 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.2.2.34 Math.trunc(x)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Math', {\n\t  trunc: function trunc(it) {\n\t    return (it > 0 ? Math.floor : Math.ceil)(it);\n\t  }\n\t});\n\n/***/ },\n/* 152 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    global = __webpack_require__(6),\n\t    has = __webpack_require__(9),\n\t    cof = __webpack_require__(19),\n\t    toPrimitive = __webpack_require__(123),\n\t    fails = __webpack_require__(7),\n\t    $trim = __webpack_require__(47).trim,\n\t    NUMBER = 'Number',\n\t    $Number = global[NUMBER],\n\t    Base = $Number,\n\t    proto = $Number.prototype\n\t// Opera ~12 has broken Object#toString\n\t,\n\t    BROKEN_COF = cof($.create(proto)) == NUMBER,\n\t    TRIM = 'trim' in String.prototype;\n\t\n\t// 7.1.3 ToNumber(argument)\n\tvar toNumber = function toNumber(argument) {\n\t  var it = toPrimitive(argument, false);\n\t  if (typeof it == 'string' && it.length > 2) {\n\t    it = TRIM ? it.trim() : $trim(it, 3);\n\t    var first = it.charCodeAt(0),\n\t        third,\n\t        radix,\n\t        maxCode;\n\t    if (first === 43 || first === 45) {\n\t      third = it.charCodeAt(2);\n\t      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n\t    } else if (first === 48) {\n\t        switch (it.charCodeAt(1)) {\n\t          case 66:case 98:\n\t            radix = 2;maxCode = 49;break; // fast equal /^0b[01]+$/i\n\t          case 79:case 111:\n\t            radix = 8;maxCode = 55;break; // fast equal /^0o[0-7]+$/i\n\t          default:\n\t            return +it;\n\t        }\n\t        for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n\t          code = digits.charCodeAt(i);\n\t          // parseInt parses a string to a first unavailable symbol\n\t          // but ToNumber should return NaN if a string contains unavailable symbols\n\t          if (code < 48 || code > maxCode) return NaN;\n\t        }return parseInt(digits, radix);\n\t      }\n\t  }return +it;\n\t};\n\t\n\tif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n\t  $Number = function Number(value) {\n\t    var it = arguments.length < 1 ? 0 : value,\n\t        that = this;\n\t    return that instanceof $Number\n\t    // check on 1..constructor(foo) case\n\t     && (BROKEN_COF ? fails(function () {\n\t      proto.valueOf.call(that);\n\t    }) : cof(that) != NUMBER) ? new Base(toNumber(it)) : toNumber(it);\n\t  };\n\t  $.each.call(__webpack_require__(11) ? $.getNames(Base) : (\n\t  // ES3:\n\t  'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n\t  // ES6 (in case, if modules with ES6 Number statics required before):\n\t  'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' + 'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger').split(','), function (key) {\n\t    if (has(Base, key) && !has($Number, key)) {\n\t      $.setDesc($Number, key, $.getDesc(Base, key));\n\t    }\n\t  });\n\t  $Number.prototype = proto;\n\t  proto.constructor = $Number;\n\t  __webpack_require__(13)(global, NUMBER, $Number);\n\t}\n\n/***/ },\n/* 153 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.1 Number.EPSILON\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n\n/***/ },\n/* 154 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.2 Number.isFinite(number)\n\tvar $export = __webpack_require__(1),\n\t    _isFinite = __webpack_require__(6).isFinite;\n\t\n\t$export($export.S, 'Number', {\n\t  isFinite: function isFinite(it) {\n\t    return typeof it == 'number' && _isFinite(it);\n\t  }\n\t});\n\n/***/ },\n/* 155 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.3 Number.isInteger(number)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Number', { isInteger: __webpack_require__(72) });\n\n/***/ },\n/* 156 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.4 Number.isNaN(number)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Number', {\n\t  isNaN: function isNaN(number) {\n\t    return number != number;\n\t  }\n\t});\n\n/***/ },\n/* 157 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.5 Number.isSafeInteger(number)\n\tvar $export = __webpack_require__(1),\n\t    isInteger = __webpack_require__(72),\n\t    abs = Math.abs;\n\t\n\t$export($export.S, 'Number', {\n\t  isSafeInteger: function isSafeInteger(number) {\n\t    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n\t  }\n\t});\n\n/***/ },\n/* 158 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.6 Number.MAX_SAFE_INTEGER\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n\n/***/ },\n/* 159 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.10 Number.MIN_SAFE_INTEGER\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n\n/***/ },\n/* 160 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.12 Number.parseFloat(string)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Number', { parseFloat: parseFloat });\n\n/***/ },\n/* 161 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 20.1.2.13 Number.parseInt(string, radix)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Number', { parseInt: parseInt });\n\n/***/ },\n/* 162 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.3.1 Object.assign(target, source)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S + $export.F, 'Object', { assign: __webpack_require__(118) });\n\n/***/ },\n/* 163 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.5 Object.freeze(O)\n\tvar isObject = __webpack_require__(3);\n\t\n\t__webpack_require__(12)('freeze', function ($freeze) {\n\t  return function freeze(it) {\n\t    return $freeze && isObject(it) ? $freeze(it) : it;\n\t  };\n\t});\n\n/***/ },\n/* 164 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n\tvar toIObject = __webpack_require__(14);\n\t\n\t__webpack_require__(12)('getOwnPropertyDescriptor', function ($getOwnPropertyDescriptor) {\n\t  return function getOwnPropertyDescriptor(it, key) {\n\t    return $getOwnPropertyDescriptor(toIObject(it), key);\n\t  };\n\t});\n\n/***/ },\n/* 165 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.7 Object.getOwnPropertyNames(O)\n\t__webpack_require__(12)('getOwnPropertyNames', function () {\n\t  return __webpack_require__(69).get;\n\t});\n\n/***/ },\n/* 166 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.9 Object.getPrototypeOf(O)\n\tvar toObject = __webpack_require__(21);\n\t\n\t__webpack_require__(12)('getPrototypeOf', function ($getPrototypeOf) {\n\t  return function getPrototypeOf(it) {\n\t    return $getPrototypeOf(toObject(it));\n\t  };\n\t});\n\n/***/ },\n/* 167 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.11 Object.isExtensible(O)\n\tvar isObject = __webpack_require__(3);\n\t\n\t__webpack_require__(12)('isExtensible', function ($isExtensible) {\n\t  return function isExtensible(it) {\n\t    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n\t  };\n\t});\n\n/***/ },\n/* 168 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.12 Object.isFrozen(O)\n\tvar isObject = __webpack_require__(3);\n\t\n\t__webpack_require__(12)('isFrozen', function ($isFrozen) {\n\t  return function isFrozen(it) {\n\t    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n\t  };\n\t});\n\n/***/ },\n/* 169 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.13 Object.isSealed(O)\n\tvar isObject = __webpack_require__(3);\n\t\n\t__webpack_require__(12)('isSealed', function ($isSealed) {\n\t  return function isSealed(it) {\n\t    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n\t  };\n\t});\n\n/***/ },\n/* 170 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.3.10 Object.is(value1, value2)\n\tvar $export = __webpack_require__(1);\n\t$export($export.S, 'Object', { is: __webpack_require__(80) });\n\n/***/ },\n/* 171 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.14 Object.keys(O)\n\tvar toObject = __webpack_require__(21);\n\t\n\t__webpack_require__(12)('keys', function ($keys) {\n\t  return function keys(it) {\n\t    return $keys(toObject(it));\n\t  };\n\t});\n\n/***/ },\n/* 172 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.15 Object.preventExtensions(O)\n\tvar isObject = __webpack_require__(3);\n\t\n\t__webpack_require__(12)('preventExtensions', function ($preventExtensions) {\n\t  return function preventExtensions(it) {\n\t    return $preventExtensions && isObject(it) ? $preventExtensions(it) : it;\n\t  };\n\t});\n\n/***/ },\n/* 173 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.17 Object.seal(O)\n\tvar isObject = __webpack_require__(3);\n\t\n\t__webpack_require__(12)('seal', function ($seal) {\n\t  return function seal(it) {\n\t    return $seal && isObject(it) ? $seal(it) : it;\n\t  };\n\t});\n\n/***/ },\n/* 174 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.3.19 Object.setPrototypeOf(O, proto)\n\tvar $export = __webpack_require__(1);\n\t$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(55).set });\n\n/***/ },\n/* 175 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// 19.1.3.6 Object.prototype.toString()\n\t\n\tvar classof = __webpack_require__(39),\n\t    test = {};\n\ttest[__webpack_require__(5)('toStringTag')] = 'z';\n\tif (test + '' != '[object z]') {\n\t  __webpack_require__(13)(Object.prototype, 'toString', function toString() {\n\t    return '[object ' + classof(this) + ']';\n\t  }, true);\n\t}\n\n/***/ },\n/* 176 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    LIBRARY = __webpack_require__(52),\n\t    global = __webpack_require__(6),\n\t    ctx = __webpack_require__(16),\n\t    classof = __webpack_require__(39),\n\t    $export = __webpack_require__(1),\n\t    isObject = __webpack_require__(3),\n\t    anObject = __webpack_require__(4),\n\t    aFunction = __webpack_require__(24),\n\t    strictNew = __webpack_require__(46),\n\t    forOf = __webpack_require__(29),\n\t    setProto = __webpack_require__(55).set,\n\t    same = __webpack_require__(80),\n\t    SPECIES = __webpack_require__(5)('species'),\n\t    speciesConstructor = __webpack_require__(122),\n\t    asap = __webpack_require__(117),\n\t    PROMISE = 'Promise',\n\t    process = global.process,\n\t    isNode = classof(process) == 'process',\n\t    P = global[PROMISE],\n\t    Wrapper;\n\t\n\tvar testResolve = function testResolve(sub) {\n\t  var test = new P(function () {});\n\t  if (sub) test.constructor = Object;\n\t  return P.resolve(test) === test;\n\t};\n\t\n\tvar USE_NATIVE = function () {\n\t  var works = false;\n\t  function P2(x) {\n\t    var self = new P(x);\n\t    setProto(self, P2.prototype);\n\t    return self;\n\t  }\n\t  try {\n\t    works = P && P.resolve && testResolve();\n\t    setProto(P2, P);\n\t    P2.prototype = $.create(P.prototype, { constructor: { value: P2 } });\n\t    // actual Firefox has broken subclass support, test that\n\t    if (!(P2.resolve(5).then(function () {}) instanceof P2)) {\n\t      works = false;\n\t    }\n\t    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n\t    if (works && __webpack_require__(11)) {\n\t      var thenableThenGotten = false;\n\t      P.resolve($.setDesc({}, 'then', {\n\t        get: function get() {\n\t          thenableThenGotten = true;\n\t        }\n\t      }));\n\t      works = thenableThenGotten;\n\t    }\n\t  } catch (e) {\n\t    works = false;\n\t  }\n\t  return works;\n\t}();\n\t\n\t// helpers\n\tvar sameConstructor = function sameConstructor(a, b) {\n\t  // library wrapper special case\n\t  if (LIBRARY && a === P && b === Wrapper) return true;\n\t  return same(a, b);\n\t};\n\tvar getConstructor = function getConstructor(C) {\n\t  var S = anObject(C)[SPECIES];\n\t  return S != undefined ? S : C;\n\t};\n\tvar isThenable = function isThenable(it) {\n\t  var then;\n\t  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n\t};\n\tvar PromiseCapability = function PromiseCapability(C) {\n\t  var resolve, reject;\n\t  this.promise = new C(function ($$resolve, $$reject) {\n\t    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n\t    resolve = $$resolve;\n\t    reject = $$reject;\n\t  });\n\t  this.resolve = aFunction(resolve), this.reject = aFunction(reject);\n\t};\n\tvar perform = function perform(exec) {\n\t  try {\n\t    exec();\n\t  } catch (e) {\n\t    return { error: e };\n\t  }\n\t};\n\tvar notify = function notify(record, isReject) {\n\t  if (record.n) return;\n\t  record.n = true;\n\t  var chain = record.c;\n\t  asap(function () {\n\t    var value = record.v,\n\t        ok = record.s == 1,\n\t        i = 0;\n\t    var run = function run(reaction) {\n\t      var handler = ok ? reaction.ok : reaction.fail,\n\t          resolve = reaction.resolve,\n\t          reject = reaction.reject,\n\t          result,\n\t          then;\n\t      try {\n\t        if (handler) {\n\t          if (!ok) record.h = true;\n\t          result = handler === true ? value : handler(value);\n\t          if (result === reaction.promise) {\n\t            reject(TypeError('Promise-chain cycle'));\n\t          } else if (then = isThenable(result)) {\n\t            then.call(result, resolve, reject);\n\t          } else resolve(result);\n\t        } else reject(value);\n\t      } catch (e) {\n\t        reject(e);\n\t      }\n\t    };\n\t    while (chain.length > i) {\n\t      run(chain[i++]);\n\t    } // variable length - can't use forEach\n\t    chain.length = 0;\n\t    record.n = false;\n\t    if (isReject) setTimeout(function () {\n\t      var promise = record.p,\n\t          handler,\n\t          console;\n\t      if (isUnhandled(promise)) {\n\t        if (isNode) {\n\t          process.emit('unhandledRejection', value, promise);\n\t        } else if (handler = global.onunhandledrejection) {\n\t          handler({ promise: promise, reason: value });\n\t        } else if ((console = global.console) && console.error) {\n\t          console.error('Unhandled promise rejection', value);\n\t        }\n\t      }record.a = undefined;\n\t    }, 1);\n\t  });\n\t};\n\tvar isUnhandled = function isUnhandled(promise) {\n\t  var record = promise._d,\n\t      chain = record.a || record.c,\n\t      i = 0,\n\t      reaction;\n\t  if (record.h) return false;\n\t  while (chain.length > i) {\n\t    reaction = chain[i++];\n\t    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n\t  }return true;\n\t};\n\tvar $reject = function $reject(value) {\n\t  var record = this;\n\t  if (record.d) return;\n\t  record.d = true;\n\t  record = record.r || record; // unwrap\n\t  record.v = value;\n\t  record.s = 2;\n\t  record.a = record.c.slice();\n\t  notify(record, true);\n\t};\n\tvar $resolve = function $resolve(value) {\n\t  var record = this,\n\t      then;\n\t  if (record.d) return;\n\t  record.d = true;\n\t  record = record.r || record; // unwrap\n\t  try {\n\t    if (record.p === value) throw TypeError(\"Promise can't be resolved itself\");\n\t    if (then = isThenable(value)) {\n\t      asap(function () {\n\t        var wrapper = { r: record, d: false }; // wrap\n\t        try {\n\t          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n\t        } catch (e) {\n\t          $reject.call(wrapper, e);\n\t        }\n\t      });\n\t    } else {\n\t      record.v = value;\n\t      record.s = 1;\n\t      notify(record, false);\n\t    }\n\t  } catch (e) {\n\t    $reject.call({ r: record, d: false }, e); // wrap\n\t  }\n\t};\n\t\n\t// constructor polyfill\n\tif (!USE_NATIVE) {\n\t  // 25.4.3.1 Promise(executor)\n\t  P = function Promise(executor) {\n\t    aFunction(executor);\n\t    var record = this._d = {\n\t      p: strictNew(this, P, PROMISE), // <- promise\n\t      c: [], // <- awaiting reactions\n\t      a: undefined, // <- checked in isUnhandled reactions\n\t      s: 0, // <- state\n\t      d: false, // <- done\n\t      v: undefined, // <- value\n\t      h: false, // <- handled rejection\n\t      n: false // <- notify\n\t    };\n\t    try {\n\t      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n\t    } catch (err) {\n\t      $reject.call(record, err);\n\t    }\n\t  };\n\t  __webpack_require__(44)(P.prototype, {\n\t    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n\t    then: function then(onFulfilled, onRejected) {\n\t      var reaction = new PromiseCapability(speciesConstructor(this, P)),\n\t          promise = reaction.promise,\n\t          record = this._d;\n\t      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n\t      reaction.fail = typeof onRejected == 'function' && onRejected;\n\t      record.c.push(reaction);\n\t      if (record.a) record.a.push(reaction);\n\t      if (record.s) notify(record, false);\n\t      return promise;\n\t    },\n\t    // 25.4.5.1 Promise.prototype.catch(onRejected)\n\t    'catch': function _catch(onRejected) {\n\t      return this.then(undefined, onRejected);\n\t    }\n\t  });\n\t}\n\t\n\t$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: P });\n\t__webpack_require__(31)(P, PROMISE);\n\t__webpack_require__(45)(PROMISE);\n\tWrapper = __webpack_require__(20)[PROMISE];\n\t\n\t// statics\n\t$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n\t  // 25.4.4.5 Promise.reject(r)\n\t  reject: function reject(r) {\n\t    var capability = new PromiseCapability(this),\n\t        $$reject = capability.reject;\n\t    $$reject(r);\n\t    return capability.promise;\n\t  }\n\t});\n\t$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n\t  // 25.4.4.6 Promise.resolve(x)\n\t  resolve: function resolve(x) {\n\t    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n\t    if (x instanceof P && sameConstructor(x.constructor, this)) return x;\n\t    var capability = new PromiseCapability(this),\n\t        $$resolve = capability.resolve;\n\t    $$resolve(x);\n\t    return capability.promise;\n\t  }\n\t});\n\t$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(51)(function (iter) {\n\t  P.all(iter)['catch'](function () {});\n\t})), PROMISE, {\n\t  // 25.4.4.1 Promise.all(iterable)\n\t  all: function all(iterable) {\n\t    var C = getConstructor(this),\n\t        capability = new PromiseCapability(C),\n\t        resolve = capability.resolve,\n\t        reject = capability.reject,\n\t        values = [];\n\t    var abrupt = perform(function () {\n\t      forOf(iterable, false, values.push, values);\n\t      var remaining = values.length,\n\t          results = Array(remaining);\n\t      if (remaining) $.each.call(values, function (promise, index) {\n\t        var alreadyCalled = false;\n\t        C.resolve(promise).then(function (value) {\n\t          if (alreadyCalled) return;\n\t          alreadyCalled = true;\n\t          results[index] = value;\n\t          --remaining || resolve(results);\n\t        }, reject);\n\t      });else resolve(results);\n\t    });\n\t    if (abrupt) reject(abrupt.error);\n\t    return capability.promise;\n\t  },\n\t  // 25.4.4.4 Promise.race(iterable)\n\t  race: function race(iterable) {\n\t    var C = getConstructor(this),\n\t        capability = new PromiseCapability(C),\n\t        reject = capability.reject;\n\t    var abrupt = perform(function () {\n\t      forOf(iterable, false, function (promise) {\n\t        C.resolve(promise).then(capability.resolve, reject);\n\t      });\n\t    });\n\t    if (abrupt) reject(abrupt.error);\n\t    return capability.promise;\n\t  }\n\t});\n\n/***/ },\n/* 177 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\n\tvar $export = __webpack_require__(1),\n\t    _apply = Function.apply;\n\t\n\t$export($export.S, 'Reflect', {\n\t  apply: function apply(target, thisArgument, argumentsList) {\n\t    return _apply.call(target, thisArgument, argumentsList);\n\t  }\n\t});\n\n/***/ },\n/* 178 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\n\tvar $ = __webpack_require__(2),\n\t    $export = __webpack_require__(1),\n\t    aFunction = __webpack_require__(24),\n\t    anObject = __webpack_require__(4),\n\t    isObject = __webpack_require__(3),\n\t    bind = Function.bind || __webpack_require__(20).Function.prototype.bind;\n\t\n\t// MS Edge supports only 2 arguments\n\t// FF Nightly sets third argument as `new.target`, but does not create `this` from it\n\t$export($export.S + $export.F * __webpack_require__(7)(function () {\n\t  function F() {}\n\t  return !(Reflect.construct(function () {}, [], F) instanceof F);\n\t}), 'Reflect', {\n\t  construct: function construct(Target, args /*, newTarget*/) {\n\t    aFunction(Target);\n\t    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n\t    if (Target == newTarget) {\n\t      // w/o altered newTarget, optimization for 0-4 arguments\n\t      if (args != undefined) switch (anObject(args).length) {\n\t        case 0:\n\t          return new Target();\n\t        case 1:\n\t          return new Target(args[0]);\n\t        case 2:\n\t          return new Target(args[0], args[1]);\n\t        case 3:\n\t          return new Target(args[0], args[1], args[2]);\n\t        case 4:\n\t          return new Target(args[0], args[1], args[2], args[3]);\n\t      }\n\t      // w/o altered newTarget, lot of arguments case\n\t      var $args = [null];\n\t      $args.push.apply($args, args);\n\t      return new (bind.apply(Target, $args))();\n\t    }\n\t    // with altered newTarget, not support built-in constructors\n\t    var proto = newTarget.prototype,\n\t        instance = $.create(isObject(proto) ? proto : Object.prototype),\n\t        result = Function.apply.call(Target, instance, args);\n\t    return isObject(result) ? result : instance;\n\t  }\n\t});\n\n/***/ },\n/* 179 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\n\tvar $ = __webpack_require__(2),\n\t    $export = __webpack_require__(1),\n\t    anObject = __webpack_require__(4);\n\t\n\t// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n\t$export($export.S + $export.F * __webpack_require__(7)(function () {\n\t  Reflect.defineProperty($.setDesc({}, 1, { value: 1 }), 1, { value: 2 });\n\t}), 'Reflect', {\n\t  defineProperty: function defineProperty(target, propertyKey, attributes) {\n\t    anObject(target);\n\t    try {\n\t      $.setDesc(target, propertyKey, attributes);\n\t      return true;\n\t    } catch (e) {\n\t      return false;\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 180 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.4 Reflect.deleteProperty(target, propertyKey)\n\tvar $export = __webpack_require__(1),\n\t    getDesc = __webpack_require__(2).getDesc,\n\t    anObject = __webpack_require__(4);\n\t\n\t$export($export.S, 'Reflect', {\n\t  deleteProperty: function deleteProperty(target, propertyKey) {\n\t    var desc = getDesc(anObject(target), propertyKey);\n\t    return desc && !desc.configurable ? false : delete target[propertyKey];\n\t  }\n\t});\n\n/***/ },\n/* 181 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// 26.1.5 Reflect.enumerate(target)\n\t\n\tvar $export = __webpack_require__(1),\n\t    anObject = __webpack_require__(4);\n\tvar Enumerate = function Enumerate(iterated) {\n\t  this._t = anObject(iterated); // target\n\t  this._i = 0; // next index\n\t  var keys = this._k = [] // keys\n\t  ,\n\t      key;\n\t  for (key in iterated) {\n\t    keys.push(key);\n\t  }\n\t};\n\t__webpack_require__(75)(Enumerate, 'Object', function () {\n\t  var that = this,\n\t      keys = that._k,\n\t      key;\n\t  do {\n\t    if (that._i >= keys.length) return { value: undefined, done: true };\n\t  } while (!((key = keys[that._i++]) in that._t));\n\t  return { value: key, done: false };\n\t});\n\t\n\t$export($export.S, 'Reflect', {\n\t  enumerate: function enumerate(target) {\n\t    return new Enumerate(target);\n\t  }\n\t});\n\n/***/ },\n/* 182 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\n\tvar $ = __webpack_require__(2),\n\t    $export = __webpack_require__(1),\n\t    anObject = __webpack_require__(4);\n\t\n\t$export($export.S, 'Reflect', {\n\t  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n\t    return $.getDesc(anObject(target), propertyKey);\n\t  }\n\t});\n\n/***/ },\n/* 183 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.8 Reflect.getPrototypeOf(target)\n\tvar $export = __webpack_require__(1),\n\t    getProto = __webpack_require__(2).getProto,\n\t    anObject = __webpack_require__(4);\n\t\n\t$export($export.S, 'Reflect', {\n\t  getPrototypeOf: function getPrototypeOf(target) {\n\t    return getProto(anObject(target));\n\t  }\n\t});\n\n/***/ },\n/* 184 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.6 Reflect.get(target, propertyKey [, receiver])\n\tvar $ = __webpack_require__(2),\n\t    has = __webpack_require__(9),\n\t    $export = __webpack_require__(1),\n\t    isObject = __webpack_require__(3),\n\t    anObject = __webpack_require__(4);\n\t\n\tfunction get(target, propertyKey /*, receiver*/) {\n\t  var receiver = arguments.length < 3 ? target : arguments[2],\n\t      desc,\n\t      proto;\n\t  if (anObject(target) === receiver) return target[propertyKey];\n\t  if (desc = $.getDesc(target, propertyKey)) return has(desc, 'value') ? desc.value : desc.get !== undefined ? desc.get.call(receiver) : undefined;\n\t  if (isObject(proto = $.getProto(target))) return get(proto, propertyKey, receiver);\n\t}\n\t\n\t$export($export.S, 'Reflect', { get: get });\n\n/***/ },\n/* 185 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.9 Reflect.has(target, propertyKey)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Reflect', {\n\t  has: function has(target, propertyKey) {\n\t    return propertyKey in target;\n\t  }\n\t});\n\n/***/ },\n/* 186 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.10 Reflect.isExtensible(target)\n\tvar $export = __webpack_require__(1),\n\t    anObject = __webpack_require__(4),\n\t    $isExtensible = Object.isExtensible;\n\t\n\t$export($export.S, 'Reflect', {\n\t  isExtensible: function isExtensible(target) {\n\t    anObject(target);\n\t    return $isExtensible ? $isExtensible(target) : true;\n\t  }\n\t});\n\n/***/ },\n/* 187 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.11 Reflect.ownKeys(target)\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.S, 'Reflect', { ownKeys: __webpack_require__(79) });\n\n/***/ },\n/* 188 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.12 Reflect.preventExtensions(target)\n\tvar $export = __webpack_require__(1),\n\t    anObject = __webpack_require__(4),\n\t    $preventExtensions = Object.preventExtensions;\n\t\n\t$export($export.S, 'Reflect', {\n\t  preventExtensions: function preventExtensions(target) {\n\t    anObject(target);\n\t    try {\n\t      if ($preventExtensions) $preventExtensions(target);\n\t      return true;\n\t    } catch (e) {\n\t      return false;\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 189 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.14 Reflect.setPrototypeOf(target, proto)\n\tvar $export = __webpack_require__(1),\n\t    setProto = __webpack_require__(55);\n\t\n\tif (setProto) $export($export.S, 'Reflect', {\n\t  setPrototypeOf: function setPrototypeOf(target, proto) {\n\t    setProto.check(target, proto);\n\t    try {\n\t      setProto.set(target, proto);\n\t      return true;\n\t    } catch (e) {\n\t      return false;\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 190 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\n\tvar $ = __webpack_require__(2),\n\t    has = __webpack_require__(9),\n\t    $export = __webpack_require__(1),\n\t    createDesc = __webpack_require__(22),\n\t    anObject = __webpack_require__(4),\n\t    isObject = __webpack_require__(3);\n\t\n\tfunction set(target, propertyKey, V /*, receiver*/) {\n\t  var receiver = arguments.length < 4 ? target : arguments[3],\n\t      ownDesc = $.getDesc(anObject(target), propertyKey),\n\t      existingDescriptor,\n\t      proto;\n\t  if (!ownDesc) {\n\t    if (isObject(proto = $.getProto(target))) {\n\t      return set(proto, propertyKey, V, receiver);\n\t    }\n\t    ownDesc = createDesc(0);\n\t  }\n\t  if (has(ownDesc, 'value')) {\n\t    if (ownDesc.writable === false || !isObject(receiver)) return false;\n\t    existingDescriptor = $.getDesc(receiver, propertyKey) || createDesc(0);\n\t    existingDescriptor.value = V;\n\t    $.setDesc(receiver, propertyKey, existingDescriptor);\n\t    return true;\n\t  }\n\t  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n\t}\n\t\n\t$export($export.S, 'Reflect', { set: set });\n\n/***/ },\n/* 191 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    global = __webpack_require__(6),\n\t    isRegExp = __webpack_require__(73),\n\t    $flags = __webpack_require__(68),\n\t    $RegExp = global.RegExp,\n\t    Base = $RegExp,\n\t    proto = $RegExp.prototype,\n\t    re1 = /a/g,\n\t    re2 = /a/g\n\t// \"new\" creates a new object, old webkit buggy here\n\t,\n\t    CORRECT_NEW = new $RegExp(re1) !== re1;\n\t\n\tif (__webpack_require__(11) && (!CORRECT_NEW || __webpack_require__(7)(function () {\n\t  re2[__webpack_require__(5)('match')] = false;\n\t  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n\t  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n\t}))) {\n\t  $RegExp = function RegExp(p, f) {\n\t    var piRE = isRegExp(p),\n\t        fiU = f === undefined;\n\t    return !(this instanceof $RegExp) && piRE && p.constructor === $RegExp && fiU ? p : CORRECT_NEW ? new Base(piRE && !fiU ? p.source : p, f) : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f);\n\t  };\n\t  $.each.call($.getNames(Base), function (key) {\n\t    key in $RegExp || $.setDesc($RegExp, key, {\n\t      configurable: true,\n\t      get: function get() {\n\t        return Base[key];\n\t      },\n\t      set: function set(it) {\n\t        Base[key] = it;\n\t      }\n\t    });\n\t  });\n\t  proto.constructor = $RegExp;\n\t  $RegExp.prototype = proto;\n\t  __webpack_require__(13)(global, 'RegExp', $RegExp);\n\t}\n\t\n\t__webpack_require__(45)('RegExp');\n\n/***/ },\n/* 192 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 21.2.5.3 get RegExp.prototype.flags()\n\tvar $ = __webpack_require__(2);\n\tif (__webpack_require__(11) && /./g.flags != 'g') $.setDesc(RegExp.prototype, 'flags', {\n\t  configurable: true,\n\t  get: __webpack_require__(68)\n\t});\n\n/***/ },\n/* 193 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// @@match logic\n\t__webpack_require__(41)('match', 1, function (defined, MATCH) {\n\t  // 21.1.3.11 String.prototype.match(regexp)\n\t  return function match(regexp) {\n\t    'use strict';\n\t\n\t    var O = defined(this),\n\t        fn = regexp == undefined ? undefined : regexp[MATCH];\n\t    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n\t  };\n\t});\n\n/***/ },\n/* 194 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// @@replace logic\n\t__webpack_require__(41)('replace', 2, function (defined, REPLACE, $replace) {\n\t  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n\t  return function replace(searchValue, replaceValue) {\n\t    'use strict';\n\t\n\t    var O = defined(this),\n\t        fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n\t    return fn !== undefined ? fn.call(searchValue, O, replaceValue) : $replace.call(String(O), searchValue, replaceValue);\n\t  };\n\t});\n\n/***/ },\n/* 195 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// @@search logic\n\t__webpack_require__(41)('search', 1, function (defined, SEARCH) {\n\t  // 21.1.3.15 String.prototype.search(regexp)\n\t  return function search(regexp) {\n\t    'use strict';\n\t\n\t    var O = defined(this),\n\t        fn = regexp == undefined ? undefined : regexp[SEARCH];\n\t    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n\t  };\n\t});\n\n/***/ },\n/* 196 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// @@split logic\n\t__webpack_require__(41)('split', 2, function (defined, SPLIT, $split) {\n\t  // 21.1.3.17 String.prototype.split(separator, limit)\n\t  return function split(separator, limit) {\n\t    'use strict';\n\t\n\t    var O = defined(this),\n\t        fn = separator == undefined ? undefined : separator[SPLIT];\n\t    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n\t  };\n\t});\n\n/***/ },\n/* 197 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar strong = __webpack_require__(64);\n\t\n\t// 23.2 Set Objects\n\t__webpack_require__(40)('Set', function (get) {\n\t  return function Set() {\n\t    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n\t  };\n\t}, {\n\t  // 23.2.3.1 Set.prototype.add(value)\n\t  add: function add(value) {\n\t    return strong.def(this, value = value === 0 ? 0 : value, value);\n\t  }\n\t}, strong);\n\n/***/ },\n/* 198 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    $at = __webpack_require__(56)(false);\n\t$export($export.P, 'String', {\n\t  // 21.1.3.3 String.prototype.codePointAt(pos)\n\t  codePointAt: function codePointAt(pos) {\n\t    return $at(this, pos);\n\t  }\n\t});\n\n/***/ },\n/* 199 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    toLength = __webpack_require__(10),\n\t    context = __webpack_require__(57),\n\t    ENDS_WITH = 'endsWith',\n\t    $endsWith = ''[ENDS_WITH];\n\t\n\t$export($export.P + $export.F * __webpack_require__(48)(ENDS_WITH), 'String', {\n\t  endsWith: function endsWith(searchString /*, endPosition = @length */) {\n\t    var that = context(this, searchString, ENDS_WITH),\n\t        $$ = arguments,\n\t        endPosition = $$.length > 1 ? $$[1] : undefined,\n\t        len = toLength(that.length),\n\t        end = endPosition === undefined ? len : Math.min(toLength(endPosition), len),\n\t        search = String(searchString);\n\t    return $endsWith ? $endsWith.call(that, search, end) : that.slice(end - search.length, end) === search;\n\t  }\n\t});\n\n/***/ },\n/* 200 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    toIndex = __webpack_require__(32),\n\t    fromCharCode = String.fromCharCode,\n\t    $fromCodePoint = String.fromCodePoint;\n\t\n\t// length should be 1, old FF problem\n\t$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n\t  // 21.1.2.2 String.fromCodePoint(...codePoints)\n\t  fromCodePoint: function fromCodePoint(x) {\n\t    // eslint-disable-line no-unused-vars\n\t    var res = [],\n\t        $$ = arguments,\n\t        $$len = $$.length,\n\t        i = 0,\n\t        code;\n\t    while ($$len > i) {\n\t      code = +$$[i++];\n\t      if (toIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n\t      res.push(code < 0x10000 ? fromCharCode(code) : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00));\n\t    }return res.join('');\n\t  }\n\t});\n\n/***/ },\n/* 201 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    context = __webpack_require__(57),\n\t    INCLUDES = 'includes';\n\t\n\t$export($export.P + $export.F * __webpack_require__(48)(INCLUDES), 'String', {\n\t  includes: function includes(searchString /*, position = 0 */) {\n\t    return !! ~context(this, searchString, INCLUDES).indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n\t  }\n\t});\n\n/***/ },\n/* 202 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $at = __webpack_require__(56)(true);\n\t\n\t// 21.1.3.27 String.prototype[@@iterator]()\n\t__webpack_require__(50)(String, 'String', function (iterated) {\n\t  this._t = String(iterated); // target\n\t  this._i = 0; // next index\n\t  // 21.1.5.2.1 %StringIteratorPrototype%.next()\n\t}, function () {\n\t  var O = this._t,\n\t      index = this._i,\n\t      point;\n\t  if (index >= O.length) return { value: undefined, done: true };\n\t  point = $at(O, index);\n\t  this._i += point.length;\n\t  return { value: point, done: false };\n\t});\n\n/***/ },\n/* 203 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    toIObject = __webpack_require__(14),\n\t    toLength = __webpack_require__(10);\n\t\n\t$export($export.S, 'String', {\n\t  // 21.1.2.4 String.raw(callSite, ...substitutions)\n\t  raw: function raw(callSite) {\n\t    var tpl = toIObject(callSite.raw),\n\t        len = toLength(tpl.length),\n\t        $$ = arguments,\n\t        $$len = $$.length,\n\t        res = [],\n\t        i = 0;\n\t    while (len > i) {\n\t      res.push(String(tpl[i++]));\n\t      if (i < $$len) res.push(String($$[i]));\n\t    }return res.join('');\n\t  }\n\t});\n\n/***/ },\n/* 204 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.P, 'String', {\n\t  // 21.1.3.13 String.prototype.repeat(count)\n\t  repeat: __webpack_require__(83)\n\t});\n\n/***/ },\n/* 205 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    toLength = __webpack_require__(10),\n\t    context = __webpack_require__(57),\n\t    STARTS_WITH = 'startsWith',\n\t    $startsWith = ''[STARTS_WITH];\n\t\n\t$export($export.P + $export.F * __webpack_require__(48)(STARTS_WITH), 'String', {\n\t  startsWith: function startsWith(searchString /*, position = 0 */) {\n\t    var that = context(this, searchString, STARTS_WITH),\n\t        $$ = arguments,\n\t        index = toLength(Math.min($$.length > 1 ? $$[1] : undefined, that.length)),\n\t        search = String(searchString);\n\t    return $startsWith ? $startsWith.call(that, search, index) : that.slice(index, index + search.length) === search;\n\t  }\n\t});\n\n/***/ },\n/* 206 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// 21.1.3.25 String.prototype.trim()\n\t\n\t__webpack_require__(47)('trim', function ($trim) {\n\t  return function trim() {\n\t    return $trim(this, 3);\n\t  };\n\t});\n\n/***/ },\n/* 207 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// ECMAScript 6 symbols shim\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar $ = __webpack_require__(2),\n\t    global = __webpack_require__(6),\n\t    has = __webpack_require__(9),\n\t    DESCRIPTORS = __webpack_require__(11),\n\t    $export = __webpack_require__(1),\n\t    redefine = __webpack_require__(13),\n\t    $fails = __webpack_require__(7),\n\t    shared = __webpack_require__(81),\n\t    setToStringTag = __webpack_require__(31),\n\t    uid = __webpack_require__(26),\n\t    wks = __webpack_require__(5),\n\t    keyOf = __webpack_require__(116),\n\t    $names = __webpack_require__(69),\n\t    enumKeys = __webpack_require__(115),\n\t    isArray = __webpack_require__(49),\n\t    anObject = __webpack_require__(4),\n\t    toIObject = __webpack_require__(14),\n\t    createDesc = __webpack_require__(22),\n\t    getDesc = $.getDesc,\n\t    setDesc = $.setDesc,\n\t    _create = $.create,\n\t    getNames = $names.get,\n\t    $Symbol = global.Symbol,\n\t    $JSON = global.JSON,\n\t    _stringify = $JSON && $JSON.stringify,\n\t    setter = false,\n\t    HIDDEN = wks('_hidden'),\n\t    isEnum = $.isEnum,\n\t    SymbolRegistry = shared('symbol-registry'),\n\t    AllSymbols = shared('symbols'),\n\t    useNative = typeof $Symbol == 'function',\n\t    ObjectProto = Object.prototype;\n\t\n\t// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n\tvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n\t  return _create(setDesc({}, 'a', {\n\t    get: function get() {\n\t      return setDesc(this, 'a', { value: 7 }).a;\n\t    }\n\t  })).a != 7;\n\t}) ? function (it, key, D) {\n\t  var protoDesc = getDesc(ObjectProto, key);\n\t  if (protoDesc) delete ObjectProto[key];\n\t  setDesc(it, key, D);\n\t  if (protoDesc && it !== ObjectProto) setDesc(ObjectProto, key, protoDesc);\n\t} : setDesc;\n\t\n\tvar wrap = function wrap(tag) {\n\t  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n\t  sym._k = tag;\n\t  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n\t    configurable: true,\n\t    set: function set(value) {\n\t      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n\t      setSymbolDesc(this, tag, createDesc(1, value));\n\t    }\n\t  });\n\t  return sym;\n\t};\n\t\n\tvar isSymbol = function isSymbol(it) {\n\t  return (typeof it === 'undefined' ? 'undefined' : _typeof(it)) == 'symbol';\n\t};\n\t\n\tvar $defineProperty = function defineProperty(it, key, D) {\n\t  if (D && has(AllSymbols, key)) {\n\t    if (!D.enumerable) {\n\t      if (!has(it, HIDDEN)) setDesc(it, HIDDEN, createDesc(1, {}));\n\t      it[HIDDEN][key] = true;\n\t    } else {\n\t      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n\t      D = _create(D, { enumerable: createDesc(0, false) });\n\t    }return setSymbolDesc(it, key, D);\n\t  }return setDesc(it, key, D);\n\t};\n\tvar $defineProperties = function defineProperties(it, P) {\n\t  anObject(it);\n\t  var keys = enumKeys(P = toIObject(P)),\n\t      i = 0,\n\t      l = keys.length,\n\t      key;\n\t  while (l > i) {\n\t    $defineProperty(it, key = keys[i++], P[key]);\n\t  }return it;\n\t};\n\tvar $create = function create(it, P) {\n\t  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n\t};\n\tvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n\t  var E = isEnum.call(this, key);\n\t  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n\t};\n\tvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n\t  var D = getDesc(it = toIObject(it), key);\n\t  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n\t  return D;\n\t};\n\tvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n\t  var names = getNames(toIObject(it)),\n\t      result = [],\n\t      i = 0,\n\t      key;\n\t  while (names.length > i) {\n\t    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN) result.push(key);\n\t  }return result;\n\t};\n\tvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n\t  var names = getNames(toIObject(it)),\n\t      result = [],\n\t      i = 0,\n\t      key;\n\t  while (names.length > i) {\n\t    if (has(AllSymbols, key = names[i++])) result.push(AllSymbols[key]);\n\t  }return result;\n\t};\n\tvar $stringify = function stringify(it) {\n\t  if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n\t  var args = [it],\n\t      i = 1,\n\t      $$ = arguments,\n\t      replacer,\n\t      $replacer;\n\t  while ($$.length > i) {\n\t    args.push($$[i++]);\n\t  }replacer = args[1];\n\t  if (typeof replacer == 'function') $replacer = replacer;\n\t  if ($replacer || !isArray(replacer)) replacer = function replacer(key, value) {\n\t    if ($replacer) value = $replacer.call(this, key, value);\n\t    if (!isSymbol(value)) return value;\n\t  };\n\t  args[1] = replacer;\n\t  return _stringify.apply($JSON, args);\n\t};\n\tvar buggyJSON = $fails(function () {\n\t  var S = $Symbol();\n\t  // MS Edge converts symbol values to JSON as {}\n\t  // WebKit converts symbol values to JSON as null\n\t  // V8 throws on boxed symbols\n\t  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n\t});\n\t\n\t// 19.4.1.1 Symbol([description])\n\tif (!useNative) {\n\t  $Symbol = function _Symbol() {\n\t    if (isSymbol(this)) throw TypeError('Symbol is not a constructor');\n\t    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n\t  };\n\t  redefine($Symbol.prototype, 'toString', function toString() {\n\t    return this._k;\n\t  });\n\t\n\t  isSymbol = function isSymbol(it) {\n\t    return it instanceof $Symbol;\n\t  };\n\t\n\t  $.create = $create;\n\t  $.isEnum = $propertyIsEnumerable;\n\t  $.getDesc = $getOwnPropertyDescriptor;\n\t  $.setDesc = $defineProperty;\n\t  $.setDescs = $defineProperties;\n\t  $.getNames = $names.get = $getOwnPropertyNames;\n\t  $.getSymbols = $getOwnPropertySymbols;\n\t\n\t  if (DESCRIPTORS && !__webpack_require__(52)) {\n\t    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n\t  }\n\t}\n\t\n\tvar symbolStatics = {\n\t  // 19.4.2.1 Symbol.for(key)\n\t  'for': function _for(key) {\n\t    return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);\n\t  },\n\t  // 19.4.2.5 Symbol.keyFor(sym)\n\t  keyFor: function keyFor(key) {\n\t    return keyOf(SymbolRegistry, key);\n\t  },\n\t  useSetter: function useSetter() {\n\t    setter = true;\n\t  },\n\t  useSimple: function useSimple() {\n\t    setter = false;\n\t  }\n\t};\n\t// 19.4.2.2 Symbol.hasInstance\n\t// 19.4.2.3 Symbol.isConcatSpreadable\n\t// 19.4.2.4 Symbol.iterator\n\t// 19.4.2.6 Symbol.match\n\t// 19.4.2.8 Symbol.replace\n\t// 19.4.2.9 Symbol.search\n\t// 19.4.2.10 Symbol.species\n\t// 19.4.2.11 Symbol.split\n\t// 19.4.2.12 Symbol.toPrimitive\n\t// 19.4.2.13 Symbol.toStringTag\n\t// 19.4.2.14 Symbol.unscopables\n\t$.each.call(('hasInstance,isConcatSpreadable,iterator,match,replace,search,' + 'species,split,toPrimitive,toStringTag,unscopables').split(','), function (it) {\n\t  var sym = wks(it);\n\t  symbolStatics[it] = useNative ? sym : wrap(sym);\n\t});\n\t\n\tsetter = true;\n\t\n\t$export($export.G + $export.W, { Symbol: $Symbol });\n\t\n\t$export($export.S, 'Symbol', symbolStatics);\n\t\n\t$export($export.S + $export.F * !useNative, 'Object', {\n\t  // 19.1.2.2 Object.create(O [, Properties])\n\t  create: $create,\n\t  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n\t  defineProperty: $defineProperty,\n\t  // 19.1.2.3 Object.defineProperties(O, Properties)\n\t  defineProperties: $defineProperties,\n\t  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n\t  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n\t  // 19.1.2.7 Object.getOwnPropertyNames(O)\n\t  getOwnPropertyNames: $getOwnPropertyNames,\n\t  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n\t  getOwnPropertySymbols: $getOwnPropertySymbols\n\t});\n\t\n\t// 24.3.2 JSON.stringify(value [, replacer [, space]])\n\t$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', { stringify: $stringify });\n\t\n\t// 19.4.3.5 Symbol.prototype[@@toStringTag]\n\tsetToStringTag($Symbol, 'Symbol');\n\t// 20.2.1.9 Math[@@toStringTag]\n\tsetToStringTag(Math, 'Math', true);\n\t// 24.3.3 JSON[@@toStringTag]\n\tsetToStringTag(global.JSON, 'JSON', true);\n\n/***/ },\n/* 208 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(2),\n\t    redefine = __webpack_require__(13),\n\t    weak = __webpack_require__(66),\n\t    isObject = __webpack_require__(3),\n\t    has = __webpack_require__(9),\n\t    frozenStore = weak.frozenStore,\n\t    WEAK = weak.WEAK,\n\t    isExtensible = Object.isExtensible || isObject,\n\t    tmp = {};\n\t\n\t// 23.3 WeakMap Objects\n\tvar $WeakMap = __webpack_require__(40)('WeakMap', function (get) {\n\t  return function WeakMap() {\n\t    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n\t  };\n\t}, {\n\t  // 23.3.3.3 WeakMap.prototype.get(key)\n\t  get: function get(key) {\n\t    if (isObject(key)) {\n\t      if (!isExtensible(key)) return frozenStore(this).get(key);\n\t      if (has(key, WEAK)) return key[WEAK][this._i];\n\t    }\n\t  },\n\t  // 23.3.3.5 WeakMap.prototype.set(key, value)\n\t  set: function set(key, value) {\n\t    return weak.def(this, key, value);\n\t  }\n\t}, weak, true, true);\n\t\n\t// IE11 WeakMap frozen keys fix\n\tif (new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7) {\n\t  $.each.call(['delete', 'has', 'get', 'set'], function (key) {\n\t    var proto = $WeakMap.prototype,\n\t        method = proto[key];\n\t    redefine(proto, key, function (a, b) {\n\t      // store frozen objects on leaky map\n\t      if (isObject(a) && !isExtensible(a)) {\n\t        var result = frozenStore(this)[key](a, b);\n\t        return key == 'set' ? this : result;\n\t        // store all the rest on native weakmap\n\t      }return method.call(this, a, b);\n\t    });\n\t  });\n\t}\n\n/***/ },\n/* 209 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar weak = __webpack_require__(66);\n\t\n\t// 23.4 WeakSet Objects\n\t__webpack_require__(40)('WeakSet', function (get) {\n\t  return function WeakSet() {\n\t    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n\t  };\n\t}, {\n\t  // 23.4.3.1 WeakSet.prototype.add(value)\n\t  add: function add(value) {\n\t    return weak.def(this, value, true);\n\t  }\n\t}, weak, false, true);\n\n/***/ },\n/* 210 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    $includes = __webpack_require__(63)(true);\n\t\n\t$export($export.P, 'Array', {\n\t  // https://github.com/domenic/Array.prototype.includes\n\t  includes: function includes(el /*, fromIndex = 0 */) {\n\t    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n\t  }\n\t});\n\t\n\t__webpack_require__(25)('includes');\n\n/***/ },\n/* 211 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// https://github.com/DavidBruant/Map-Set.prototype.toJSON\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.P, 'Map', { toJSON: __webpack_require__(65)('Map') });\n\n/***/ },\n/* 212 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// http://goo.gl/XkBrjD\n\tvar $export = __webpack_require__(1),\n\t    $entries = __webpack_require__(78)(true);\n\t\n\t$export($export.S, 'Object', {\n\t  entries: function entries(it) {\n\t    return $entries(it);\n\t  }\n\t});\n\n/***/ },\n/* 213 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// https://gist.github.com/WebReflection/9353781\n\tvar $ = __webpack_require__(2),\n\t    $export = __webpack_require__(1),\n\t    ownKeys = __webpack_require__(79),\n\t    toIObject = __webpack_require__(14),\n\t    createDesc = __webpack_require__(22);\n\t\n\t$export($export.S, 'Object', {\n\t  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n\t    var O = toIObject(object),\n\t        setDesc = $.setDesc,\n\t        getDesc = $.getDesc,\n\t        keys = ownKeys(O),\n\t        result = {},\n\t        i = 0,\n\t        key,\n\t        D;\n\t    while (keys.length > i) {\n\t      D = getDesc(O, key = keys[i++]);\n\t      if (key in result) setDesc(result, key, createDesc(0, D));else result[key] = D;\n\t    }return result;\n\t  }\n\t});\n\n/***/ },\n/* 214 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// http://goo.gl/XkBrjD\n\tvar $export = __webpack_require__(1),\n\t    $values = __webpack_require__(78)(false);\n\t\n\t$export($export.S, 'Object', {\n\t  values: function values(it) {\n\t    return $values(it);\n\t  }\n\t});\n\n/***/ },\n/* 215 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// https://github.com/benjamingr/RexExp.escape\n\tvar $export = __webpack_require__(1),\n\t    $re = __webpack_require__(121)(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\t\n\t$export($export.S, 'RegExp', { escape: function escape(it) {\n\t    return $re(it);\n\t  } });\n\n/***/ },\n/* 216 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// https://github.com/DavidBruant/Map-Set.prototype.toJSON\n\tvar $export = __webpack_require__(1);\n\t\n\t$export($export.P, 'Set', { toJSON: __webpack_require__(65)('Set') });\n\n/***/ },\n/* 217 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// https://github.com/mathiasbynens/String.prototype.at\n\t\n\tvar $export = __webpack_require__(1),\n\t    $at = __webpack_require__(56)(true);\n\t\n\t$export($export.P, 'String', {\n\t  at: function at(pos) {\n\t    return $at(this, pos);\n\t  }\n\t});\n\n/***/ },\n/* 218 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    $pad = __webpack_require__(82);\n\t\n\t$export($export.P, 'String', {\n\t  padLeft: function padLeft(maxLength /*, fillString = ' ' */) {\n\t    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n\t  }\n\t});\n\n/***/ },\n/* 219 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    $pad = __webpack_require__(82);\n\t\n\t$export($export.P, 'String', {\n\t  padRight: function padRight(maxLength /*, fillString = ' ' */) {\n\t    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n\t  }\n\t});\n\n/***/ },\n/* 220 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\n\t\n\t__webpack_require__(47)('trimLeft', function ($trim) {\n\t  return function trimLeft() {\n\t    return $trim(this, 1);\n\t  };\n\t});\n\n/***/ },\n/* 221 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\n\t\n\t__webpack_require__(47)('trimRight', function ($trim) {\n\t  return function trimRight() {\n\t    return $trim(this, 2);\n\t  };\n\t});\n\n/***/ },\n/* 222 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// JavaScript 1.6 / Strawman array statics shim\n\tvar $ = __webpack_require__(2),\n\t    $export = __webpack_require__(1),\n\t    $ctx = __webpack_require__(16),\n\t    $Array = __webpack_require__(20).Array || Array,\n\t    statics = {};\n\tvar setStatics = function setStatics(keys, length) {\n\t  $.each.call(keys.split(','), function (key) {\n\t    if (length == undefined && key in $Array) statics[key] = $Array[key];else if (key in []) statics[key] = $ctx(Function.call, [][key], length);\n\t  });\n\t};\n\tsetStatics('pop,reverse,shift,keys,values,entries', 1);\n\tsetStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes', 3);\n\tsetStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,' + 'reduce,reduceRight,copyWithin,fill');\n\t$export($export.S, 'Array', statics);\n\n/***/ },\n/* 223 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(86);\n\tvar global = __webpack_require__(6),\n\t    hide = __webpack_require__(18),\n\t    Iterators = __webpack_require__(30),\n\t    ITERATOR = __webpack_require__(5)('iterator'),\n\t    NL = global.NodeList,\n\t    HTC = global.HTMLCollection,\n\t    NLProto = NL && NL.prototype,\n\t    HTCProto = HTC && HTC.prototype,\n\t    ArrayValues = Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n\tif (NLProto && !NLProto[ITERATOR]) hide(NLProto, ITERATOR, ArrayValues);\n\tif (HTCProto && !HTCProto[ITERATOR]) hide(HTCProto, ITERATOR, ArrayValues);\n\n/***/ },\n/* 224 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $export = __webpack_require__(1),\n\t    $task = __webpack_require__(84);\n\t$export($export.G + $export.B, {\n\t  setImmediate: $task.set,\n\t  clearImmediate: $task.clear\n\t});\n\n/***/ },\n/* 225 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// ie9- setTimeout & setInterval additional parameters fix\n\tvar global = __webpack_require__(6),\n\t    $export = __webpack_require__(1),\n\t    invoke = __webpack_require__(42),\n\t    partial = __webpack_require__(119),\n\t    navigator = global.navigator,\n\t    MSIE = !!navigator && /MSIE .\\./.test(navigator.userAgent); // <- dirty ie9- check\n\tvar wrap = function wrap(set) {\n\t  return MSIE ? function (fn, time /*, ...args */) {\n\t    return set(invoke(partial, [].slice.call(arguments, 2), typeof fn == 'function' ? fn : Function(fn)), time);\n\t  } : set;\n\t};\n\t$export($export.G + $export.B + $export.F * MSIE, {\n\t  setTimeout: wrap(global.setTimeout),\n\t  setInterval: wrap(global.setInterval)\n\t});\n\n/***/ },\n/* 226 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(124);\n\t__webpack_require__(207);\n\t__webpack_require__(162);\n\t__webpack_require__(170);\n\t__webpack_require__(174);\n\t__webpack_require__(175);\n\t__webpack_require__(163);\n\t__webpack_require__(173);\n\t__webpack_require__(172);\n\t__webpack_require__(168);\n\t__webpack_require__(169);\n\t__webpack_require__(167);\n\t__webpack_require__(164);\n\t__webpack_require__(166);\n\t__webpack_require__(171);\n\t__webpack_require__(165);\n\t__webpack_require__(133);\n\t__webpack_require__(132);\n\t__webpack_require__(152);\n\t__webpack_require__(153);\n\t__webpack_require__(154);\n\t__webpack_require__(155);\n\t__webpack_require__(156);\n\t__webpack_require__(157);\n\t__webpack_require__(158);\n\t__webpack_require__(159);\n\t__webpack_require__(160);\n\t__webpack_require__(161);\n\t__webpack_require__(135);\n\t__webpack_require__(136);\n\t__webpack_require__(137);\n\t__webpack_require__(138);\n\t__webpack_require__(139);\n\t__webpack_require__(140);\n\t__webpack_require__(141);\n\t__webpack_require__(142);\n\t__webpack_require__(143);\n\t__webpack_require__(144);\n\t__webpack_require__(145);\n\t__webpack_require__(146);\n\t__webpack_require__(147);\n\t__webpack_require__(148);\n\t__webpack_require__(149);\n\t__webpack_require__(150);\n\t__webpack_require__(151);\n\t__webpack_require__(200);\n\t__webpack_require__(203);\n\t__webpack_require__(206);\n\t__webpack_require__(202);\n\t__webpack_require__(198);\n\t__webpack_require__(199);\n\t__webpack_require__(201);\n\t__webpack_require__(204);\n\t__webpack_require__(205);\n\t__webpack_require__(129);\n\t__webpack_require__(130);\n\t__webpack_require__(86);\n\t__webpack_require__(131);\n\t__webpack_require__(125);\n\t__webpack_require__(126);\n\t__webpack_require__(128);\n\t__webpack_require__(127);\n\t__webpack_require__(191);\n\t__webpack_require__(192);\n\t__webpack_require__(193);\n\t__webpack_require__(194);\n\t__webpack_require__(195);\n\t__webpack_require__(196);\n\t__webpack_require__(176);\n\t__webpack_require__(134);\n\t__webpack_require__(197);\n\t__webpack_require__(208);\n\t__webpack_require__(209);\n\t__webpack_require__(177);\n\t__webpack_require__(178);\n\t__webpack_require__(179);\n\t__webpack_require__(180);\n\t__webpack_require__(181);\n\t__webpack_require__(184);\n\t__webpack_require__(182);\n\t__webpack_require__(183);\n\t__webpack_require__(185);\n\t__webpack_require__(186);\n\t__webpack_require__(187);\n\t__webpack_require__(188);\n\t__webpack_require__(190);\n\t__webpack_require__(189);\n\t__webpack_require__(210);\n\t__webpack_require__(217);\n\t__webpack_require__(218);\n\t__webpack_require__(219);\n\t__webpack_require__(220);\n\t__webpack_require__(221);\n\t__webpack_require__(215);\n\t__webpack_require__(213);\n\t__webpack_require__(214);\n\t__webpack_require__(212);\n\t__webpack_require__(211);\n\t__webpack_require__(216);\n\t__webpack_require__(222);\n\t__webpack_require__(225);\n\t__webpack_require__(224);\n\t__webpack_require__(223);\n\tmodule.exports = __webpack_require__(20);\n\n/***/ },\n/* 227 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, module, process) {\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Copyright (c) 2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n\t * additional grant of patent rights can be found in the PATENTS file in\n\t * the same directory.\n\t */\n\t\n\t!function (global) {\n\t  \"use strict\";\n\t\n\t  var hasOwn = Object.prototype.hasOwnProperty;\n\t  var undefined; // More compressible than void 0.\n\t  var iteratorSymbol = typeof Symbol === \"function\" && Symbol.iterator || \"@@iterator\";\n\t\n\t  var inModule = ( false ? \"undefined\" : _typeof(module)) === \"object\";\n\t  var runtime = global.regeneratorRuntime;\n\t  if (runtime) {\n\t    if (inModule) {\n\t      // If regeneratorRuntime is defined globally and we're in a module,\n\t      // make the exports object identical to regeneratorRuntime.\n\t      module.exports = runtime;\n\t    }\n\t    // Don't bother evaluating the rest of this file if the runtime was\n\t    // already defined globally.\n\t    return;\n\t  }\n\t\n\t  // Define the runtime globally (as expected by generated code) as either\n\t  // module.exports (if we're in a module) or a new, empty object.\n\t  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\t\n\t  function wrap(innerFn, outerFn, self, tryLocsList) {\n\t    // If outerFn provided, then outerFn.prototype instanceof Generator.\n\t    var generator = Object.create((outerFn || Generator).prototype);\n\t    var context = new Context(tryLocsList || []);\n\t\n\t    // The ._invoke method unifies the implementations of the .next,\n\t    // .throw, and .return methods.\n\t    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\t\n\t    return generator;\n\t  }\n\t  runtime.wrap = wrap;\n\t\n\t  // Try/catch helper to minimize deoptimizations. Returns a completion\n\t  // record like context.tryEntries[i].completion. This interface could\n\t  // have been (and was previously) designed to take a closure to be\n\t  // invoked without arguments, but in all the cases we care about we\n\t  // already have an existing method we want to call, so there's no need\n\t  // to create a new function object. We can even get away with assuming\n\t  // the method takes exactly one argument, since that happens to be true\n\t  // in every case, so we don't have to touch the arguments object. The\n\t  // only additional allocation required is the completion record, which\n\t  // has a stable shape and so hopefully should be cheap to allocate.\n\t  function tryCatch(fn, obj, arg) {\n\t    try {\n\t      return { type: \"normal\", arg: fn.call(obj, arg) };\n\t    } catch (err) {\n\t      return { type: \"throw\", arg: err };\n\t    }\n\t  }\n\t\n\t  var GenStateSuspendedStart = \"suspendedStart\";\n\t  var GenStateSuspendedYield = \"suspendedYield\";\n\t  var GenStateExecuting = \"executing\";\n\t  var GenStateCompleted = \"completed\";\n\t\n\t  // Returning this object from the innerFn has the same effect as\n\t  // breaking out of the dispatch switch statement.\n\t  var ContinueSentinel = {};\n\t\n\t  // Dummy constructor functions that we use as the .constructor and\n\t  // .constructor.prototype properties for functions that return Generator\n\t  // objects. For full spec compliance, you may wish to configure your\n\t  // minifier not to mangle the names of these two functions.\n\t  function Generator() {}\n\t  function GeneratorFunction() {}\n\t  function GeneratorFunctionPrototype() {}\n\t\n\t  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n\t  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n\t  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n\t  GeneratorFunction.displayName = \"GeneratorFunction\";\n\t\n\t  // Helper for defining the .next, .throw, and .return methods of the\n\t  // Iterator interface in terms of a single ._invoke method.\n\t  function defineIteratorMethods(prototype) {\n\t    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n\t      prototype[method] = function (arg) {\n\t        return this._invoke(method, arg);\n\t      };\n\t    });\n\t  }\n\t\n\t  runtime.isGeneratorFunction = function (genFun) {\n\t    var ctor = typeof genFun === \"function\" && genFun.constructor;\n\t    return ctor ? ctor === GeneratorFunction ||\n\t    // For the native GeneratorFunction constructor, the best we can\n\t    // do is to check its .name property.\n\t    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n\t  };\n\t\n\t  runtime.mark = function (genFun) {\n\t    if (Object.setPrototypeOf) {\n\t      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n\t    } else {\n\t      genFun.__proto__ = GeneratorFunctionPrototype;\n\t    }\n\t    genFun.prototype = Object.create(Gp);\n\t    return genFun;\n\t  };\n\t\n\t  // Within the body of any async function, `await x` is transformed to\n\t  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n\t  // `value instanceof AwaitArgument` to determine if the yielded value is\n\t  // meant to be awaited. Some may consider the name of this method too\n\t  // cutesy, but they are curmudgeons.\n\t  runtime.awrap = function (arg) {\n\t    return new AwaitArgument(arg);\n\t  };\n\t\n\t  function AwaitArgument(arg) {\n\t    this.arg = arg;\n\t  }\n\t\n\t  function AsyncIterator(generator) {\n\t    // This invoke function is written in a style that assumes some\n\t    // calling function (or Promise) will handle exceptions.\n\t    function invoke(method, arg) {\n\t      var result = generator[method](arg);\n\t      var value = result.value;\n\t      return value instanceof AwaitArgument ? Promise.resolve(value.arg).then(invokeNext, invokeThrow) : Promise.resolve(value).then(function (unwrapped) {\n\t        // When a yielded Promise is resolved, its final value becomes\n\t        // the .value of the Promise<{value,done}> result for the\n\t        // current iteration. If the Promise is rejected, however, the\n\t        // result for this iteration will be rejected with the same\n\t        // reason. Note that rejections of yielded Promises are not\n\t        // thrown back into the generator function, as is the case\n\t        // when an awaited Promise is rejected. This difference in\n\t        // behavior between yield and await is important, because it\n\t        // allows the consumer to decide what to do with the yielded\n\t        // rejection (swallow it and continue, manually .throw it back\n\t        // into the generator, abandon iteration, whatever). With\n\t        // await, by contrast, there is no opportunity to examine the\n\t        // rejection reason outside the generator function, so the\n\t        // only option is to throw it from the await expression, and\n\t        // let the generator function handle the exception.\n\t        result.value = unwrapped;\n\t        return result;\n\t      });\n\t    }\n\t\n\t    if ((typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === \"object\" && process.domain) {\n\t      invoke = process.domain.bind(invoke);\n\t    }\n\t\n\t    var invokeNext = invoke.bind(generator, \"next\");\n\t    var invokeThrow = invoke.bind(generator, \"throw\");\n\t    var invokeReturn = invoke.bind(generator, \"return\");\n\t    var previousPromise;\n\t\n\t    function enqueue(method, arg) {\n\t      function callInvokeWithMethodAndArg() {\n\t        return invoke(method, arg);\n\t      }\n\t\n\t      return previousPromise =\n\t      // If enqueue has been called before, then we want to wait until\n\t      // all previous Promises have been resolved before calling invoke,\n\t      // so that results are always delivered in the correct order. If\n\t      // enqueue has not been called before, then it is important to\n\t      // call invoke immediately, without waiting on a callback to fire,\n\t      // so that the async generator function has the opportunity to do\n\t      // any necessary setup in a predictable way. This predictability\n\t      // is why the Promise constructor synchronously invokes its\n\t      // executor callback, and why async functions synchronously\n\t      // execute code before the first await. Since we implement simple\n\t      // async functions in terms of async generators, it is especially\n\t      // important to get this right, even though it requires care.\n\t      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg,\n\t      // Avoid propagating failures to Promises returned by later\n\t      // invocations of the iterator.\n\t      callInvokeWithMethodAndArg) : new Promise(function (resolve) {\n\t        resolve(callInvokeWithMethodAndArg());\n\t      });\n\t    }\n\t\n\t    // Define the unified helper method that is used to implement .next,\n\t    // .throw, and .return (see defineIteratorMethods).\n\t    this._invoke = enqueue;\n\t  }\n\t\n\t  defineIteratorMethods(AsyncIterator.prototype);\n\t\n\t  // Note that simple async functions are implemented on top of\n\t  // AsyncIterator objects; they just return a Promise for the value of\n\t  // the final result produced by the iterator.\n\t  runtime.async = function (innerFn, outerFn, self, tryLocsList) {\n\t    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n\t\n\t    return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n\t    : iter.next().then(function (result) {\n\t      return result.done ? result.value : iter.next();\n\t    });\n\t  };\n\t\n\t  function makeInvokeMethod(innerFn, self, context) {\n\t    var state = GenStateSuspendedStart;\n\t\n\t    return function invoke(method, arg) {\n\t      if (state === GenStateExecuting) {\n\t        throw new Error(\"Generator is already running\");\n\t      }\n\t\n\t      if (state === GenStateCompleted) {\n\t        if (method === \"throw\") {\n\t          throw arg;\n\t        }\n\t\n\t        // Be forgiving, per 25.3.3.3.3 of the spec:\n\t        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\t        return doneResult();\n\t      }\n\t\n\t      while (true) {\n\t        var delegate = context.delegate;\n\t        if (delegate) {\n\t          if (method === \"return\" || method === \"throw\" && delegate.iterator[method] === undefined) {\n\t            // A return or throw (when the delegate iterator has no throw\n\t            // method) always terminates the yield* loop.\n\t            context.delegate = null;\n\t\n\t            // If the delegate iterator has a return method, give it a\n\t            // chance to clean up.\n\t            var returnMethod = delegate.iterator[\"return\"];\n\t            if (returnMethod) {\n\t              var record = tryCatch(returnMethod, delegate.iterator, arg);\n\t              if (record.type === \"throw\") {\n\t                // If the return method threw an exception, let that\n\t                // exception prevail over the original return or throw.\n\t                method = \"throw\";\n\t                arg = record.arg;\n\t                continue;\n\t              }\n\t            }\n\t\n\t            if (method === \"return\") {\n\t              // Continue with the outer return, now that the delegate\n\t              // iterator has been terminated.\n\t              continue;\n\t            }\n\t          }\n\t\n\t          var record = tryCatch(delegate.iterator[method], delegate.iterator, arg);\n\t\n\t          if (record.type === \"throw\") {\n\t            context.delegate = null;\n\t\n\t            // Like returning generator.throw(uncaught), but without the\n\t            // overhead of an extra function call.\n\t            method = \"throw\";\n\t            arg = record.arg;\n\t            continue;\n\t          }\n\t\n\t          // Delegate generator ran and handled its own exceptions so\n\t          // regardless of what the method was, we continue as if it is\n\t          // \"next\" with an undefined arg.\n\t          method = \"next\";\n\t          arg = undefined;\n\t\n\t          var info = record.arg;\n\t          if (info.done) {\n\t            context[delegate.resultName] = info.value;\n\t            context.next = delegate.nextLoc;\n\t          } else {\n\t            state = GenStateSuspendedYield;\n\t            return info;\n\t          }\n\t\n\t          context.delegate = null;\n\t        }\n\t\n\t        if (method === \"next\") {\n\t          context._sent = arg;\n\t\n\t          if (state === GenStateSuspendedYield) {\n\t            context.sent = arg;\n\t          } else {\n\t            context.sent = undefined;\n\t          }\n\t        } else if (method === \"throw\") {\n\t          if (state === GenStateSuspendedStart) {\n\t            state = GenStateCompleted;\n\t            throw arg;\n\t          }\n\t\n\t          if (context.dispatchException(arg)) {\n\t            // If the dispatched exception was caught by a catch block,\n\t            // then let that catch block handle the exception normally.\n\t            method = \"next\";\n\t            arg = undefined;\n\t          }\n\t        } else if (method === \"return\") {\n\t          context.abrupt(\"return\", arg);\n\t        }\n\t\n\t        state = GenStateExecuting;\n\t\n\t        var record = tryCatch(innerFn, self, context);\n\t        if (record.type === \"normal\") {\n\t          // If an exception is thrown from innerFn, we leave state ===\n\t          // GenStateExecuting and loop back for another invocation.\n\t          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\t\n\t          var info = {\n\t            value: record.arg,\n\t            done: context.done\n\t          };\n\t\n\t          if (record.arg === ContinueSentinel) {\n\t            if (context.delegate && method === \"next\") {\n\t              // Deliberately forget the last sent value so that we don't\n\t              // accidentally pass it on to the delegate.\n\t              arg = undefined;\n\t            }\n\t          } else {\n\t            return info;\n\t          }\n\t        } else if (record.type === \"throw\") {\n\t          state = GenStateCompleted;\n\t          // Dispatch the exception by looping back around to the\n\t          // context.dispatchException(arg) call above.\n\t          method = \"throw\";\n\t          arg = record.arg;\n\t        }\n\t      }\n\t    };\n\t  }\n\t\n\t  // Define Generator.prototype.{next,throw,return} in terms of the\n\t  // unified ._invoke helper method.\n\t  defineIteratorMethods(Gp);\n\t\n\t  Gp[iteratorSymbol] = function () {\n\t    return this;\n\t  };\n\t\n\t  Gp.toString = function () {\n\t    return \"[object Generator]\";\n\t  };\n\t\n\t  function pushTryEntry(locs) {\n\t    var entry = { tryLoc: locs[0] };\n\t\n\t    if (1 in locs) {\n\t      entry.catchLoc = locs[1];\n\t    }\n\t\n\t    if (2 in locs) {\n\t      entry.finallyLoc = locs[2];\n\t      entry.afterLoc = locs[3];\n\t    }\n\t\n\t    this.tryEntries.push(entry);\n\t  }\n\t\n\t  function resetTryEntry(entry) {\n\t    var record = entry.completion || {};\n\t    record.type = \"normal\";\n\t    delete record.arg;\n\t    entry.completion = record;\n\t  }\n\t\n\t  function Context(tryLocsList) {\n\t    // The root entry object (effectively a try statement without a catch\n\t    // or a finally block) gives us a place to store values thrown from\n\t    // locations where there is no enclosing try statement.\n\t    this.tryEntries = [{ tryLoc: \"root\" }];\n\t    tryLocsList.forEach(pushTryEntry, this);\n\t    this.reset(true);\n\t  }\n\t\n\t  runtime.keys = function (object) {\n\t    var keys = [];\n\t    for (var key in object) {\n\t      keys.push(key);\n\t    }\n\t    keys.reverse();\n\t\n\t    // Rather than returning an object with a next method, we keep\n\t    // things simple and return the next function itself.\n\t    return function next() {\n\t      while (keys.length) {\n\t        var key = keys.pop();\n\t        if (key in object) {\n\t          next.value = key;\n\t          next.done = false;\n\t          return next;\n\t        }\n\t      }\n\t\n\t      // To avoid creating an additional object, we just hang the .value\n\t      // and .done properties off the next function object itself. This\n\t      // also ensures that the minifier will not anonymize the function.\n\t      next.done = true;\n\t      return next;\n\t    };\n\t  };\n\t\n\t  function values(iterable) {\n\t    if (iterable) {\n\t      var iteratorMethod = iterable[iteratorSymbol];\n\t      if (iteratorMethod) {\n\t        return iteratorMethod.call(iterable);\n\t      }\n\t\n\t      if (typeof iterable.next === \"function\") {\n\t        return iterable;\n\t      }\n\t\n\t      if (!isNaN(iterable.length)) {\n\t        var i = -1,\n\t            next = function next() {\n\t          while (++i < iterable.length) {\n\t            if (hasOwn.call(iterable, i)) {\n\t              next.value = iterable[i];\n\t              next.done = false;\n\t              return next;\n\t            }\n\t          }\n\t\n\t          next.value = undefined;\n\t          next.done = true;\n\t\n\t          return next;\n\t        };\n\t\n\t        return next.next = next;\n\t      }\n\t    }\n\t\n\t    // Return an iterator with no values.\n\t    return { next: doneResult };\n\t  }\n\t  runtime.values = values;\n\t\n\t  function doneResult() {\n\t    return { value: undefined, done: true };\n\t  }\n\t\n\t  Context.prototype = {\n\t    constructor: Context,\n\t\n\t    reset: function reset(skipTempReset) {\n\t      this.prev = 0;\n\t      this.next = 0;\n\t      this.sent = undefined;\n\t      this.done = false;\n\t      this.delegate = null;\n\t\n\t      this.tryEntries.forEach(resetTryEntry);\n\t\n\t      if (!skipTempReset) {\n\t        for (var name in this) {\n\t          // Not sure about the optimal order of these conditions:\n\t          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n\t            this[name] = undefined;\n\t          }\n\t        }\n\t      }\n\t    },\n\t\n\t    stop: function stop() {\n\t      this.done = true;\n\t\n\t      var rootEntry = this.tryEntries[0];\n\t      var rootRecord = rootEntry.completion;\n\t      if (rootRecord.type === \"throw\") {\n\t        throw rootRecord.arg;\n\t      }\n\t\n\t      return this.rval;\n\t    },\n\t\n\t    dispatchException: function dispatchException(exception) {\n\t      if (this.done) {\n\t        throw exception;\n\t      }\n\t\n\t      var context = this;\n\t      function handle(loc, caught) {\n\t        record.type = \"throw\";\n\t        record.arg = exception;\n\t        context.next = loc;\n\t        return !!caught;\n\t      }\n\t\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        var record = entry.completion;\n\t\n\t        if (entry.tryLoc === \"root\") {\n\t          // Exception thrown outside of any try block that could handle\n\t          // it, so set the completion value of the entire function to\n\t          // throw the exception.\n\t          return handle(\"end\");\n\t        }\n\t\n\t        if (entry.tryLoc <= this.prev) {\n\t          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n\t          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\t\n\t          if (hasCatch && hasFinally) {\n\t            if (this.prev < entry.catchLoc) {\n\t              return handle(entry.catchLoc, true);\n\t            } else if (this.prev < entry.finallyLoc) {\n\t              return handle(entry.finallyLoc);\n\t            }\n\t          } else if (hasCatch) {\n\t            if (this.prev < entry.catchLoc) {\n\t              return handle(entry.catchLoc, true);\n\t            }\n\t          } else if (hasFinally) {\n\t            if (this.prev < entry.finallyLoc) {\n\t              return handle(entry.finallyLoc);\n\t            }\n\t          } else {\n\t            throw new Error(\"try statement without catch or finally\");\n\t          }\n\t        }\n\t      }\n\t    },\n\t\n\t    abrupt: function abrupt(type, arg) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n\t          var finallyEntry = entry;\n\t          break;\n\t        }\n\t      }\n\t\n\t      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n\t        // Ignore the finally entry if control is not jumping to a\n\t        // location outside the try/catch block.\n\t        finallyEntry = null;\n\t      }\n\t\n\t      var record = finallyEntry ? finallyEntry.completion : {};\n\t      record.type = type;\n\t      record.arg = arg;\n\t\n\t      if (finallyEntry) {\n\t        this.next = finallyEntry.finallyLoc;\n\t      } else {\n\t        this.complete(record);\n\t      }\n\t\n\t      return ContinueSentinel;\n\t    },\n\t\n\t    complete: function complete(record, afterLoc) {\n\t      if (record.type === \"throw\") {\n\t        throw record.arg;\n\t      }\n\t\n\t      if (record.type === \"break\" || record.type === \"continue\") {\n\t        this.next = record.arg;\n\t      } else if (record.type === \"return\") {\n\t        this.rval = record.arg;\n\t        this.next = \"end\";\n\t      } else if (record.type === \"normal\" && afterLoc) {\n\t        this.next = afterLoc;\n\t      }\n\t    },\n\t\n\t    finish: function finish(finallyLoc) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.finallyLoc === finallyLoc) {\n\t          this.complete(entry.completion, entry.afterLoc);\n\t          resetTryEntry(entry);\n\t          return ContinueSentinel;\n\t        }\n\t      }\n\t    },\n\t\n\t    \"catch\": function _catch(tryLoc) {\n\t      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n\t        var entry = this.tryEntries[i];\n\t        if (entry.tryLoc === tryLoc) {\n\t          var record = entry.completion;\n\t          if (record.type === \"throw\") {\n\t            var thrown = record.arg;\n\t            resetTryEntry(entry);\n\t          }\n\t          return thrown;\n\t        }\n\t      }\n\t\n\t      // The context.catch method must only be called with a location\n\t      // argument that corresponds to a known catch block.\n\t      throw new Error(\"illegal catch attempt\");\n\t    },\n\t\n\t    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n\t      this.delegate = {\n\t        iterator: values(iterable),\n\t        resultName: resultName,\n\t        nextLoc: nextLoc\n\t      };\n\t\n\t      return ContinueSentinel;\n\t    }\n\t  };\n\t}(\n\t// Among the various tricks for obtaining a reference to the global\n\t// object, this seems to be the most reliable technique that does not\n\t// use indirect eval (which violates Content Security Policy).\n\t(typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) === \"object\" ? global : (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" ? window : (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) === \"object\" ? self : undefined);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(237)(module), __webpack_require__(229)))\n\n/***/ },\n/* 228 */,\n/* 229 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\t(function () {\n\t    try {\n\t        cachedSetTimeout = setTimeout;\n\t    } catch (e) {\n\t        cachedSetTimeout = function cachedSetTimeout() {\n\t            throw new Error('setTimeout is not defined');\n\t        };\n\t    }\n\t    try {\n\t        cachedClearTimeout = clearTimeout;\n\t    } catch (e) {\n\t        cachedClearTimeout = function cachedClearTimeout() {\n\t            throw new Error('clearTimeout is not defined');\n\t        };\n\t    }\n\t})();\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = cachedSetTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while (len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    cachedClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        cachedSetTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () {\n\t    return '/';\n\t};\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function () {\n\t    return 0;\n\t};\n\n/***/ },\n/* 230 */,\n/* 231 */,\n/* 232 */,\n/* 233 */,\n/* 234 */,\n/* 235 */,\n/* 236 */,\n/* 237 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (module) {\n\t\tif (!module.webpackPolyfill) {\n\t\t\tmodule.deprecate = function () {};\n\t\t\tmodule.paths = [];\n\t\t\t// module.parent = undefined by default\n\t\t\tmodule.children = [];\n\t\t\tmodule.webpackPolyfill = 1;\n\t\t}\n\t\treturn module;\n\t};\n\n/***/ },\n/* 238 */,\n/* 239 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<ul class=mc-panelbar> <li class=\\\"mc-panel mc-panel-mapview\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-mapview\\\"></span> <span class=mc-panel-name data-phrase=\\\"Map View\\\">Map View</span> <ul class=mc-panelbar> <li class=\\\"mc-panel mc-panel-viewbehavior k-state-active\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-viewbehavior\\\"></span> <span class=mc-panel-name data-phrase=\\\"View Behavior\\\">View Behavior</span> <div class=mc-panel-body> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=auto-refresh /> <span class=checkbox-name data-phrase=\\\"Auto Refresh\\\">Auto Refresh</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=auto-focus /> <span class=checkbox-name data-phrase=\\\"Auto Focus\\\">Auto Focus</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=auto-labeling /> <span class=checkbox-name data-phrase=\\\"Auto Labeling\\\">Auto Labeling</span> </label> </div> <div class=text-right> <button class=k-button name=save-viewport data-phrase=\\\"Save View\\\">Save View</button> <button class=k-button name=restore-viewport data-phrase=\\\"Restore View\\\">Restore View</button> </div> </div> </li> <li class=\\\"mc-panel mc-panel-viewarea\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-viewarea\\\"></span> <span class=mc-panel-name data-phrase=\\\"Map Area\\\">Map Area</span> <div class=mc-panel-body> <div class=mc-control-group> <label><span data-phrase=Scale>Scale</span>:</label> <select name=zoom-to-scale> <option value=-1 data-phrase=\\\"Choose zoom scale\\\">Choose zoom scale</option> <option value=50000>1 : 50000</option> <option value=100000>1 : 100000</option> <option value=500000>1 : 500000</option> <option value=1000000>1 : 1000000</option> <option value=1000000000 data-phrase=World>World</option> </select> </div> <div class=mc-control-group> <label><span data-phrase=\\\"Zoom level\\\">Zoom level</span>:</label> <select name=zoom-to-level> <option value=-1 data-phrase=\\\"Choose zoom level\\\">Choose zoom level</option> <option value=18 data-phrase=Street>Street</option> <option value=14 data-phrase=Town>Town</option> <option value=8 data-phrase=Region>Region</option> <option value=4 data-phrase=Country>Country</option> <option value=2 data-phrase=Continent>Continent</option> <option value=1 data-phrase=World>World</option> </select> </div> <div class=\\\"mc-control-group hidden\\\"> <form> <fieldset disabled=disabled> <div class=\\\"form-group form-group-sm\\\"> <label><span data-phrase=Region>Region</span>:</label> <select name=zoom-to-region> <option value=-1:-1:-1 data-phrase=\\\"Choose zoom region\\\">Choose zoom region</option> <option value=-180,-90,180,90 data-phrase=World>World</option> <option value=-40.96,-34.16,79.63,39.23 data-phrase=Africa>Africa</option> <option value=43.12,-14.86,163.70,53.80 data-phrase=Asia>Asia</option> <option value=-45.97,25.48,74.62,71.97 data-phrase=Europe>Europe</option> <option value=-172.00,12.73,-51.42,67.27 data-phrase=\\\"North America\\\">North America</option> <option value=-121.90,-52.27,-1.32,17.31 data-phrase=\\\"South America\\\">South America</option> <option value=97.646,-53.12,218.23,15.96 data-phrase=Oceania>Oceania</option> </select> </div> <button type=button class=k-button name=save-region data-phrase=\\\"Save Region\\\">Save Region</button> </fieldset> </form> </div> </div> </li> </ul> </li> <li class=\\\"mc-panel mc-panel-intervals\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-intervals\\\"></span> <span class=mc-panel-name data-phrase=Intervals>Intervals</span> <div class=mc-panel-body> <form> <fieldset> <div class=\\\"form-group radio\\\"> <label> <input type=radio name=history-mode value=CURRENT checked=checked /> <span class=radio-name data-phrase=\\\"All (Latest)\\\">All (Latest)</span> </label> </div> <div class=\\\"form-group radio\\\"> <label> <input type=radio name=history-mode value=INTERVAL /> <span class=radio-name data-phrase=Interval>Interval</span> </label> </div> <div class=mc-control-group> <div class=\\\"panel panel-default\\\"> <div class=panel-heading data-phrase=\\\"Interval selection\\\"> Interval selection </div> <fieldset class=panel-fieldset name=interval-selection disabled=disabled> <div class=\\\"form-group form-group-sm\\\"> <label><span data-phrase=Presets>Presets</span>:</label> <select name=preset-intervals> <option value=- data-phrase=\\\"Choose interval\\\">Choose interval</option> <option value=TODAY data-phrase=Today>Today</option> <option value=YESTERDAY data-phrase=Yesterday>Yesterday</option> <option value=LAST_24H data-phrase=\\\"Last 24 Hours\\\" selected=selected>Last 24 Hours</option> <option value=LAST_48H data-phrase=\\\"Last 48 Hours\\\">Last 48 Hours</option> </select> </div> <div class=\\\"form-group form-group-sm\\\"> <label><span data-phrase=From>From</span>:</label> <input class=datetime-picker name=datetime-from value=\\\"1970-01-01 00:00 AM\\\"/> </div> <div class=\\\"form-group form-group-sm\\\"> <label><span data-phrase=To>To</span>:</label> <input class=datetime-picker name=datetime-to value=\\\"1970-01-01 01:00 AM\\\"/> </div> </fieldset> </div> </div> <div class=text-right> <button type=button class=k-button name=fetch-positions title=\\\"Shows the positions for the selected time\\\" data-toggle=tooltip data-phrase=\\\"Fetch Positions\\\"> Fetch Positions </button> </div> </fieldset> </form> </div> </li> <li class=\\\"mc-panel mc-panel-navigation k-state-active\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-navigation\\\"></span> <span class=mc-panel-name data-phrase=Navigation>Navigation</span> <span class=\\\"badge position-count\\\">0</span> <div class=mc-panel-body> <div class=\\\"mc-control-group scrollable\\\"> <div class=\\\"list-group position-list\\\"></div> </div> <div class=\\\"mc-control-group scrollable scrollable-sm hidden\\\"> <div class=\\\"object-tree position-tree\\\">Positions Tree</div> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=positions-visibility /> <span class=checkbox-name data-phrase=\\\"Show/Hide all\\\">Show/Hide all</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=asset-labels /> <span class=checkbox-name data-phrase=\\\"Show Asset Labels\\\">Show Asset Labels</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=use-clusters disabled=disabled /> <span class=checkbox-name data-phrase=\\\"Use Clusters\\\">Use Clusters</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=positions-connector disabled=disabled /> <span class=checkbox-name data-phrase=\\\"Connect History Positions\\\">Connect History Positions</span> </label> </div> <div class=mc-control-group> <label class=\\\"status-filters-container hidden\\\"> <span class=status-filters-name data-phrase=\\\"Asset status filters\\\">Asset status filters</span>: <select multiple=multiple name=status-filters data-placeholder=\\\"Select filters...\\\"> </select> </label> </div> <div class=text-right> <button class=k-button name=animation data-phrase=\\\"Activate Animation Panel\\\" disabled=disabled> Activate Animation Panel </button> </div> </div> </li> <li class=\\\"mc-panel mc-panel-animation hidden\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-animation\\\"></span> <span class=mc-panel-name data-phrase=Animation>Animation</span> <div class=mc-panel-body> <div class=mc-control-group> <span class=\\\"label label-primary animation-label\\\"> <span class=step-current>${stepCurrent}</span> / <span class=step-max>${stepMax}</span> </span> </div> <div class=\\\"mc-control-group text-center\\\"> <span class=animation-info> <span class=event-time>${eventTime}</span> <span class=event-name>${eventName}</span> </span> </div> <div class=\\\"mc-control-group text-center\\\"> <button class=\\\"btn btn-warning btn-xs btn-animation\\\" name=animation-pause> <span class=\\\"glyphicon glyphicon-pause\\\"></span> </button> <button class=\\\"btn btn-danger btn-xs btn-animation\\\" name=animation-stop> <span class=\\\"glyphicon glyphicon-stop\\\"></span> </button> <button class=\\\"btn btn-success btn-xs btn-animation\\\" name=animation-play> <span class=\\\"glyphicon glyphicon-play\\\"></span> </button> </div> <div class=\\\"mc-control-group text-center animation-slider-container\\\"> <input name=animation-slider /> </div> <div class=mc-control-group> <label><span data-phrase=\\\"Animation Speed\\\">Animation Speed</span>:</label> <select name=animation-speed> <option value=1 data-phrase=Slow>Slow</option> <option value=0.5 data-phrase=Medium selected=selected>Medium</option> <option value=0.2 data-phrase=Fast>Fast</option> </select> </div> <div class=mc-control-group> <label><span data-phrase=\\\"Trail Length\\\">Trail Length</span>:</label> <select name=trail-length> <option value=1>1</option> <option value=3 selected=selected>3</option> <option value=5>5</option> <option value=7>7</option> <option value=11>11</option> </select> </div> </div> </li> <li class=\\\"mc-panel mc-panel-locations\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-locations\\\"></span> <span class=mc-panel-name data-phrase=Locations>Locations</span> <span class=\\\"badge location-count\\\">0</span> <div class=mc-panel-body> <div class=\\\"mc-control-group scrollable scrollable-sm\\\"> <div class=\\\"object-tree location-tree\\\">Locations Tree</div> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox class=toggle-labels name=location-labels /> <span class=checkbox-name data-phrase=\\\"Show Location Labels\\\">Show Location Labels</span> </label> </div> <div class=mc-control-group> <div class=\\\"text-right editmode-activator\\\"> <button type=button class=k-button name=location-editmode-activator data-phrase=\\\"Create Location\\\"> Create Location </button> </div> <div class=\\\"panel panel-default object-editor location-editor hidden\\\" data-objecttype=location> <div class=\\\"panel-heading form-name\\\" data-phrase=\\\"Create Location\\\"> Create Location </div> <form> <fieldset class=\\\"panel-fieldset editor-fieldset\\\" disabled=disabled> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Coordinates>Coordinates</label> <input type=text class=\\\"form-control editableobject-coordinates\\\" name=location-coordinates placeholder=\\\"Enter (latitude, longitude)\\\" title=\\\"Or click any position on the map.\\\" data-toggle=tooltip data-placement=bottom /> <span class=\\\"help-block hidden\\\">Or click any position on the map.</span> <div class=\\\"alert alert-danger invalid-block invalid-coordinates hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Latitude must be in the range of -90 to +90, and longitude must be in the range of -180 to 180.</span> </div> </div> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Name>Name</label> <input type=text class=\\\"form-control editableobject-objectname\\\" name=location-objectname placeholder=\\\"Enter name\\\"/> <div class=\\\"alert alert-danger invalid-block invalid-objectname hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Object name must have at least 3 characters.</span> </div> </div> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Config>Config</label> <select class=editableobject-configname name=location-configname></select> </div> <div class=text-right> <button type=button class=\\\"k-button cancel-object-creation\\\" name=cancel-location-creation data-phrase=Cancel disabled=disabled> Cancel </button> <button type=button class=\\\"k-button confirm-object-creation\\\" name=confirm-location-creation data-phrase=\\\"Create location\\\" disabled=disabled> Create location </button> </div> </fieldset> </form> </div> </div> </div> </li> <li class=\\\"mc-panel mc-panel-geofences\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-geofences\\\"></span> <span class=mc-panel-name data-phrase=Geofences>Geofences</span> <span class=\\\"badge geofence-count\\\">0</span> <div class=mc-panel-body> <div class=\\\"mc-control-group scrollable scrollable-sm\\\"> <div class=\\\"object-tree geofence-tree\\\">Geofences Tree</div> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox class=toggle-labels name=geofence-labels /> <span class=checkbox-name data-phrase=\\\"Show Geofence Labels\\\">Show Geofence Labels</span> </label> </div> <div class=mc-control-group> <div class=\\\"text-right editmode-activator\\\"> <button type=button class=k-button name=geofence-editmode-activator data-phrase=\\\"Create Geofence\\\"> Create Geofence </button> </div> <div class=\\\"panel panel-default object-editor geofence-editor hidden\\\" data-objecttype=geofence> <div class=\\\"panel-heading form-name\\\" data-phrase=\\\"Create Geofence\\\"> Create Geofence </div> <form> <fieldset class=\\\"panel-fieldset editor-fieldset\\\" disabled=disabled> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Shape>Shape</label> <div class=btn-group> <button type=button class=\\\"btn btn-default editableobject-shapetype active\\\" name=geofence-shapetype title=Polygon data-shapetype=POLYGON> <span class=\\\"glyphicon glyphicon-tent\\\" title=Polygon data-toggle=tooltip data-placement=top></span> <span class=hidden data-phrase=Polygon>Polygon</span> </button> <button type=button class=\\\"btn btn-default editableobject-shapetype\\\" name=geofence-shapetype title=Rectangle data-shapetype=RECTANGLE> <span class=\\\"glyphicon glyphicon-unchecked\\\" title=Rectangle data-toggle=tooltip data-placement=top></span> <span class=hidden data-phrase=Rectangle>Rectangle</span> </button> <button type=button class=\\\"btn btn-default editableobject-shapetype\\\" name=geofence-shapetype title=Circle data-shapetype=CIRCLE> <span class=\\\"glyphicon glyphicon-cd\\\" title=Circle data-toggle=tooltip data-placement=top></span> <span class=hidden data-phrase=Circle>Circle</span> </button> <button type=button class=\\\"btn btn-default editableobject-shapetype\\\" name=geofence-shapetype title=Pass data-shapetype=PASS> <span class=\\\"glyphicon glyphicon-road\\\" title=Pass data-toggle=tooltip data-placement=top></span> <span class=hidden data-phrase=Pass>Pass</span> </button> </div> <div class=\\\"editableobject-coordinates geofence-coordinates\\\"></div> <div class=\\\"alert alert-danger invalid-block invalid-coordinates hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>${shapeType} needs at least ${pointCount}.</span> </div> </div> <fieldset class=shapeparameter-fieldset> <div class=\\\"form-group form-group-sm hidden\\\" data-shapetype=CIRCLE> <label class=control-label data-phrase=Radius>Radius</label> <input type=text class=\\\"form-control editableobject-bufferdistance\\\" name=geofence-bufferdistance value=10000 placeholder=\\\"Enter radius\\\"/> <div class=\\\"alert alert-danger invalid-block invalid-bufferdistance hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Radius must be > 10.</span> </div> </div> <div class=\\\"form-group form-group-sm hidden\\\" data-shapetype=PASS> <label class=control-label data-phrase=Width>Width</label> <input type=text class=\\\"form-control editableobject-bufferdistance\\\" name=geofence-bufferdistance value=100 placeholder=\\\"Enter width\\\"/> <div class=\\\"alert alert-danger invalid-block invalid-bufferdistance hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Pass distance must be > 10.</span> </div> </div> </fieldset> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Name>Name</label> <input type=text class=\\\"form-control editableobject-objectname\\\" name=geofence-objectname placeholder=\\\"Enter name\\\"/> <div class=\\\"alert alert-danger invalid-block invalid-objectname hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Object name must have at least 3 characters.</span> </div> </div> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Config>Config</label> <select class=editableobject-configname name=geofence-configname> <option value=\\\"Exclusive Security\\\" selected=selected>Exclusive Security</option> <option value=\\\"Inclusive Security\\\">Inclusive Security</option> <option value=Waypoint>Waypoint</option> </select> </div> <div class=text-right> <button type=button class=\\\"k-button cancel-object-creation\\\" name=cancel-geofence-creation data-phrase=Cancel disabled=disabled> Cancel </button> <button type=button class=\\\"k-button confirm-object-creation\\\" name=confirm-geofence-creation data-phrase=\\\"Create geofence\\\" disabled=disabled> Create geofence </button> </div> </fieldset> </form> </div> </div> </div> </li> </ul>\";\n\n/***/ },\n/* 240 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=container> <div class=\\\"row mp-top-15\\\"> <img class=mp-logo /> <span class=\\\"lead mp-directions hidden\\\"> ${directions.startingPoint} to ${directions.destination} </span> </div> <div class=\\\"row mp-top-15\\\"> <div class=mp-screenshot> </div> </div> <div class=\\\"row mp-top-15\\\"> <div class=\\\"col-sm-6 mp-directions hidden\\\"> <div class=\\\"row mp-top-15\\\"> <h4>${directions.startingPoint}</h4> </div> <div class=\\\"row mp-top-15\\\"> <div class=\\\"col-sm-12 maneuver-list\\\"> <% _.forEach(directions.maneuvers, function (maneuver, i) { %> <div class=\\\"row mp-maneuver\\\"> <div class=col-sm-12> <img class=mp-maneuver-icon data-iconpath=images/maps/icons/maneuver/${maneuver.baseCssAction}/${maneuver.action}.png /> ${i + 1}. ${maneuver.instruction} </div> </div> <% }); %> </div> </div> <div class=\\\"row mp-top-15\\\"> <h4>${directions.destination}</h4> </div> </div> </div> </div>\";\n\n/***/ },\n/* 241 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<li class=\\\"mc-panel mc-panel-routing\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-routing\\\"></span> <span class=mc-panel-name data-phrase=Routing>Routing</span> <div class=mc-panel-body> <div class=mc-control-group> <ul class=waypoint-list> </ul> </div> <button class=\\\"btn btn-link\\\" name=add-waypoint> <span class=\\\"glyphicon glyphicon-plus\\\"></span> <span data-phrase=\\\"add stop-over\\\">add stop-over</span> </button> <div class=mc-control-group> <div class=\\\"panel panel-default route-features\\\"> <div class=panel-heading> <span data-phrase=\\\"Include route features\\\">Include route features</span>: </div> <div class=\\\"row route-features-body\\\"> <div class=\\\"col-sm-6 col-route-features\\\"> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-tollroads data-featurename=tollroad checked=checked /> <span class=checkbox-name data-phrase=\\\"Toll roads\\\">Toll roads</span> </label> </div> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-motorways data-featurename=motorway checked=checked /> <span class=checkbox-name data-phrase=Highways>Highways</span> </label> </div> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-ferries data-featurename=boatFerry checked=checked /> <span class=checkbox-name data-phrase=Ferries>Ferries</span> </label> </div> </div> <div class=\\\"col-sm-6 col-route-features\\\"> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-tunnels data-featurename=tunnel checked=checked /> <span class=checkbox-name data-phrase=Tunnels>Tunnels</span> </label> </div> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-dirtroads data-featurename=dirtRoad checked=checked /> <span class=checkbox-name data-phrase=\\\"Dirt roads\\\">Dirt roads</span> </label> </div> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-parks data-featurename=park checked=checked /> <span class=checkbox-name data-phrase=Parks>Parks</span> </label> </div> </div> </div> </div> </div> <div class=mc-control-group> <div class=\\\"panel panel-default route-summary hidden\\\"> <div class=panel-heading data-phrase=\\\"Route Summary\\\">Route Summary</div> <div class=route-summary-text>-</div> </div> </div> <div class=mc-control-group> <div class=\\\"panel panel-default route-directions hidden\\\"> <div class=panel-heading> <span data-phrase=Directions>Directions</span> <span class=\\\"glyphicon glyphicon-print pull-right print-route\\\"></span> </div> <div class=scrollable> <ul class=\\\"list-group maneuver-list\\\"> </ul> </div> </div> </div> <div class=text-right> <button class=k-button name=save-route disabled=disabled>Save Route</button> </div> </div> </li>\";\n\n/***/ },\n/* 242 */,\n/* 243 */,\n/* 244 */,\n/* 245 */,\n/* 246 */,\n/* 247 */,\n/* 248 */,\n/* 249 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1560 1560\\\" width=\\\"18\\\" height=\\\"18\\\">\\r\\n    <g transform=\\\"rotate(${rotation} 780 780)\\\">\\r\\n        <circle fill=\\\"${backgroundColor}\\\" stroke=\\\"none\\\" cx=\\\"780\\\" cy=\\\"780\\\" r=\\\"770\\\"/>\\r\\n        <path fill=\\\"${color}\\\" stroke=\\\"none\\\" d=\\\"m840,1292l-128,0q-26,0 -45,-19q-19,-19 -19,-45l0,-502l-189,189q-19,19 -45,19q-26,0 -45,-19l-91,-91q-18,-18 -18,-45q0,-27 18,-45l362,-362l91,-91q18,-18 45,-18q27,0 45,18l91,91l362,362q18,18 18,45q0,27 -18,45l-91,91q-18,18 -45,18q-27,0 -45,-18l-189,-189l0,502q0,26 -19,45q-19,19 -45,19z\\\"/>\\r\\n    </g>\\r\\n</svg>\\r\\n\"\n\n/***/ },\n/* 250 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1560 1560\\\" width=\\\"18\\\" height=\\\"18\\\">\\r\\n    <circle fill=\\\"${backgroundColor}\\\" stroke=\\\"none\\\" cx=\\\"780\\\" cy=\\\"780\\\" r=\\\"770\\\"/>\\r\\n</svg>\\r\\n\"\n\n/***/ },\n/* 251 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1560 1560\\\" width=\\\"18\\\" height=\\\"18\\\">\\r\\n    <g>\\r\\n        <circle fill=\\\"${backgroundColor}\\\" stroke=\\\"none\\\" cx=\\\"780\\\" cy=\\\"780\\\" r=\\\"770\\\"/>\\r\\n        <path fill=\\\"${color}\\\" stroke=\\\"none\\\" d=\\\"m700,210l-380,600h380l-300,600l750,-750h-380l460,-450z\\\"/>\\r\\n    </g>\\r\\n</svg>\\r\\n\"\n\n/***/ },\n/* 252 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1560 1560\\\" width=\\\"18\\\" height=\\\"18\\\">\\r\\n    <g>\\r\\n        <circle fill=\\\"${backgroundColor}\\\" stroke=\\\"none\\\" cx=\\\"780\\\" cy=\\\"780\\\" r=\\\"770\\\"/>\\r\\n        <g style=\\\"fill: ${color}; stroke: none;\\\">\\r\\n            <circle r=\\\"80\\\" cy=\\\"780\\\" cx=\\\"780\\\"/>\\r\\n            <path d=\\\"m715.0296,176.51082c-82.49176,12.40086 -143.95697,31.27121 -204.8822,61.46432c-122.92953,62.00426 -225.90973,170.37581 -280.36548,295.4615c-33.96735,77.1004 -35.04546,71.16992 17.2532,71.16992l45.2901,0l15.0961,-35.58539c98.12784,-224.83075 342.36975,-348.29933 584.99268,-296.00058c136.4068,29.65402 263.64777,122.9295 336.43732,248.55429c2.1582,3.77423 -38.81689,22.64551 -90.58179,43.133c-51.7561,20.4884 -94.35181,38.28064 -94.35181,39.89868l339.13635,172.53204c22.10815,-82.49176 85.72864,-342.3689 85.19141,-342.90793c-0.54626,-0.53906 -33.98181,11.86093 -73.87317,28.03598c-39.8916,16.17523 -74.93896,29.11505 -78.17126,29.11505c-2.70422,0 -12.40186,-11.86182 -20.49646,-26.95795c-8.08594,-14.55792 -28.57349,-43.13297 -44.74487,-63.08234c-97.59326,-119.69431 -232.38281,-197.87277 -379.57318,-219.97833c-46.90723,-7.54849 -123.46857,-9.70471 -156.35693,-4.85236l0,0l0,0l0,0l0,0l0,0l0,0l0,0.00002l0,0.00003l0,0.00003z\\\"/>\\r\\n            <path d=\\\"m91.21716,1120.04187c0.53914,0.54626 33.96727,-11.85559 73.86536,-28.03601c39.89771,-16.17139 74.94406,-29.11047 78.17836,-29.11047c2.69615,0 11.8618,11.8645 19.94936,25.87793c32.35019,57.69275 102.4411,132.09436 173.61102,183.85925c40.43686,29.64783 129.39902,71.7063 181.15866,86.26611c288.992,78.71741 593.61652,-65.77856 711.69733,-338.06079c33.96362,-77.09772 35.04736,-71.16724 -17.25488,-71.16724l-45.29126,0l-15.09692,35.5827c-118.07178,270.66156 -441.03387,386.04706 -706.30231,251.79474c-84.1098,-42.5957 -153.66165,-106.76245 -208.11655,-193.56555l-10.78369,-16.70801l94.35358,-37.2052c51.75961,-20.4884 94.35355,-38.28064 94.35355,-39.89868l-339.13359,-172.53204l-85.188,342.90326z\\\"/>\\r\\n        </g>\\r\\n    </g>\\r\\n</svg>\\r\\n\"\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** maps.bundle.js\n **/"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonprequire\"];\n \twindow[\"webpackJsonprequire\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t0:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + ({\"1\":\"heremaps\",\"2\":\"googlemaps\"}[chunkId]||chunkId) + \".chunk.js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5806d2067a6084641c5c\n **/","/**\r\n * Created by glenn on 05/01/16.\r\n */\r\n\r\n/**\r\n * Babel polyfill (adds Promise, Object.values() etc. if not supported (yet)).\r\n * @see https://babeljs.io/docs/usage/polyfill/\r\n */\r\nimport 'babel-polyfill';\r\n\r\n/**\r\n * Set `__webpack_public_path__` on our entry point.\r\n * @see http://webpack.github.io/docs/configuration.html#output-publicpath\r\n */\r\nconst scripts           = document.getElementsByTagName('script');\r\nconst src               = _.last(_.toArray(scripts)).getAttribute('src');\r\n__webpack_public_path__ = src.substr(0, src.lastIndexOf('/') + 1);\r\n\r\n/**\r\n * The entry point of the maps module, expose the `require` function.\r\n * @see http://webpack.github.io/docs/webpack-for-browserify-users.html#external-requires\r\n */\r\nmodule.exports = ((parentRequire) => (module) => {\r\n  const requireActions = {\r\n    'maps-initializer' : () => require('initializer').default,\r\n    'maps-debugger'    : () => require('debugger').default,\r\n    'heremaps-static'  : () => require('heremaps/static-map').default,\r\n    'googlemaps-static': () => require('googlemaps/static-map').default,\r\n    'es6-playground'   : () => require('es6.playground').default,\r\n  };\r\n\r\n  const requireAction = requireActions[module];\r\n\r\n  if (!_.isFunction(requireAction)) {\r\n    return parentRequire(module);\r\n  }\r\n\r\n  return requireAction();\r\n})(_.isFunction(__non_webpack_require__) ?\r\n   __non_webpack_require__ : (module) => {\r\n  throw new Error(`Module ${module} not found`);\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/index.js\n **/","var global    = require('./$.global')\n  , core      = require('./$.core')\n  , hide      = require('./$.hide')\n  , redefine  = require('./$.redefine')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE] || (exports[PROTOTYPE] = {})\n    , key, own, out, exp;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if(target && !own)redefine(target, key, out);\n    // export\n    if(exports[key] != out)hide(exports, key, exp);\n    if(IS_PROTO && expProto[key] != out)expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.export.js\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.js\n **/","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.is-object.js\n **/","var isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.an-object.js\n **/","var store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.wks.js\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.global.js\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.fails.js\n **/","module.exports = App;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"App\"\n ** module id = 8\n ** module chunks = 0\n **/","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.has.js\n **/","// 7.1.15 ToLength\nvar toInteger = require('./$.to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.to-length.js\n **/","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.descriptors.js\n **/","// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.object-sap.js\n **/","// add fake Function#toString\n// for correct work wrapped methods / constructors with methods like LoDash isNative\nvar global    = require('./$.global')\n  , hide      = require('./$.hide')\n  , SRC       = require('./$.uid')('src')\n  , TO_STRING = 'toString'\n  , $toString = Function[TO_STRING]\n  , TPL       = ('' + $toString).split(TO_STRING);\n\nrequire('./$.core').inspectSource = function(it){\n  return $toString.call(it);\n};\n\n(module.exports = function(O, key, val, safe){\n  if(typeof val == 'function'){\n    val.hasOwnProperty(SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n    val.hasOwnProperty('name') || hide(val, 'name', key);\n  }\n  if(O === global){\n    O[key] = val;\n  } else {\n    if(!safe)delete O[key];\n    hide(O, key, val);\n  }\n})(Function.prototype, TO_STRING, function toString(){\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.redefine.js\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.to-iobject.js\n **/","/**\r\n * Created by Glenn on 2015-02-08.\r\n */\r\n\r\nconst arrowSvgMarkupTemplate     = require('./ui/svg/arrow.tpl');\r\nconst dotSvgMarkupTemplate       = require('./ui/svg/dot.tpl');\r\nconst generatorSvgMarkupTemplate = require('./ui/svg/generator.tpl');\r\nconst pumpSvgMarkupTemplate      = require('./ui/svg/pump.tpl');\r\n\r\n/* region private properties */\r\n\r\nconst iconsBaseDir = 'images/maps/icons/';\r\nconst iconsDirs    = _.map(\r\n  ['directions', 'cluster', 'locations', 'geofences'], dirname => `${iconsBaseDir}${dirname}/`);\r\nconst [directionIconsDir, clusterIconsDir, locationIconsDir, geofenceIconsDir] = iconsDirs;\r\n\r\n/*\r\n * Mapping of ROAM direction symbols.\r\n */\r\nconst directionSymbols = {\r\n  'ROAM - arrow-beige'                  : 'arrow-beige',\r\n  'ROAM - arrow-black'                  : 'arrow-black',\r\n  'ROAM - arrow-blue'                   : 'arrow-blue',\r\n  'ROAM - arrow-brown'                  : 'arrow-brown',\r\n  'ROAM - arrow-dark-blue'              : 'arrow-dark-blue',\r\n  'ROAM - arrow-dark-green'             : 'arrow-dark-green',\r\n  'ROAM - arrow-gray'                   : 'arrow-gray',\r\n  'ROAM - arrow-green'                  : 'arrow-green',\r\n  'ROAM - arrow-light-blue'             : 'arrow-light-blue',\r\n  'ROAM - arrow-light-green'            : 'arrow-light-green',\r\n  'ROAM - arrow-light-purple'           : 'arrow-light-purple',\r\n  'ROAM - arrow-magenta'                : 'arrow-magenta',\r\n  'ROAM - arrow-maroon'                 : 'arrow-maroon',\r\n  'ROAM - arrow-orange'                 : 'arrow-orange',\r\n  'ROAM - arrow-pink'                   : 'arrow-pink',\r\n  'ROAM - arrow-purple'                 : 'arrow-purple',\r\n  'ROAM - arrow-red'                    : 'arrow-red',\r\n  'ROAM - arrow-silver'                 : 'arrow-silver',\r\n  'ROAM - arrow-white'                  : 'arrow-white',\r\n  'ROAM - arrow-yellow'                 : 'arrow-yellow',\r\n  'ROAM - circle-blue'                  : 'arrow-blue',\r\n  'ROAM - circle-green'                 : 'arrow-green',\r\n  'ROAM - circle-orange'                : 'arrow-orange',\r\n  'ROAM - circle-red'                   : 'arrow-red',\r\n  'ROAM - dot-blue'                     : 'dot-blue',\r\n  'ROAM - dot-green'                    : 'dot-green',\r\n  'ROAM - dot-orange'                   : 'dot-orange',\r\n  'ROAM - dot-red'                      : 'dot-red',\r\n  'ROAM - rect-arrow-blue'              : 'arrow-blue',\r\n  'ROAM - rect-arrow-green'             : 'arrow-green',\r\n  'ROAM - rect-blue-circle-green-arrow' : 'arrow-blue',\r\n  'ROAM - rect-blue-circle-orange-arrow': 'arrow-orange',\r\n  'Generator - arrow-blue'              : 'generator-arrow-blue',\r\n  'Generator - arrow-green'             : 'generator-arrow-green',\r\n  'Generator - arrow-dark-blue'         : 'generator-arrow-dark-blue',\r\n  'Generator - arrow-maroon'            : 'generator-arrow-maroon',\r\n  'Pump - arrow-brown'                  : 'pump-arrow-brown',\r\n  'Pump - arrow-light-blue'             : 'pump-arrow-light-blue',\r\n  'Pump - arrow-light-purple'           : 'pump-arrow-light-purple',\r\n  'Pump - arrow-magenta'                : 'pump-arrow-magenta',\r\n  'arrow-red'                           : 'arrow-red',\r\n};\r\n\r\nconst directionColors = {\r\n  'ROAM - arrow-beige'                  : ['#a49480', '#000000'],\r\n  'ROAM - arrow-black'                  : ['#000000', '#ffffff'],\r\n  'ROAM - arrow-blue'                   : ['#0000ff', '#ffffff'],\r\n  'ROAM - arrow-brown'                  : ['#a52a2a', '#ffffff'],\r\n  'ROAM - arrow-dark-blue'              : ['#00008b', '#ffffff'],\r\n  'ROAM - arrow-dark-green'             : ['#006400', '#ffffff'],\r\n  'ROAM - arrow-gray'                   : ['#808080', '#ffffff'],\r\n  'ROAM - arrow-green'                  : ['#008000', '#ffffff'],\r\n  'ROAM - arrow-light-blue'             : ['#add8e6', '#000000'],\r\n  'ROAM - arrow-light-green'            : ['#90ee90', '#000000'],\r\n  'ROAM - arrow-light-purple'           : ['#d8bfd8', '#000000'],\r\n  'ROAM - arrow-magenta'                : ['#ff00ff', '#ffffff'],\r\n  'ROAM - arrow-maroon'                 : ['#800000', '#ffffff'],\r\n  'ROAM - arrow-orange'                 : ['#ffa500', '#ffffff'],\r\n  'ROAM - arrow-pink'                   : ['#ffc0cb', '#000000'],\r\n  'ROAM - arrow-purple'                 : ['#800080', '#ffffff'],\r\n  'ROAM - arrow-red'                    : ['#ff0000', '#ffffff'],\r\n  'ROAM - arrow-silver'                 : ['#c0c0c0', '#000000'],\r\n  'ROAM - arrow-white'                  : ['#ffffff', '#000000'],\r\n  'ROAM - arrow-yellow'                 : ['#ffff00', '#000000'],\r\n  'ROAM - circle-blue'                  : ['#0000ff', '#ffffff'],\r\n  'ROAM - circle-green'                 : ['#008000', '#ffffff'],\r\n  'ROAM - circle-orange'                : ['#ffa500', '#ffffff'],\r\n  'ROAM - circle-red'                   : ['#ff0000', '#ffffff'],\r\n  'ROAM - dot-blue'                     : ['#0000ff', '#ffffff'],\r\n  'ROAM - dot-green'                    : ['#008000', '#ffffff'],\r\n  'ROAM - dot-orange'                   : ['#ffa500', '#ffffff'],\r\n  'ROAM - dot-red'                      : ['#ff0000', '#ffffff'],\r\n  'ROAM - rect-arrow-blue'              : ['#0000ff', '#ffffff'],\r\n  'ROAM - rect-arrow-green'             : ['#008000', '#ffffff'],\r\n  'ROAM - rect-blue-circle-green-arrow' : ['#0000ff', '#ffffff'],\r\n  'ROAM - rect-blue-circle-orange-arrow': ['#ffa500', '#ffffff'],\r\n  'Generator - arrow-blue'              : ['#0000ff', '#ffffff'],\r\n  'Generator - arrow-green'             : ['#008000', '#ffffff'],\r\n  'Generator - arrow-dark-blue'         : ['#00008b', '#ffffff'],\r\n  'Generator - arrow-maroon'            : ['#800000', '#ffffff'],\r\n  'Pump - arrow-brown'                  : ['#a52a2a', '#ffffff'],\r\n  'Pump - arrow-light-blue'             : ['#add8e6', '#000000'],\r\n  'Pump - arrow-light-purple'           : ['#d8bfd8', '#ffffff'],\r\n  'Pump - arrow-magenta'                : ['#ff00ff', '#ffffff'],\r\n  'arrow-red'                           : ['#ff0000', '#ffffff'],\r\n};\r\n\r\nconst shapeStyles = {\r\n  geofence         : {\r\n    fillOpacity : 0.5,\r\n    strokeWeight: 2,\r\n  },\r\n  geofenceExclusive: {\r\n    fillColor  : '#ff0000',\r\n    strokeColor: '#dd2222',\r\n  },\r\n  geofenceInclusive: {\r\n    fillColor  : '#00dd00',\r\n    strokeColor: '#22dd22',\r\n  },\r\n  geofenceWaypoint : {\r\n    fillColor  : '#0000ff',\r\n    strokeColor: '#000000',\r\n  },\r\n  geofenceUnknown  : {\r\n    fillColor  : '#f9ef0c',\r\n    strokeColor: '#f9870c',\r\n  },\r\n  eventsConnector  : {\r\n    strokeWeight: 4,\r\n    arrows      : {\r\n      fillColor  : '#ffffff',\r\n      fillOpacity: 0.75,\r\n    },\r\n  },\r\n  animationPath    : {\r\n    fillColor   : '#ff0000',\r\n    strokeColor : '#0000ff',\r\n    strokeWeight: 3,\r\n  },\r\n  editableObject   : {\r\n    fillColor   : '#dddddd',\r\n    fillOpacity : 0.4,\r\n    strokeColor : '#666666',\r\n    strokeWeight: 2,\r\n  },\r\n  routeLine        : {\r\n    strokeColor  : '#0000dd',\r\n    strokeOpacity: 0.63,\r\n    strokeWeight : 5,\r\n    arrows       : {\r\n      frequency: 4,\r\n      length   : 1.6,\r\n      width    : 1.0,\r\n    },\r\n  },\r\n};\r\n\r\n/* endregion private properties */\r\n\r\n/**\r\n *\r\n * @singleton\r\n */\r\nconst styler = {\r\n\r\n  /**\r\n   *\r\n   * @param roamObject\r\n   * @param [asSvg]\r\n   * @returns {*}\r\n   */\r\n  getRoamIcon(roamObject, asSvg) {\r\n    const type       = roamObject.domainObjectType;\r\n    const iconAction = iconActions[type];\r\n\r\n    if (!_.isFunction(iconAction)) {\r\n      throw new Error(`Invalid ROAM object type: ${type}.`);\r\n    }\r\n\r\n    return iconAction(roamObject, asSvg);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @returns {string}\r\n   */\r\n  getIconsBaseDir() {\r\n    return iconsBaseDir;\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param roamObject\r\n   * @param asSvg\r\n   * @returns {*}\r\n   */\r\n  getDirectionIcon(roamObject, asSvg) {\r\n    const { mapCurrentSymbol, mapHistorySymbol,\r\n            isAlertEvent, isLatestEvent, highlighted, heading, } = roamObject;\r\n    let symbolName = mapCurrentSymbol || mapHistorySymbol;\r\n\r\n    /*\r\n     * Force red arrows for alarmed position events.\r\n     */\r\n    if (isAlertEvent) {\r\n      symbolName = 'ROAM - arrow-red';\r\n    }\r\n\r\n    /*\r\n     * Force blue arrow for latest position event.\r\n     */\r\n    if (isLatestEvent) {\r\n      symbolName = 'ROAM - arrow-blue';\r\n    }\r\n\r\n    /*\r\n     * Force orange arrow for highlighted (selected) position event.\r\n     */\r\n    if (highlighted) {\r\n      symbolName = 'ROAM - arrow-orange';\r\n    }\r\n\r\n    let rotation = heading;\r\n\r\n    /*\r\n     * Do rotation adjustment only when in bitmap icon.\r\n     */\r\n    if (!asSvg) {\r\n\r\n      if (rotation >= 360) {\r\n        rotation = rotation % 360;\r\n      }\r\n\r\n      /*\r\n       * Only allow for 15 degrees intervals rotation.\r\n       */\r\n      rotation = Math.round(rotation / 15) * 15;\r\n    }\r\n\r\n    return asSvg ?\r\n           styler.getDirectionSvgIcon(symbolName, rotation) :\r\n           styler.getDirectionBitmapIcon(symbolName, rotation);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param symbolName\r\n   * @param rotation\r\n   * @returns {*}\r\n   */\r\n  getDirectionSvgIcon(symbolName, rotation) {\r\n    const symbolColor           = directionColors[symbolName];\r\n    let symbolSvgMarkupTemplate = arrowSvgMarkupTemplate;\r\n\r\n    if (symbolName.match(/dot/i)) {\r\n      symbolSvgMarkupTemplate = dotSvgMarkupTemplate;\r\n    } else if (symbolName.match(/generator/i)) {\r\n      symbolSvgMarkupTemplate = generatorSvgMarkupTemplate;\r\n    } else if (symbolName.match(/pump/i)) {\r\n      symbolSvgMarkupTemplate = pumpSvgMarkupTemplate;\r\n    }\r\n\r\n    return symbolSvgMarkupTemplate\r\n      .replace('${backgroundColor}', symbolColor[0])\r\n      .replace('${color}', symbolColor[1])\r\n      .replace('${rotation}', rotation);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param symbolName\r\n   * @param rotation\r\n   * @returns {string}\r\n   */\r\n  getDirectionBitmapIcon(symbolName, rotation) {\r\n    const symbolDir = `${directionSymbols[symbolName]}/`;\r\n    const iconName  = rotation;\r\n\r\n    return `${directionIconsDir}${symbolDir}${iconName}.png`;\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param roamObject\r\n   * @returns {string}\r\n   */\r\n  getObjectCategoryIcon(roamObject) {\r\n    const { locationType, fenceType } = roamObject;\r\n    let iconPath = '';\r\n\r\n    if (locationType) {\r\n      iconPath = styler.getLocationIcon(roamObject);\r\n    } else if (fenceType) {\r\n      iconPath = styler.getGeofenceIcon(roamObject);\r\n    }\r\n\r\n    return iconPath;\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @returns {string}\r\n   */\r\n  getClusterIconsDir() {\r\n    return clusterIconsDir;\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param roamObject\r\n   * @returns {string}\r\n   */\r\n  getLocationIcon(roamObject) {\r\n    const { locationType } = roamObject;\r\n    const iconName = locationType.replace(/ /g, '').toLowerCase();\r\n\r\n    return `${locationIconsDir}${iconName}.png`;\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param roamObject\r\n   * @returns {string}\r\n   */\r\n  getGeofenceIcon(roamObject) {\r\n    const { fenceType } = roamObject;\r\n    const iconName = fenceType.replace(/ /g, '').toLowerCase();\r\n\r\n    return `${geofenceIconsDir}${iconName}.png`;\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @returns {*}\r\n   */\r\n  getShapeStyles() {\r\n    return shapeStyles;\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param color\r\n   * @param opacity\r\n   * @returns {string}\r\n   */\r\n  hexToRgba(color, opacity) {\r\n\r\n    /**\r\n     *\r\n     * @see http://docs.telerik.com/kendo-ui/api/javascript/kendo#methods-parseColor\r\n     * @see http://docs.telerik.com/kendo-ui/api/javascript/color\r\n     */\r\n    const { r, g, b } = kendo.parseColor(color).toRGB();\r\n\r\n    return kendo.Color\r\n                .fromRGB(r, g, b, opacity)\r\n                .toCssRgba();\r\n  },\r\n};\r\n\r\nconst { getDirectionIcon, getLocationIcon, getGeofenceIcon } = styler;\r\nconst iconActions = {\r\n  assetmessageevent: getDirectionIcon,\r\n  location         : getLocationIcon,\r\n  geofence         : getGeofenceIcon,\r\n};\r\n\r\nconst Styler = {\r\n  getInstance() {\r\n    return styler;\r\n  },\r\n};\r\n\r\nexport { Styler as default, Styler };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/styler.js\n **/","// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.ctx.js\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.defined.js\n **/","var $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.hide.js\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.cof.js\n **/","var core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.core.js\n **/","// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.to-object.js\n **/","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.property-desc.js\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nmodule.exports = function(src) {\r\n\tif (typeof execScript !== \"undefined\")\r\n\t\texecScript(src);\r\n\telse\r\n\t\teval.call(null, src);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/script-loader/addScript.js\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.a-function.js\n **/","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./$.wks')('unscopables')\n  , ArrayProto  = Array.prototype;\nif(ArrayProto[UNSCOPABLES] == undefined)require('./$.hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function(key){\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.add-to-unscopables.js\n **/","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.uid.js\n **/","/**\r\n * Created by Glenn on 2014-11-10.\r\n */\r\n\r\nconst project = {\r\n\r\n  /**\r\n   * WGS 84 bounds literal.\r\n   * @see http://spatialreference.org/ref/epsg/wgs-84/\r\n   */\r\n  bbox       : {\r\n\r\n    /*\r\n     * Defaulted to Dubai. ;)\r\n     */\r\n    left  : 55,\r\n    bottom: 25,\r\n    right : 56,\r\n    top   : 25.5,\r\n\r\n    //left  : -24.6000,\r\n    //bottom: 63.2500,\r\n    //right : -13.4000,\r\n    //top   : 66.6000,\r\n  },\r\n  roamLayers : {\r\n    ROAM_ASSETS          : {\r\n      name               : 'ROAM_ASSETS',\r\n      type               : 'ROAM_LAYER',\r\n      visible            : true,\r\n      clusteringSupported: true,\r\n      serviceUrls        : {\r\n        create: '',\r\n        read  : 'geoposition/current',\r\n        update: '',\r\n        delete: '',\r\n      },\r\n    },\r\n    ROAM_ASSETS_HISTORY  : {\r\n      name               : 'ROAM_ASSETS_HISTORY',\r\n      type               : 'ROAM_LAYER',\r\n      visible            : true,\r\n      clusteringSupported: true,\r\n      serviceUrls        : {\r\n        create: '',\r\n        read  : 'geoposition/assetHistory',\r\n        update: '',\r\n        delete: '',\r\n      },\r\n    },\r\n    ROAM_LOCATIONS       : {\r\n      name       : 'ROAM_LOCATIONS',\r\n      type       : 'ROAM_LAYER',\r\n      visible    : false,\r\n      serviceUrls: {\r\n        create: 'caesarLocation/post',\r\n        read  : 'caesarLocation/locations',\r\n        update: '',\r\n        delete: '',\r\n      },\r\n    },\r\n    ROAM_GEOFENCES       : {\r\n      name       : 'ROAM_GEOFENCES',\r\n      type       : 'ROAM_LAYER',\r\n      visible    : false,\r\n      serviceUrls: {\r\n        create: 'caesarGeofence/post',\r\n        read  : 'caesarGeofence/geofences',\r\n        update: '',\r\n        delete: '',\r\n      },\r\n    },\r\n    ROAM_ASSETS_ANIMATION: {\r\n      name       : 'ROAM_ASSETS_ANIMATION',\r\n      type       : 'ROAM_LAYER',\r\n      visible    : false,\r\n      serviceUrls: {\r\n        create: '',\r\n        read  : '',\r\n        update: '',\r\n        delete: '',\r\n      },\r\n    },\r\n  },\r\n  serviceUrls: {\r\n    locationConfig    : {\r\n      read: 'caesarLocation/config',\r\n    },\r\n    geoPositionObjects: {\r\n      read: 'geoPositionObjects/resources',\r\n    },\r\n    routing           : {\r\n      create: 'routing/create',\r\n    },\r\n    legend            : {\r\n      read: 'geoposition/legend',\r\n    },\r\n  },\r\n};\r\n\r\nexport { project as default, project };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/project.js\n **/","/**\r\n * Created by Glenn on 2015-06-28.\r\n */\r\n\r\nconst LayerManager = stampit()\r\n  .init(({ instance, stamp }) => {\r\n    const { ROAM_LOCATIONS, ROAM_GEOFENCES } = stamp.ROAM_LAYERS;\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     *\r\n     */\r\n    let viewer;\r\n\r\n    /*\r\n     *\r\n     */\r\n    const layerList       = {};\r\n    const mapObjectList   = {};\r\n    const roamObjectCache = {};\r\n\r\n    /*\r\n     *\r\n     */\r\n    let positionLayerName = '';\r\n    let lastSelectedPositionObject;\r\n\r\n    /*\r\n     *\r\n     */\r\n    const domainObjectTypeActions = {\r\n      assetmessageevent() {\r\n        return positionLayerName;\r\n      },\r\n\r\n      location() {\r\n        return ROAM_LOCATIONS;\r\n      },\r\n\r\n      geofence() {\r\n        return ROAM_GEOFENCES;\r\n      },\r\n    };\r\n\r\n    /*\r\n     *\r\n     */\r\n    const objectTypes = {\r\n      [ROAM_LOCATIONS]: 'location',\r\n      [ROAM_GEOFENCES]: 'geofence',\r\n    };\r\n\r\n    /*\r\n     *\r\n     */\r\n    let eventsConnector;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region private methods */\r\n\r\n    /**\r\n     *\r\n     * @param layerName\r\n     * @param roamObject\r\n     * @returns {*}\r\n     */\r\n    function createMapObject(layerName, roamObject) {\r\n\r\n      /*\r\n       * Combine `layerName` and `domainObjectTypeId` to form\r\n       * `mapObjectId`, because DOTI itself is not unique\r\n       * enough when the same ROAM objects used in multiple\r\n       * layer (overlay).\r\n       * e.g.\r\n       * ROAM_ASSETS/ROAM_ASSETS_HISTORY vs.\r\n       * ROAM_ASSETS_ANIMATION.\r\n       */\r\n      const mapObjectId = `${layerName}-${roamObject.domainObjectTypeId}`;\r\n\r\n      return viewer.getMapObjectFactory().create({\r\n        layerName,\r\n        roamObject,\r\n        viewer,\r\n        id: mapObjectId,\r\n      });\r\n    }\r\n\r\n    /* endregion private methods */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param mapViewer\r\n       */\r\n      setViewer: _.once(mapViewer => viewer = mapViewer),\r\n\r\n      /* region Layer operations */\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getLayers() {\r\n        return _.map(layerList);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @returns {*}\r\n       */\r\n      getLayer(layerName) {\r\n        return layerList[layerName];\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerProperties\r\n       */\r\n      addLayer(layerProperties) {\r\n        const layerId = layerProperties.name;\r\n        let layer     = instance.getLayer(layerId);\r\n\r\n        if (!layer) {\r\n          let layerFactory = viewer.getLayerFactory();\r\n\r\n          /*\r\n           * Clustering layer is treated a bit differently,\r\n           * and thus, has its own factory.\r\n           */\r\n          if (layerProperties.clusteringSupported) {\r\n            layerFactory = viewer.getClusteringLayerFactory();\r\n          }\r\n\r\n          layer = layerFactory.create({\r\n            layerProperties,\r\n            viewer,\r\n            name: layerId,\r\n          });\r\n\r\n          layerList[layerId] = layer;\r\n\r\n          viewer.addOverlay(layer);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      getLayerVisibility(layerName) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        return Boolean(layer && layer.isVisible());\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param visibility\r\n       */\r\n      setLayerVisibility(layerName, visibility) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        if (layer) {\r\n          layer.setVisible(visibility);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {string}\r\n       */\r\n      getPositionLayerName() {\r\n        return positionLayerName;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       */\r\n      setPositionLayerName(layerName) {\r\n        positionLayerName = layerName;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @returns {boolean}\r\n       */\r\n      testIsPositionLayerName(layerName) {\r\n        return viewer.getLayerDataFetcher().testIsPositionLayerName(layerName);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param type\r\n       * @returns {*}\r\n       */\r\n      getLayerName(type) {\r\n        const domainObjectTypeAction = domainObjectTypeActions[type];\r\n\r\n        if (!_.isFunction(domainObjectTypeAction)) {\r\n          throw new Error(`Invalid ROAM object type: ${type}.`);\r\n        }\r\n\r\n        return domainObjectTypeAction();\r\n      },\r\n\r\n      /* endregion Layer operations */\r\n\r\n      /* region Map object operations */\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectId\r\n       * @returns {*}\r\n       */\r\n      getObject(layerName, objectId) {\r\n        return mapObjectList[`${layerName}-${objectId}`];\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectIds\r\n       * @returns {*}\r\n       */\r\n      getObjects(layerName, objectIds) {\r\n\r\n        return _(objectIds)\r\n          .map(objectId => instance.getObject(layerName, objectId))\r\n          .compact()\r\n          .value();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @returns {*}\r\n       */\r\n      getObjectsByLayer(layerName) {\r\n        return layerList[layerName].getObjects();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectId\r\n       * @returns {*}\r\n       */\r\n      getCachedRoamObject(objectId) {\r\n        return roamObjectCache[objectId];\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectIds\r\n       * @returns {*}\r\n       */\r\n      getCachedRoamObjects(objectIds) {\r\n        return _.map(objectIds, objectId => roamObjectCache[objectId]);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @returns {*}\r\n       */\r\n      getCachedRoamObjectsByLayer(layerName) {\r\n        const objectType = objectTypes[layerName] || 'assetmessageevent';\r\n\r\n        return _(roamObjectCache)\r\n          .filter(['domainObjectType', objectType])\r\n          .compact()\r\n          .value();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param roamObject\r\n       */\r\n      addCachedRoamObject(roamObject) {\r\n        roamObjectCache[roamObject.domainObjectTypeId] = roamObject;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param roamObjects\r\n       * @param latestPositionId\r\n       */\r\n      markLatestPositionRoamObject(roamObjects, latestPositionId) {\r\n\r\n        _.forEach(roamObjects, (roamObject) => {\r\n\r\n          if (roamObject.id.toString() ===\r\n              latestPositionId.toString()) {\r\n\r\n            roamObject.isLatestEvent = true;\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param type\r\n       * @param roamObjects\r\n       */\r\n      loadObjects(type, roamObjects) {\r\n        const layerName = instance.getLayerName(type);\r\n        const layer     = instance.getLayer(layerName);\r\n\r\n        if (layer) {\r\n\r\n          /*\r\n           * Handle loaded objects and\r\n           * lazy loading mechanics.\r\n           */\r\n          const shouldCacheUsed = viewer.lazyLoadingEnabled &&\r\n                                  (!instance.testIsPositionLayerName(layerName));\r\n\r\n          instance.clearObjects(layerName);\r\n\r\n          if (shouldCacheUsed) {\r\n            console.info(`Lazy loading for ${layerName} activated.`);\r\n\r\n            /*\r\n             * Do not add objects at load time in lazy\r\n             * loading mode; instead, store them in the\r\n             * cache for later addition.\r\n             */\r\n            _.forEach(roamObjects, roamObject => instance.addCachedRoamObject(roamObject));\r\n          } else {\r\n            const mapObjects = _(roamObjects)\r\n              .map(roamObject => createMapObject(layerName, roamObject))\r\n              .compact()\r\n              .forEach(mapObject => mapObjectList[mapObject.id] = mapObject);\r\n\r\n            layer.add(mapObjects);\r\n          }\r\n\r\n          viewer.getControls().onObjectsLoaded(layerName, roamObjects);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param roamObject\r\n       */\r\n      addObject(layerName, roamObject) {\r\n        instance.addObjects(layerName, [roamObject]);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param roamObjects\r\n       */\r\n      addObjects(layerName, roamObjects) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        if (layer) {\r\n          const mapObjects = _(roamObjects)\r\n            .map((roamObject) => {\r\n              let mapObject = undefined;\r\n\r\n              /*\r\n               * Consider only object that hasn't been\r\n               * added yet (make sure no duplicate).\r\n               */\r\n              if (!instance.getObject(layerName,\r\n                  roamObject.domainObjectTypeId)) {\r\n\r\n                mapObject = createMapObject(layerName, roamObject);\r\n              }\r\n\r\n              return mapObject;\r\n            })\r\n            .compact()\r\n            .forEach(mapObject => mapObjectList[mapObject.id] = mapObject);\r\n\r\n          layer.add(mapObjects);\r\n\r\n          /*\r\n           * Currently map controls only supports for\r\n           * efficiently adding one (user-created) map object\r\n           * at a time.\r\n           */\r\n          if (mapObjects.length === 1) {\r\n            viewer.getControls().onObjectAdded(\r\n              layerName, mapObjects[0].roamObject);\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param roamObject\r\n       */\r\n      removeObject(layerName, roamObject) {\r\n        instance.removeObject(layerName, [roamObject]);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param roamObjects\r\n       */\r\n      removeObjects(layerName, roamObjects) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        if (layer) {\r\n          const mapObjects = _(roamObjects)\r\n            .map(roamObject => instance.getObject(layerName, roamObject.domainObjectTypeId))\r\n            .compact()\r\n            .forEach((mapObject) => {\r\n              delete mapObjectList[mapObject.id];\r\n\r\n              mapObject.destroyLabel();\r\n            });\r\n\r\n          layer.remove(mapObjects);\r\n\r\n          /*\r\n           * Same as `.addObjects()` method above;\r\n           * `.onObjectRemoved()` method in `controls.js` even\r\n           * hasn't been implemented yet. Being mentioned here\r\n           * just for the sake of maintaining consistency.\r\n           */\r\n          if (mapObjects.length === 1) {\r\n            viewer.getControls().onObjectRemoved(\r\n              layerName, mapObjects[0].roamObject);\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       */\r\n      clearObjects(layerName) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        if (layer) {\r\n          _(instance.getObjectsByLayer(layerName))\r\n            .compact()\r\n            .forEach((mapObject) => {\r\n              delete mapObjectList[mapObject.id];\r\n\r\n              mapObject.destroyLabel();\r\n            });\r\n\r\n          layer.clear();\r\n\r\n          viewer.getControls().onObjectsLoaded(layerName, []);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param destLayerName\r\n       * @param srcLayerName\r\n       */\r\n      copyObjects(destLayerName, srcLayerName) {\r\n        const roamObjects = _.map(\r\n          instance.getObjectsByLayer(srcLayerName), 'roamObject');\r\n\r\n        instance.clearObjects(destLayerName);\r\n        instance.addObjects(destLayerName, roamObjects);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectId\r\n       * @param effective\r\n       * @returns {boolean}\r\n       */\r\n      getObjectVisibility(layerName, objectId, effective) {\r\n        const mapObject = instance.getObject(layerName, objectId);\r\n\r\n        return Boolean(mapObject && mapObject.isVisible(effective));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectId\r\n       * @param visibility\r\n       */\r\n      setObjectVisibility(layerName, objectId, visibility) {\r\n        instance.setObjectsVisibility(layerName, [objectId], visibility);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectIds\r\n       * @param visibility\r\n       */\r\n      setObjectsVisibility(layerName, objectIds, visibility) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        if (layer) {\r\n          const mapObjects = _(objectIds)\r\n            .map(objectId => instance.getObject(layerName, objectId))\r\n            .compact()\r\n            .value();\r\n\r\n          _.forEach(mapObjects, mapObject => mapObject.setVisible(visibility));\r\n\r\n          if (layer.isClusteringSupported()) {\r\n\r\n            /*\r\n             * HACK: Have to do this in order to prevent\r\n             * `.performClustering()` being called twice\r\n             * during initialization time.\r\n             */\r\n            if (!layer.initTimeGuard) {\r\n              layer.initTimeGuard = true;\r\n            } else {\r\n              layer.performClustering();\r\n            }\r\n          }\r\n\r\n          instance.setObjectLabelsVisibility(layerName,\r\n            instance.getObjectLabelsVisibility(layerName));\r\n\r\n          viewer.getControls().onObjectsVisibilityChanged(\r\n            layerName, objectIds, visibility);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param visibility\r\n       */\r\n      setAllObjectsVisibility(layerName, visibility) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        if (layer) {\r\n          const objectIds = _.map(\r\n            instance.getObjectsByLayer(layerName), 'roamObject.domainObjectTypeId');\r\n\r\n          instance.setObjectsVisibility(layerName, objectIds, visibility);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectId\r\n       * @param highlighted\r\n       */\r\n      setObjectHighlighted(layerName, objectId, highlighted) {\r\n\r\n        /*\r\n         * Currently support for highlighting asset position\r\n         * object only.\r\n         */\r\n        if (instance.testIsPositionLayerName(layerName)) {\r\n          const mapObject = instance.getObject(layerName, objectId);\r\n\r\n          if (mapObject) {\r\n            const { roamObject } = mapObject;\r\n\r\n            if (highlighted) {\r\n\r\n              if (!roamObject.highlighted) {\r\n                roamObject.highlighted = true;\r\n\r\n                mapObject.updateIcon();\r\n              }\r\n            } else {\r\n              delete roamObject.highlighted;\r\n\r\n              mapObject.revertIcon();\r\n            }\r\n          }\r\n\r\n          if (lastSelectedPositionObject &&\r\n              (lastSelectedPositionObject !== mapObject)) {\r\n\r\n            delete lastSelectedPositionObject.roamObject.highlighted;\r\n\r\n            lastSelectedPositionObject.revertIcon();\r\n          }\r\n\r\n          lastSelectedPositionObject = mapObject;\r\n\r\n          viewer.getControls().onPositionHighlightChanged(objectId, highlighted);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectId\r\n       * @param highlighted\r\n       */\r\n      setPositionHighlighted(objectId, highlighted) {\r\n        instance.setObjectHighlighted(\r\n          instance.getPositionLayerName(), objectId, highlighted);\r\n      },\r\n\r\n      /* endregion Map object operations */\r\n\r\n      /* region Label operations */\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @returns {boolean}\r\n       */\r\n      getObjectLabelsVisibility(layerName) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        return Boolean(layer && layer.isLabelsVisible());\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param visibility\r\n       */\r\n      setObjectLabelsVisibility(layerName, visibility) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        if (layer) {\r\n          const labelsVisibilityListenerAdded =\r\n                  layer.getData('labelsVisibilityListenerAdded');\r\n\r\n          const enhanceLabelsPlacement = () => {\r\n\r\n            if (viewer.isAutoLabelingActivated() && layer.isLabelsVisible()) {\r\n\r\n              /*\r\n               * Make sure the clustering process is\r\n               * done first before running the\r\n               * automatic labels placement algorithm.\r\n               * For non-clustering layer, the defer\r\n               * object is always resolved.\r\n               */\r\n              layer.resolveClustering()\r\n                   .done(() => viewer\r\n                     .getMapObjectLabelFactory()\r\n                     .runAutomaticLabelPlacement(layer.getLabels()));\r\n            }\r\n          };\r\n\r\n          if (!labelsVisibilityListenerAdded) {\r\n\r\n            /**\r\n             * REVIEW: Should watch out for this. Practically\r\n             * prefer `mapviewchangeend` event to `mapviewchange`.\r\n             * @see https://developer.here.com/javascript-apis/documentation/v3/maps/topics/best-practices.html\r\n             */\r\n            viewer.addEventListener('mapviewchange',\r\n\r\n              /**\r\n               * Mitigate excessively updating the\r\n               * position while panning.\r\n               * @see https://lodash.com/docs#throttle\r\n               */\r\n              _.throttle(() => layer.updateLabelsPosition(), 20));\r\n\r\n            viewer.addEventListener('mapviewchangeend',\r\n              () => _.defer(() => {\r\n                layer.setLabelsVisible(layer.isLabelsVisible());\r\n                enhanceLabelsPlacement();\r\n              }));\r\n\r\n            layer.setData('labelsVisibilityListenerAdded', true);\r\n          }\r\n\r\n          layer.setLabelsVisible(visibility);\r\n          enhanceLabelsPlacement();\r\n\r\n          viewer.getControls().onObjectLabelsVisibilityChanged(\r\n            layerName, visibility);\r\n        }\r\n      },\r\n\r\n      /* endregion Label operations */\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param enabled\r\n       */\r\n      setClusteringEnabled(layerName, enabled) {\r\n        const layer = instance.getLayer(layerName);\r\n\r\n        if (layer && layer.isClusteringSupported()) {\r\n          layer.setClusteringEnabled(enabled);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visibility\r\n       */\r\n      setEventsConnectorVisibility(visibility) {\r\n        let drawingSucceeded = true;\r\n\r\n        if (!eventsConnector) {\r\n          const positions = _.map(\r\n            instance.getObjectsByLayer(instance.getPositionLayerName()), 'roamObject');\r\n\r\n          drawingSucceeded = instance.drawEventsConnector(positions);\r\n        }\r\n\r\n        if (drawingSucceeded) {\r\n          eventsConnector.setVisible(visibility);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param positions\r\n       */\r\n      drawEventsConnector(positions) {\r\n        const drawable = (positions.length >= 2);\r\n\r\n        if (drawable) {\r\n          const mapObjectFactory = viewer.getMapObjectFactory();\r\n          const coordinates      = mapObjectFactory.toCoordinates(\r\n            _.map(positions, ({ latitude, longitude }) => ({\r\n                lat: latitude,\r\n                lng: longitude,\r\n              })\r\n            ));\r\n\r\n          if (!eventsConnector) {\r\n            eventsConnector = mapObjectFactory\r\n              .create({\r\n                viewer,\r\n                objectModel: {\r\n                  coordinates,\r\n                  shapeType: 'line',\r\n                  options  : {\r\n                    styleName: 'eventsConnector',\r\n                  },\r\n                },\r\n              });\r\n          } else {\r\n            eventsConnector.setCoordinates(coordinates);\r\n          }\r\n\r\n          viewer.addObject(eventsConnector);\r\n\r\n        } else {\r\n\r\n          if (eventsConnector) {\r\n            viewer.removeObject(eventsConnector);\r\n            eventsConnector = undefined;\r\n          }\r\n        }\r\n\r\n        return drawable;\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n  })\r\n  .static({\r\n\r\n    /**\r\n     *\r\n     * @constant\r\n     */\r\n    ROAM_LAYERS: {\r\n      ROAM_ASSETS          : 'ROAM_ASSETS',\r\n      ROAM_ASSETS_HISTORY  : 'ROAM_ASSETS_HISTORY',\r\n      ROAM_ASSETS_ANIMATION: 'ROAM_ASSETS_ANIMATION',\r\n      ROAM_LOCATIONS       : 'ROAM_LOCATIONS',\r\n      ROAM_GEOFENCES       : 'ROAM_GEOFENCES',\r\n      ROAM_GEOREFERENCES   : 'ROAM_GEOREFERENCES',\r\n    },\r\n  });\r\n\r\nexport { LayerManager as default, LayerManager };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/manager/layer-manager.js\n **/","var ctx         = require('./$.ctx')\n  , call        = require('./$.iter-call')\n  , isArrayIter = require('./$.is-array-iter')\n  , anObject    = require('./$.an-object')\n  , toLength    = require('./$.to-length')\n  , getIterFn   = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that){\n  var iterFn = getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    call(iterator, f, step.value, entries);\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.for-of.js\n **/","module.exports = {};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.iterators.js\n **/","var def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.set-to-string-tag.js\n **/","var toInteger = require('./$.to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.to-index.js\n **/","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.to-integer.js\n **/","/**\r\n * Created by glenn on 18/11/15.\r\n */\r\n\r\nwindow.MAPS_DEBUG_ENABLED = false;\r\n\r\nconst mapsDebugger = {\r\n  time(label) {\r\n\r\n    if (window.MAPS_DEBUG_ENABLED) {\r\n      console.time(label);\r\n    }\r\n  },\r\n\r\n  timeEnd(label) {\r\n\r\n    if (window.MAPS_DEBUG_ENABLED) {\r\n      console.timeEnd(label);\r\n    }\r\n  },\r\n};\r\n\r\nwindow.easterEgg = function easterEgg() {\r\n  console.log('٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶٩(̾●̮̮̃̾•̃̾)۶');\r\n};\r\n\r\nexport { mapsDebugger as default, mapsDebugger };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/debugger.js\n **/","/**\r\n * Created by Glenn on 2015-06-28.\r\n */\r\n\r\n/**\r\n *\r\n * @abstract\r\n */\r\nconst Layer = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    viewer         : undefined,\r\n    /**\r\n     *\r\n     */\r\n    name           : '', // -> layerName\r\n    layerProperties: undefined,\r\n  })\r\n  .methods({\r\n\r\n    /**\r\n     *\r\n     */\r\n    getNativeObject() {\r\n      throw new Error('.getNativeObject() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param key\r\n     */\r\n    getData(key) {\r\n      throw new Error('.getData() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param key\r\n     * @param value\r\n     */\r\n    setData(key, value) {\r\n      throw new Error('.setData() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    isVisible() {\r\n      throw new Error('.isVisible() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param visible\r\n     */\r\n    setVisible(visible) {\r\n      throw new Error('.setVisible() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getObjects() {\r\n      throw new Error('.getObjects() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param mapObjects\r\n     */\r\n    add(mapObjects) {\r\n      throw new Error('.add() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param mapObjects\r\n     */\r\n    remove(mapObjects) {\r\n      throw new Error('.remove() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    clear() {\r\n      throw new Error('.clear() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getBounds() {\r\n      throw new Error('.getBounds() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getLabels() {\r\n      return _(this.getObjects())\r\n        .map((mapObject) => {\r\n          let label;\r\n\r\n          if (mapObject.isVisible(true)) {\r\n            label = mapObject.getLabel();\r\n          }\r\n\r\n          return label;\r\n        })\r\n        .compact()\r\n        .value();\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    isLabelsVisible() {\r\n      return this.getData('labelsVisible');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param visible\r\n     */\r\n    setLabelsVisible(visible) {\r\n      this.setData('labelsVisible', visible);\r\n\r\n      _.forEach(this.getLabels(), label => label.setVisible(visible));\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    updateLabelsPosition() {\r\n\r\n      _.forEach(this.getLabels(), label => label.updatePosition());\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    isClusteringSupported() {\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    isClusteringEnabled() {\r\n      return Boolean(this.getData('clusteringEnabled'));\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param enabled\r\n     */\r\n    setClusteringEnabled(enabled) {\r\n\r\n      if (this.isClusteringSupported()) {\r\n        const clusteringStatusChanged = (this.isClusteringEnabled() !== enabled);\r\n\r\n        /*\r\n         * Since .modifyClusterCalculations() usually is an\r\n         * expensive call (it needs to set up the clustering\r\n         * engine again from the scratch), do this call only if\r\n         * the clustering status is *really* changed\r\n         * (enabled -> disabled / disabled -> enabled).\r\n         */\r\n\r\n        if (clusteringStatusChanged) {\r\n          this.setData('clusteringEnabled', enabled);\r\n          this.performClustering();\r\n\r\n          /*\r\n           * Force running automatic labels placement\r\n           * algorithm by triggering `mapviewchangeend` event.\r\n           */\r\n          this.viewer.refresh();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    resolveClustering() {\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n  });\r\n\r\nexport { Layer as default, Layer };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/layer.js\n **/","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./$.ctx')\n  , IObject  = require('./$.iobject')\n  , toObject = require('./$.to-object')\n  , toLength = require('./$.to-length')\n  , asc      = require('./$.array-species-create');\nmodule.exports = function(TYPE){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? asc($this, length) : IS_FILTER ? asc($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.array-methods.js\n **/","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./$.cof')\n  , TAG = require('./$.wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.classof.js\n **/","'use strict';\nvar global         = require('./$.global')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , redefineAll    = require('./$.redefine-all')\n  , forOf          = require('./$.for-of')\n  , strictNew      = require('./$.strict-new')\n  , isObject       = require('./$.is-object')\n  , fails          = require('./$.fails')\n  , $iterDetect    = require('./$.iter-detect')\n  , setToStringTag = require('./$.set-to-string-tag');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  var fixMethod = function(KEY){\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a){\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a){ fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b){ fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if(typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n  } else {\n    var instance             = new C\n      // early implementations not supports chaining\n      , HASNT_CHAINING       = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance\n      // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n      , THROWS_ON_PRIMITIVES = fails(function(){ instance.has(1); })\n      // most early implementations doesn't supports iterables, most modern - not close it correctly\n      , ACCEPT_ITERABLES     = $iterDetect(function(iter){ new C(iter); }) // eslint-disable-line no-new\n      // for early implementations -0 and +0 not the same\n      , BUGGY_ZERO;\n    if(!ACCEPT_ITERABLES){ \n      C = wrapper(function(target, iterable){\n        strictNew(target, C, NAME);\n        var that = new Base;\n        if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    IS_WEAK || instance.forEach(function(val, key){\n      BUGGY_ZERO = 1 / key === -Infinity;\n    });\n    if(THROWS_ON_PRIMITIVES || BUGGY_ZERO){\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if(BUGGY_ZERO || HASNT_CHAINING)fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if(IS_WEAK && proto.clear)delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.collection.js\n **/","'use strict';\nvar hide     = require('./$.hide')\n  , redefine = require('./$.redefine')\n  , fails    = require('./$.fails')\n  , defined  = require('./$.defined')\n  , wks      = require('./$.wks');\n\nmodule.exports = function(KEY, length, exec){\n  var SYMBOL   = wks(KEY)\n    , original = ''[KEY];\n  if(fails(function(){\n    var O = {};\n    O[SYMBOL] = function(){ return 7; };\n    return ''[KEY](O) != 7;\n  })){\n    redefine(String.prototype, KEY, exec(defined, SYMBOL, original));\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function(string, arg){ return original.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function(string){ return original.call(string, this); }\n    );\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.fix-re-wks.js\n **/","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.invoke.js\n **/","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.iobject.js\n **/","var redefine = require('./$.redefine');\nmodule.exports = function(target, src){\n  for(var key in src)redefine(target, key, src[key]);\n  return target;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.redefine-all.js\n **/","'use strict';\nvar global      = require('./$.global')\n  , $           = require('./$')\n  , DESCRIPTORS = require('./$.descriptors')\n  , SPECIES     = require('./$.wks')('species');\n\nmodule.exports = function(KEY){\n  var C = global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.set-species.js\n **/","module.exports = function(it, Constructor, name){\n  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.strict-new.js\n **/","var $export = require('./$.export')\n  , defined = require('./$.defined')\n  , fails   = require('./$.fails')\n  , spaces  = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n      '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF'\n  , space   = '[' + spaces + ']'\n  , non     = '\\u200b\\u0085'\n  , ltrim   = RegExp('^' + space + space + '*')\n  , rtrim   = RegExp(space + space + '*$');\n\nvar exporter = function(KEY, exec){\n  var exp  = {};\n  exp[KEY] = exec(trim);\n  $export($export.P + $export.F * fails(function(){\n    return !!spaces[KEY]() || non[KEY]() != non;\n  }), 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function(string, TYPE){\n  string = String(defined(string));\n  if(TYPE & 1)string = string.replace(ltrim, '');\n  if(TYPE & 2)string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.string-trim.js\n **/","var MATCH = require('./$.wks')('match');\nmodule.exports = function(KEY){\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch(e){\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch(f){ /* empty */ }\n  } return true;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.fails-is-regexp.js\n **/","// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.is-array.js\n **/","'use strict';\nvar LIBRARY        = require('./$.library')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , hide           = require('./$.hide')\n  , has            = require('./$.has')\n  , Iterators      = require('./$.iterators')\n  , $iterCreate    = require('./$.iter-create')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , getProto       = require('./$').getProto\n  , ITERATOR       = require('./$.wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if($native){\n    var IteratorPrototype = getProto($default.call(new Base));\n    // Set @@toStringTag to native iterators\n    setToStringTag(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if(DEF_VALUES && $native.name !== VALUES){\n      VALUES_BUG = true;\n      $default = function values(){ return $native.call(this); };\n    }\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n      keys:    IS_SET      ? $default : getMethod(KEYS),\n      entries: !DEF_VALUES ? $default : getMethod('entries')\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.iter-define.js\n **/","var ITERATOR     = require('./$.wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ safe = true; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.iter-detect.js\n **/","module.exports = false;\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.library.js\n **/","// 20.2.2.14 Math.expm1(x)\nmodule.exports = Math.expm1 || function expm1(x){\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.math-expm1.js\n **/","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x){\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.math-sign.js\n **/","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.set-proto.js\n **/","var toInteger = require('./$.to-integer')\n  , defined   = require('./$.defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.string-at.js\n **/","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./$.is-regexp')\n  , defined  = require('./$.defined');\n\nmodule.exports = function(that, searchString, NAME){\n  if(isRegExp(searchString))throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.string-context.js\n **/","/**\r\n * Created by Glenn on 2015-07-02.\r\n */\r\n\r\nimport { LayerManager } from './layer-manager';\r\n\r\nconst { ROAM_ASSETS_ANIMATION, ROAM_ASSETS_HISTORY } = LayerManager.ROAM_LAYERS;\r\n\r\nconst AnimationManager = stampit()\r\n  .init(({ instance }) => {\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     *\r\n     */\r\n    let viewer;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let currentStep = 0;\r\n    let maxStep     = 0;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let animationInfo = '';\r\n\r\n    /*\r\n     *\r\n     */\r\n    let animationId = NaN;\r\n    let lapse       = 500;\r\n    let trailLength = 3;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let wasAutoRefresh;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let dataSourceLayer;\r\n    let animationLayer;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let animationObjects = [];\r\n    let currentAnimationObject;\r\n    let currentAnimationObjectLabel;\r\n    let animationPathLineObject;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region private methods */\r\n\r\n    /**\r\n     *\r\n     * @param visibility\r\n     */\r\n    function swapAnimationLayerVisibility(visibility) {\r\n      const layerManager = viewer.getLayerManager();\r\n\r\n      layerManager.setLayerVisibility(dataSourceLayer.name, !visibility);\r\n      layerManager.setLayerVisibility(animationLayer.name, visibility);\r\n    }\r\n\r\n    /* endregion private methods */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param mapViewer\r\n       */\r\n      setViewer: _.once(mapViewer => viewer = mapViewer),\r\n\r\n      /**\r\n       *\r\n       */\r\n      loadAnimationObjects() {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        animationLayer  = layerManager.getLayer(ROAM_ASSETS_ANIMATION);\r\n        dataSourceLayer = layerManager.getLayer(ROAM_ASSETS_HISTORY);\r\n\r\n        /*\r\n         * Copy marker objects from data source layer (ROAM_ASSETS_HISTORY)\r\n         * to animation layer (ROAM_ASSETS_ANIMATION).\r\n         */\r\n        layerManager.copyObjects(animationLayer.name, dataSourceLayer.name);\r\n\r\n        instance.setAnimationObjects(animationLayer.getObjects());\r\n\r\n        instance.stopAnimation();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objects\r\n       */\r\n      setAnimationObjects(objects) {\r\n\r\n        if (_.isArray(objects)) {\r\n          animationObjects = objects;\r\n          instance.setMaxStep(objects.length);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param step\r\n       */\r\n      setCurrentStep(step) {\r\n        currentStep = step;\r\n\r\n        viewer.getControls().onAnimationCurrentStepChanged(step);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {number}\r\n       */\r\n      getMaxStep() {\r\n        return maxStep;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param step\r\n       */\r\n      setMaxStep(step) {\r\n        maxStep = step;\r\n\r\n        viewer.getControls().onAnimationMaxStepChanged(step);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      setAnimationInfo(info) {\r\n        animationInfo = info;\r\n\r\n        viewer.getControls().onAnimationInfoChanged(info);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param speed\r\n       */\r\n      setAnimationSpeed(speed) {\r\n        const min = 0.1;\r\n\r\n        /*\r\n         * No animation with lapse under 100 ms.\r\n         */\r\n        if (speed <= min) {\r\n          speed = min;\r\n        }\r\n\r\n        lapse = speed * 1000;\r\n\r\n        if (instance.isAnimating()) {\r\n          instance.pauseAnimation();\r\n          instance.startAnimation();\r\n        }\r\n\r\n        viewer.getControls().onAnimationSpeedChanged(speed);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param length\r\n       */\r\n      setTrailLength(length) {\r\n\r\n        if (length >= 0) {\r\n          trailLength = length;\r\n\r\n          viewer.getControls().onAnimationTrailLengthChanged(length);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      doStep() {\r\n        currentAnimationObject = animationObjects[currentStep - 1];\r\n\r\n        /*\r\n         * Black magic for interpolating visibility based on the\r\n         * trail length.\r\n         */\r\n        const maxStep = instance.getMaxStep();\r\n\r\n        for (let i = 0; i <= trailLength; i++) {\r\n          const c = i + 1;\r\n          const a = currentStep - c;\r\n\r\n          if (a >= 0 && a < maxStep) {\r\n            const animationObject = animationObjects[a];\r\n            const opacity         = (trailLength - i) / trailLength;\r\n\r\n            animationObject.setVisible(opacity > 0);\r\n            /*\r\n             * P.S. In HERE Maps, there is this hidden call\r\n             * to `.setVisibility(opacity > 0)` inside the\r\n             * asynchronous callback method `img.onload`.\r\n             * This is yet another black magic since setting\r\n             * opacity of map object in HERE Maps API is not\r\n             * really straight-forward as in Google Maps.\r\n             */\r\n            animationObject.setOpacity(opacity);\r\n          }\r\n        }\r\n\r\n        const currentObjectPosition = currentAnimationObject.getPosition();\r\n\r\n        //instance.drawAnimationPathLineObject(currentObjectPosition);\r\n\r\n        if (viewer.isAutoFocus()) {\r\n\r\n          /*\r\n           * TODO: Implement a proper auto-focus behavior.\r\n           */\r\n          viewer.setCenter(currentObjectPosition);\r\n        }\r\n\r\n        currentAnimationObjectLabel\r\n          .setMapObject(currentAnimationObject)\r\n          .setText(instance.getCurrentAnimationObjectInfo())\r\n          .updatePosition()\r\n          .setVisible(true);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param step\r\n       */\r\n      stepTo(step) {\r\n\r\n        if (step > 0 && step <= maxStep) {\r\n          instance.setCurrentStep(step);\r\n\r\n          if (!instance.isAnimating()) {\r\n            instance.beforeAnimation();\r\n          }\r\n\r\n          instance.doStep();\r\n          instance.setAnimationInfo(instance.getCurrentAnimationObjectInfo());\r\n        } else {\r\n          instance.stopAnimation();\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      step() {\r\n        instance.stepTo(currentStep + 1);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      isAnimating() {\r\n        return _.isFinite(animationId);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      pauseAnimation() {\r\n        clearInterval(animationId);\r\n        animationId = NaN;\r\n        viewer.getControls().onAnimationStateChanged(\r\n          AnimationManager.ANIMATION_STATES.PAUSE);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      stopAnimation() {\r\n\r\n        if (_.isBoolean(wasAutoRefresh)) {\r\n          viewer.setAutoRefresh(wasAutoRefresh);\r\n          wasAutoRefresh = undefined;\r\n        }\r\n\r\n        if (instance.isAnimating()) {\r\n          clearInterval(animationId);\r\n          animationId = NaN;\r\n        }\r\n\r\n        instance.afterAnimation();\r\n        viewer.getControls().onAnimationStateChanged(\r\n          AnimationManager.ANIMATION_STATES.STOP);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      startAnimation() {\r\n\r\n        if (_.isUndefined(wasAutoRefresh)) {\r\n\r\n          /*\r\n           * Prevent polling when animating.\r\n           */\r\n          wasAutoRefresh = viewer.isAutoRefresh();\r\n          viewer.setAutoRefresh(false);\r\n        }\r\n\r\n        if (!instance.isAnimating()) {\r\n          instance.beforeAnimation();\r\n\r\n          animationId = setInterval(() => {\r\n            instance.step();\r\n          }, lapse);\r\n        }\r\n\r\n        viewer.getControls().onAnimationStateChanged(\r\n          AnimationManager.ANIMATION_STATES.START);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      beforeAnimation() {\r\n        viewer.getLayerManager().setAllObjectsVisibility(animationLayer.name, false);\r\n        swapAnimationLayerVisibility(true);\r\n\r\n        if (!currentAnimationObjectLabel) {\r\n          currentAnimationObjectLabel = viewer.getMapObjectLabelFactory().create();\r\n        }\r\n\r\n        currentAnimationObjectLabel.setVisible(false);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      afterAnimation() {\r\n        instance.setCurrentStep(0);\r\n        swapAnimationLayerVisibility(false);\r\n\r\n        if (currentAnimationObjectLabel) {\r\n          currentAnimationObjectLabel.setVisible(false);\r\n        }\r\n\r\n        instance.setAnimationInfo((instance.getMaxStep() > 0) ? 'Ready.' : 'Inactive.');\r\n\r\n        //instance.removeAnimationPathLineObject();\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      getCurrentAnimationObjectInfo() {\r\n        let info = '';\r\n\r\n        if (currentAnimationObject) {\r\n          info = currentAnimationObject.getData('description');\r\n        }\r\n\r\n        return info;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param position\r\n       */\r\n      drawAnimationPathLineObject(position) {\r\n        let coordinates = [];\r\n\r\n        if (!animationPathLineObject) {\r\n          const position0 = animationObjects[0].getPosition();\r\n\r\n          coordinates = [\r\n            position0.longitude, position0.latitude,\r\n            position.longitude, position.latitude,\r\n          ];\r\n\r\n          animationPathLineObject =\r\n            viewer\r\n              .getMapObjectFactory()\r\n              .create({\r\n                objectModel: {\r\n                  coordinates,\r\n                  shapeType: 'line',\r\n                  options  : {\r\n                    styleName: 'animationPath',\r\n                  },\r\n                },\r\n              });\r\n\r\n          viewer.addObject(animationPathLineObject);\r\n\r\n        } else {\r\n\r\n          /*\r\n           * Update the path line.\r\n           */\r\n          coordinates = animationPathLineObject.objectModel.coordinates;\r\n          coordinates.push(position.latitude, position.longitude);\r\n          animationPathLineObject.setCoordinates(coordinates);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      removeAnimationPathLineObject() {\r\n\r\n        if (animationPathLineObject) {\r\n          viewer.removeObject(animationPathLineObject);\r\n          animationPathLineObject = undefined;\r\n        }\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n  })\r\n  .static({\r\n\r\n    /**\r\n     *\r\n     * @constant\r\n     */\r\n    ANIMATION_STATES: {\r\n      PAUSE: 0,\r\n      STOP : 1,\r\n      START: 2,\r\n    },\r\n  });\r\n\r\nexport { AnimationManager as default, AnimationManager };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/manager/animation-manager.js\n **/","/**\r\n * Created by Glenn on 2015-06-29.\r\n */\r\n\r\nimport App from 'app';\r\nimport { LayerManager } from './manager/layer-manager';\r\nimport { Styler } from '../styler';\r\n\r\nconst { ROAM_ASSETS_HISTORY, ROAM_ASSETS_ANIMATION } = LayerManager.ROAM_LAYERS;\r\nconst styler = Styler.getInstance();\r\n\r\n/**\r\n * Abstract factory for creating abstract map object.\r\n * @abstract\r\n */\r\nconst MapObject = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    objectModel: undefined,\r\n    viewer     : undefined,\r\n    /**\r\n     *\r\n     */\r\n    id         : '', // -> layerName-domainObjectTypeId\r\n    layerName  : '',\r\n    roamObject : undefined,\r\n  })\r\n  .methods({\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getFactory() {\r\n      return this.viewer.getMapObjectFactory();\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getFactoryMethod(shapeType) {\r\n      const factory        = this.getFactory();\r\n      const { createMarker, createPolygon,\r\n              createRectangle, createCircle, createPolyline, } = factory;\r\n      const factoryMethods = {\r\n        /*\r\n         * For reading (rendering) map object from the backend.\r\n         */\r\n        marker    : createMarker,\r\n        area      : createPolygon,\r\n        rectangle : createPolygon,\r\n        circle    : createPolygon,\r\n        pass      : createPolygon,\r\n        /*\r\n         * For creating (editing) map object in the frontend.\r\n         */\r\n        point     : createMarker,\r\n        polygon   : createPolygon,\r\n        rectangle2: createRectangle,\r\n        circle2   : createCircle,\r\n        line      : createPolyline,\r\n      };\r\n\r\n      const factoryMethod = factoryMethods[shapeType];\r\n\r\n      if (!_.isFunction(factoryMethod)) {\r\n        throw new Error(`Invalid shape type: ${shapeType}.`);\r\n      }\r\n\r\n      return factoryMethod;\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getNativeObject() {\r\n      throw new Error('.getNativeObject() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param type\r\n     * @param listener\r\n     */\r\n    addEventListener(type, listener) {\r\n      throw new Error('.addEventListener() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param type\r\n     * @param listener\r\n     */\r\n    removeEventListener(type, listener) {\r\n      throw new Error('.removeEventListener() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    createDefaultObjectModel() {\r\n      const { roamObject }  = this;\r\n      const shapeType   = (roamObject.shapeType || 'marker').toLowerCase();\r\n      const objectModel = {\r\n        shapeType,\r\n      };\r\n      const markerTyped = (shapeType === 'marker');\r\n      const { latitude, longitude } = roamObject;\r\n\r\n      if (markerTyped) {\r\n        _.assign(objectModel, {\r\n          lat    : latitude,\r\n          lng    : longitude,\r\n          options: {\r\n            icon: {\r\n              model: styler.getRoamIcon(roamObject,\r\n\r\n                /**\r\n                 * .png fallback enabled for GM in IE.\r\n                 * \"It seems that Google Maps doesn't\r\n                 * really support using SVG images for\r\n                 * markers at the moment. This fact is\r\n                 * easy to overlook, because it turns\r\n                 * out that SVG marker images do actually\r\n                 * work in, eg. Chrome and Opera.\"\r\n                 * @see http://stackoverflow.com/a/26608307/2013891\r\n                 */\r\n                !(this.viewer.moduleName.match(/googlemaps/i) &&\r\n                  kendo.support.browser.msie)),\r\n            },\r\n          },\r\n        });\r\n\r\n      } else {\r\n        const fenceType = roamObject.fenceType || 'Unknown';\r\n\r\n        _.assign(objectModel, {\r\n          coordinates: this.getFactory()\r\n                           .toLatLngArray(roamObject.coordinates),\r\n          options    : {\r\n            styleName: `geofence${fenceType}`,\r\n          },\r\n        });\r\n      }\r\n\r\n      return objectModel;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    createDefaultRoamData() {\r\n      const { roamObject, layerName }  = this;\r\n      const { asset }  = roamObject;\r\n      let name        = asset ? asset.name : roamObject.name;\r\n      let description = name;\r\n\r\n      if (layerName === ROAM_ASSETS_HISTORY ||\r\n          layerName === ROAM_ASSETS_ANIMATION) {\r\n\r\n        name        = `${asset.name} ${roamObject.name}`;\r\n        description = `${roamObject.name} ${App.util.format.dateTime(roamObject.eventTime)}`;\r\n      }\r\n\r\n      const { fenceType } = roamObject;\r\n      if (fenceType) {\r\n        description = `${name} [${fenceType}]`;\r\n      }\r\n\r\n      const { domainObjectType, domainObjectTypeId, id } = roamObject;\r\n      return {\r\n        domainObjectType,\r\n        domainObjectTypeId,\r\n        name,\r\n        description,\r\n        layerName,\r\n        domainObjectId: id,\r\n      };\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {Function}\r\n     */\r\n    createDefaultClickListener() {\r\n\r\n      return (e) => {\r\n        e.stopPropagation = e.stopPropagation || e.stop;\r\n        e.stopPropagation();\r\n\r\n        let position;\r\n\r\n        if (_.isFunction(this.getPosition)) {\r\n          position = this.getPosition();\r\n        } else {\r\n          position = this.getCenterBounds();\r\n        }\r\n\r\n        const { viewer } = this;\r\n        const px = viewer.geoToPixel(position);\r\n        const { x, y } = px;\r\n\r\n        viewer.createMapInfoBox({\r\n            parentElement   : viewer.container,\r\n            position        : {\r\n              top : y,\r\n              left: x,\r\n            },\r\n            domainObjectType: this.getData('domainObjectType'),\r\n            domainObjectId  : this.getData('domainObjectId'),\r\n            objectName      : this.getData('name'),\r\n          },\r\n          (mapInfoBox) => {\r\n            mapInfoBox.setGeoPosition(position);\r\n            mapInfoBox.show();\r\n          });\r\n      };\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {Function}\r\n     */\r\n    createDefaultMouseEnterListener() {\r\n\r\n      return () => {\r\n        let hoverLabel = this.getData('hoverLabel');\r\n\r\n        if (!hoverLabel) {\r\n          hoverLabel = this.viewer\r\n                           .getMapObjectLabelFactory()\r\n                           .create({ mapObject: this });\r\n          hoverLabel.setText(this.getData('name'));\r\n          this.setData('hoverLabel', hoverLabel);\r\n        } else {\r\n          hoverLabel.updatePosition();\r\n        }\r\n\r\n        hoverLabel.setVisible(true);\r\n      };\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {Function}\r\n     */\r\n    createDefaultMouseLeaveListener() {\r\n\r\n      return () => {\r\n        const hoverLabel = this.getData('hoverLabel');\r\n\r\n        if (hoverLabel) {\r\n          hoverLabel.setVisible(false);\r\n        }\r\n      };\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {Function}\r\n     */\r\n    createDefaultVisibilityChangedListener() {\r\n\r\n      return () => {\r\n        const { viewer, layerName } = this;\r\n        const labelsVisibilityEnabled =\r\n                viewer\r\n                  .getLayerManager()\r\n                  .getObjectLabelsVisibility(layerName);\r\n\r\n        this.setLabelVisible(labelsVisibilityEnabled);\r\n      };\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param key\r\n     */\r\n    getData(key) {\r\n      throw new Error('.getData() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param key\r\n     * @param value\r\n     */\r\n    setData(key, value) {\r\n      throw new Error('.setData() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param effective\r\n     */\r\n    isVisible(effective) {\r\n      throw new Error('.isVisible() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param visible\r\n     */\r\n    setVisible(visible) {\r\n      throw new Error('.setVisible() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*}\r\n     */\r\n    getLabel() {\r\n      return this.getData('objectLabel');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    isLabelVisible() {\r\n      const label = this.getLabel();\r\n\r\n      return Boolean(label && label.isVisible());\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param visible\r\n     */\r\n    setLabelVisible(visible) {\r\n      let label = this.getLabel();\r\n\r\n      if (!label) {\r\n        label = this.viewer\r\n                    .getMapObjectLabelFactory()\r\n                    .create({ mapObject: this });\r\n        this.setData('objectLabel', label);\r\n      } else {\r\n        this.updateLabelPosition();\r\n      }\r\n\r\n      label.setVisible(visible);\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    updateLabelPosition() {\r\n      const label = this.getLabel();\r\n\r\n      if (label) {\r\n        label.updatePosition();\r\n      }\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    destroyLabel() {\r\n      const label = this.getLabel();\r\n\r\n      if (label) {\r\n        label.destroy();\r\n        this.setData('objectLabel', undefined);\r\n      }\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    isWithinViewBounds() {\r\n      throw new Error('.isWithinViewBounds() method not implemented.');\r\n    },\r\n  })\r\n  .static({\r\n\r\n    /**\r\n     *\r\n     * @param objectModel\r\n     * @param viewer\r\n     */\r\n    createMarker(objectModel, viewer) {\r\n      throw new Error('.createMarker() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param objectModel\r\n     * @param viewer\r\n     */\r\n    createPolyline(objectModel, viewer) {\r\n      throw new Error('.createPolyline() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param objectModel\r\n     * @param viewer\r\n     */\r\n    createPolygon(objectModel, viewer) {\r\n      throw new Error('.createPolygon() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param objectModel\r\n     * @param viewer\r\n     */\r\n    createRectangle(objectModel, viewer) {\r\n      throw new Error('.createRectangle() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param objectModel\r\n     * @param viewer\r\n     */\r\n    createCircle(objectModel, viewer) {\r\n      throw new Error('.createCircle() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param styleName\r\n     * @param viewer\r\n     */\r\n    createNormalizedShapeStyle(styleName, viewer) {\r\n      const shapeStyles = styler.getShapeStyles();\r\n      let style         = { ...shapeStyles[styleName] };\r\n\r\n      if (styleName.match(/geofence/i)) {\r\n        _.assign(style, shapeStyles.geofence);\r\n      }\r\n\r\n      style = viewer\r\n        .getMapObjectFactory()\r\n        .normalizeShapeStyle(style);\r\n\r\n      return style;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param style\r\n     */\r\n    normalizeShapeStyle(style) {\r\n      throw new Error('.normalizeShapeStyle() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param lngLats\r\n     * @returns {*}\r\n     */\r\n    toLatLngArray(lngLats) {\r\n\r\n      return _.map(lngLats, (el, i, arr) => {\r\n        const n        = i + 1;\r\n        let coordinate = arr[i + 1];\r\n\r\n        if (n % 2 === 0) {\r\n          coordinate = arr[i - 1];\r\n        }\r\n\r\n        return coordinate;\r\n      });\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param latLngs\r\n     * @returns {*}\r\n     */\r\n    toPoints(latLngs) {\r\n\r\n      return _(latLngs)\r\n        .map((coordinate, i) => {\r\n          const n = i + 1;\r\n          let point;\r\n\r\n          if (n % 2 === 0) {\r\n            const lat = latLngs[i - 1];\r\n            const lng = latLngs[i];\r\n\r\n            point = {\r\n              lat,\r\n              lng,\r\n            };\r\n          }\r\n\r\n          return point;\r\n        })\r\n        .compact()\r\n        .value();\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param points\r\n     * @returns {Array}\r\n     */\r\n    toCoordinates(points) {\r\n\r\n      return _.transform(points, (coordinates, point) => {\r\n        let { lat, lng } = point;\r\n        lat = _.isFinite(parseFloat(lat)) ? lat : point.lat();\r\n        lng = _.isFinite(parseFloat(lng)) ? lng : point.lng();\r\n\r\n        coordinates.push(lat, lng);\r\n      });\r\n    },\r\n  });\r\n\r\nexport { MapObject as default, MapObject };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/map-object.js\n **/","/**\r\n * Created by Glenn on 2015-08-13.\r\n */\r\n\r\n/**\r\n *\r\n * @interface\r\n */\r\nconst RoutingEngine = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    routingManager: undefined,\r\n    viewer        : undefined,\r\n  })\r\n  .methods({\r\n\r\n    /**\r\n     *\r\n     */\r\n    searchPlaces(query) {\r\n      throw new Error('.searchPlaces() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    calculateRoute() {\r\n      throw new Error('.calculateRoute() method not implemented.');\r\n    },\r\n  });\r\n\r\nexport { RoutingEngine as default, RoutingEngine };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/routing-engine.js\n **/","/**\r\n * Created by Glenn on 2015-06-28.\r\n */\r\n\r\nimport App from 'app';\r\nimport { LayerManager } from './manager/layer-manager';\r\nimport { AnimationManager } from './manager/animation-manager';\r\nimport { EditManager } from './manager/edit-manager';\r\nimport { RoutingManager } from './manager/routing-manager';\r\nimport { MapObjectLabel } from './map-object-label';\r\n\r\nconst { config, widget } = App;\r\nconst printTemplate = require('../ui/tpl/print.tpl');\r\nconst { ROAM_ASSETS, ROAM_ASSETS_HISTORY, } = LayerManager.ROAM_LAYERS;\r\n\r\n/**\r\n *\r\n * @abstract\r\n */\r\nconst Viewer = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    moduleName                 : '',\r\n    /**\r\n     *\r\n     */\r\n    name                       : '',\r\n    /**\r\n     *\r\n     */\r\n    container                  : undefined,\r\n    domainObjectType           : '',\r\n    domainObjectId             : '',\r\n    /**\r\n     *\r\n     */\r\n    alarmEventIds              : undefined,\r\n    /**\r\n     *\r\n     */\r\n    autoRefresh                : false,\r\n    autoFocus                  : false,\r\n    /**\r\n     *\r\n     */\r\n    rememberLastViewportEnabled: false,\r\n    /**\r\n     *\r\n     */\r\n    lazyLoadingEnabled         : false,\r\n  })\r\n  .methods({\r\n\r\n    /**\r\n     * Transform `moduleName` to some human-friendly name, like:\r\n     * 'heremaps' -> 'Here Maps'\r\n     * 'googlemaps' -> 'Google Maps'\r\n     * @returns {string}\r\n     */\r\n    getFriendlyName() {\r\n      return _.startCase(this.moduleName.replace(/maps/i, ' maps'));\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {string}\r\n     */\r\n    getLogo() {\r\n      return `images/maps/logos/${this.moduleName.replace(/maps/i, '')}-logo.png`;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param type\r\n     * @param listener\r\n     */\r\n    addEventListener(type, listener) {\r\n      throw new Error('.addEventListener() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param type\r\n     * @param listener\r\n     */\r\n    removeEventListener(type, listener) {\r\n      throw new Error('.removeEventListener() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param type\r\n     * @param listener\r\n     */\r\n    onceEventListener(type, listener) {\r\n      throw new Error('.onceEventListener() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {Function}\r\n     */\r\n    createDefaultClickListener() {\r\n\r\n      return () => {\r\n        const mapInfoBox = this.getMapInfoBox();\r\n\r\n        if (mapInfoBox && mapInfoBox.isVisible()) {\r\n          mapInfoBox.hide();\r\n        }\r\n      };\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {Function}\r\n     */\r\n    createDefaultMapViewChangeEndListener() {\r\n\r\n      return () => {\r\n        const mapInfoBox = this.getMapInfoBox();\r\n\r\n        if (mapInfoBox && mapInfoBox.isVisible()) {\r\n          const { x, y } = this.geoToPixel(mapInfoBox.getGeoPosition());\r\n          const { top, left } = this.container.offset();\r\n\r\n          mapInfoBox.setPosition({\r\n            top : y + top,\r\n            left: x + left,\r\n          });\r\n        }\r\n      };\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {Function}\r\n     */\r\n    createDefaultMouseMoveListener() {\r\n\r\n      const listener = (e) => {\r\n        const coordinatesDisplay = this.getCoordinatesDisplay();\r\n\r\n        if (coordinatesDisplay) {\r\n          const { currentPointer, latLng } = e;\r\n          const { viewportX, viewportY } = currentPointer;\r\n          let point;\r\n\r\n          if (currentPointer) {\r\n            point = this.pixelToGeo({\r\n              x: viewportX,\r\n              y: viewportY,\r\n            });\r\n\r\n          } else if (latLng) {\r\n            _.assign(point, {\r\n              lat: latLng.lat(),\r\n              lng: latLng.lng(),\r\n            });\r\n          }\r\n\r\n          const { lat, lng } = point;\r\n\r\n          coordinatesDisplay.setCoordinates(lng, lat);\r\n\r\n        } else {\r\n          this.removeEventListener('mousemove', listener);\r\n        }\r\n      };\r\n\r\n      return listener;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param overlay\r\n     */\r\n    addOverlay(overlay) {\r\n      throw new Error('.addOverlay() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param mapObject\r\n     */\r\n    addObject(mapObject) {\r\n      this.addObjects([mapObject]);\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param mapObjects\r\n     */\r\n    addObjects(mapObjects) {\r\n      throw new Error('.addObjects() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param mapObject\r\n     */\r\n    removeObject(mapObject) {\r\n      this.removeObjects([mapObject]);\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param mapObjects\r\n     */\r\n    removeObjects(mapObjects) {\r\n      throw new Error('.removeObjects() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getLayerFactory() {\r\n      throw new Error('.getLayerFactory() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getClusteringLayerFactory() {\r\n      throw new Error('.getClusteringLayerFactory() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getMapObjectFactory() {\r\n      throw new Error('.getMapObjectFactory() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {MapObjectLabel}\r\n     */\r\n    getMapObjectLabelFactory() {\r\n      return MapObjectLabel;\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getRoutingEngineFactory() {\r\n      throw new Error('.getRoutingEngineFactory() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param pixel\r\n     */\r\n    pixelToGeo (pixel) {\r\n      throw new Error('.pixelToGeo() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param geo\r\n     */\r\n    geoToPixel(geo) {\r\n      throw new Error('.geoToPixel() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getBoundingBox() {\r\n      throw new Error('.getBoundingBox() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param bbox\r\n     */\r\n    setBoundingBox(bbox) {\r\n      throw new Error('.setBoundingBox() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {*[]}\r\n     */\r\n    getCenter() {\r\n      throw new Error('.getCenter() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param center\r\n     */\r\n    setCenter(center) {\r\n      throw new Error('.setCenter() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getZoom() {\r\n      throw new Error('.getZoom() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getScale() {\r\n      const zoom = (this.getZoom() > 19) ? 19 : this.getZoom();\r\n\r\n      return _.round(this.getScales()[zoom]);\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param zoom\r\n     */\r\n    zoomToLevel(zoom) {\r\n      throw new Error('.zoomToLevel() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param scale\r\n     */\r\n    zoomToScale(scale) {\r\n\r\n      if (scale >= 0) {\r\n        const zoom = _.findIndex(this.getScales(), s => (s <= scale));\r\n\r\n        this.zoomToLevel(zoom);\r\n      }\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param layerName\r\n     */\r\n    zoomToLayer(layerName) {\r\n      const layer = this.getLayerManager().getLayer(layerName);\r\n\r\n      if (layer) {\r\n        this.setBoundingBox(layer.getBounds());\r\n      }\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param layerName\r\n     * @param objectId\r\n     */\r\n    zoomToObject(layerName, objectId) {\r\n      const layerManager = this.getLayerManager();\r\n      const mapObject    = layerManager.getObject(layerName, objectId);\r\n\r\n      if (mapObject) {\r\n        this.onceEventListener('mapviewchangeend', () => {\r\n\r\n          if (!layerManager.testIsPositionLayerName(layerName) ||\r\n              this.isAssetCategoryFilterEnabled()) {\r\n\r\n            layerManager.setObjectVisibility(layerName, objectId, true);\r\n          } else {\r\n\r\n            /*\r\n             * The implementation of the asset position\r\n             * objects without asset category filter (classic\r\n             * list) suggests partially showing/hiding them\r\n             * doesn't make sense: it is either you \"show or\r\n             * hide them _all_\". =)\r\n             */\r\n            layerManager.setAllObjectsVisibility(layerName, true);\r\n          }\r\n        });\r\n\r\n        if (_.isFunction(mapObject.getPosition)) {\r\n          const { lat, lng }           = mapObject.getPosition();\r\n          const preferredZoomLevel = _.parseInt(\r\n            localStorage.getItem('SINGLE_ASSET_PREFERRED_ZOOM_LEVEL'));\r\n          const zoomLevel          = preferredZoomLevel || 16;\r\n\r\n          this.panTo(lng, lat);\r\n          this.zoomToLevel(zoomLevel);\r\n        } else {\r\n          this.setBoundingBox(mapObject.getBounds());\r\n        }\r\n\r\n        if (_.isFunction(this.shake)) {\r\n          this.shake();\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    zoomToAll() {\r\n      throw new Error('.zoomToAll() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param lng\r\n     * @param lat\r\n     */\r\n    panTo(lng, lat) {\r\n      this.setCenter({ lat, lng });\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param x\r\n     * @param y\r\n     */\r\n    panBy(x, y) {\r\n      const s  = this.geoToPixel(this.getCenter());\r\n      const px = {\r\n        x: s.x + x,\r\n        y: s.y + y,\r\n      };\r\n\r\n      this.setCenter(this.pixelToGeo(px));\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    refresh() {\r\n      throw new Error('.refresh() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    resize() {\r\n      throw new Error('.resize() method not implemented.');\r\n    },\r\n\r\n    /**\r\n     * The projection promise is fulfilled by default, but in Google\r\n     * Maps viewer, this is another story.\r\n     * @returns {*}\r\n     * @see web2/js/maps/viewers/googlemaps/viewer.js\r\n     */\r\n    resolveProjection() {\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param [directions]\r\n     */\r\n    print(directions) {\r\n      const { title } = document;\r\n      const body            = $('body');\r\n      const backgroundColor = body.css('background-color');\r\n      const printContent    = $(printTemplate);\r\n\r\n      document.title = `${this.getFriendlyName()} Print`;\r\n\r\n      body\r\n        .css('background-color', 'transparent')\r\n        .prepend(printContent);\r\n\r\n      const logo            = $('.mp-logo');\r\n      const screenshot      = $('.mp-screenshot');\r\n      const logoDefer       = $.Deferred();\r\n      const directionsDefer = $.Deferred();\r\n\r\n      logo\r\n        .attr('src', this.getLogo())\r\n        .on('load error', () => logoDefer.resolve());\r\n\r\n      if (directions) {\r\n\r\n        _.forEach($('.mp-directions'),\r\n          (elem) => {\r\n            const mapDirection = $(elem);\r\n            const compiled     = _.template(_.unescape(mapDirection.html()));\r\n\r\n            mapDirection\r\n              .html(compiled({\r\n                directions,\r\n              }))\r\n              .toggleClass('hidden', false);\r\n          });\r\n\r\n        const maneuverIcons  = $('.mp-maneuver-icon');\r\n        let loadedIconsCount = 0;\r\n\r\n        _.forEach(maneuverIcons,\r\n          (elem) => {\r\n            const maneuverIcon = $(elem);\r\n\r\n            maneuverIcon\r\n              .attr('src', maneuverIcon.data('iconpath'))\r\n              .on('load error', (e) => {\r\n\r\n                if (e.type === 'error') {\r\n                  $(this).remove();\r\n                }\r\n\r\n                loadedIconsCount = loadedIconsCount + 1;\r\n\r\n                if (loadedIconsCount === maneuverIcons.length) {\r\n                  directionsDefer.resolve();\r\n                }\r\n              });\r\n          });\r\n      } else {\r\n        directionsDefer.resolve();\r\n      }\r\n\r\n      $\r\n        .when(logoDefer, directionsDefer)\r\n        .then(() => {\r\n          const mapCanvas                  = this.container;\r\n          const mapCanvasContainer         = mapCanvas.parent();\r\n          const toggleExtensionsVisibility = (visibility) => {\r\n\r\n            _(this.getExtensions())\r\n              .compact()\r\n              .forEach(extension => extension.setVisible(visibility));\r\n          };\r\n\r\n          screenshot\r\n            .height(mapCanvas.height())\r\n            .append(mapCanvas);\r\n\r\n          toggleExtensionsVisibility(false);\r\n\r\n          /*\r\n           * Heads up this line below! Detaching main part of\r\n           * the document body, temporarily replace it by the\r\n           * print template, and attach it back after printing.\r\n           * An extreme approach for supporting IE. x\r\n           */\r\n          const content = body\r\n            .children()\r\n            .not('script')\r\n            .not(printContent)\r\n            .detach();\r\n\r\n          /**\r\n           * Make Bootstrap like Google Maps a bit more when printing ;)\r\n           * @see http://stackoverflow.com/a/11742716/2013891\r\n           */\r\n          const patchedStyle = $('<style>')\r\n            .attr('media', 'print')\r\n            .text(`\r\n              img { max-width: none !important; }\r\n              a[href]:after { content: \"\"; }\r\n              `)\r\n            .appendTo('head');\r\n\r\n          window.print();\r\n\r\n          /*\r\n           * Revert document title, background color of the\r\n           * body, and the main content to its original state.\r\n           */\r\n          document.title = title;\r\n\r\n          body\r\n            .css('background-color', backgroundColor)\r\n            .prepend(content);\r\n\r\n          mapCanvasContainer.prepend(mapCanvas);\r\n          toggleExtensionsVisibility(true);\r\n\r\n          printContent.remove();\r\n          patchedStyle.remove();\r\n        });\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    isModernBrowser() {\r\n      const msIE              = document.documentMode;\r\n      const evergreenBrowsers = !msIE;\r\n\r\n      /*\r\n       * The 'evergreen' browsers (non-IE):\r\n       * Chrome, Safari, Firefox and Opera.\r\n       */\r\n      return (evergreenBrowsers || msIE >= 11);\r\n    },\r\n  })\r\n  .init(({ instance }) => {\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     * View\r\n     */\r\n    let controls;\r\n\r\n    /*\r\n     * Model managers.\r\n     */\r\n    const layerManager     = LayerManager.create();\r\n    const animationManager = AnimationManager.create();\r\n    const editManager      = EditManager.create();\r\n    const routingManager   = RoutingManager.create();\r\n\r\n    /*\r\n     *\r\n     */\r\n    let layerDataFetcher;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let singleAssetModeEnabled = false;\r\n    /*\r\n     *\r\n     */\r\n    let pollId = NaN;\r\n    /*\r\n     *\r\n     */\r\n    let autoLabelingActivated = false;\r\n\r\n    /**\r\n     * The scales for each zoom level.\r\n     * @see http://gis.stackexchange.com/questions/7430/what-ratio-scales-do-google-maps-zoom-levels-correspond-to\r\n     */\r\n    const scales = [\r\n      591657550.500000,\r\n      295828775.300000,\r\n      147914387.600000,\r\n      73957193.820000,\r\n      36978596.910000,\r\n      18489298.450000,\r\n      9244649.227000,\r\n      4622324.614000,\r\n      2311162.307000,\r\n      1155581.153000,\r\n      577790.576700,\r\n      288895.288400,\r\n      144447.644200,\r\n      72223.822090,\r\n      36111.911040,\r\n      18055.955520,\r\n      9027.977761,\r\n      4513.988880,\r\n      2256.994440,\r\n      1128.497220,\r\n    ];\r\n\r\n    /*\r\n     *\r\n     */\r\n    const dataSelectionOptions = {\r\n      latest: true,\r\n      from  : undefined,\r\n      to    : undefined,\r\n    };\r\n\r\n    const presetIntervalActions = {\r\n      TODAY(min, max) {\r\n        min.setHours(0, 0, 0, 0);\r\n        max.setHours(23, 59, 0, 0);\r\n      },\r\n\r\n      YESTERDAY(min, max) {\r\n        min.setDate(max.getDate() - 1);\r\n        min.setHours(0, 0, 0, 0);\r\n        max.setDate(max.getDate() - 1);\r\n        max.setHours(23, 59, 0, 0);\r\n      },\r\n\r\n      LAST_24H(min, max) {\r\n        min.setDate(max.getDate() - 1);\r\n      },\r\n\r\n      LAST_48H(min, max) {\r\n        min.setDate(max.getDate() - 2);\r\n      },\r\n    };\r\n\r\n    /*\r\n     *\r\n     */\r\n    let useClustersActivated             = false;\r\n    let connectHistoryPositionsActivated = false;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let assetStatusFilters = [];\r\n\r\n    /*\r\n     *\r\n     */\r\n    let animationFeatureActivated = false;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let mapInfoBox;\r\n\r\n    /*\r\n     * Extensions.\r\n     */\r\n    let legend;\r\n    let dateRangeSlider;\r\n    let coordinatesDisplay;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getLayerManager() {\r\n        return layerManager;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getAnimationManager() {\r\n        return animationManager;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getEditManager() {\r\n        return editManager;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getRoutingManager() {\r\n        return routingManager;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getControls() {\r\n        return controls;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param mapControls\r\n       */\r\n      setControls(mapControls) {\r\n        controls = mapControls;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param listener\r\n       */\r\n      setListener(listener) {\r\n        instance.setControls(listener);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getLayerDataFetcher() {\r\n        return layerDataFetcher;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param mapLayerDataFetcher\r\n       */\r\n      setLayerDataFetcher(mapLayerDataFetcher) {\r\n        layerDataFetcher = mapLayerDataFetcher;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getMapInfoBox() {\r\n        return mapInfoBox;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      createMapInfoBox(options, onMapInfoBoxInitialized) {\r\n\r\n        if (!mapInfoBox) {\r\n          mapInfoBox = new widget.MapInfo(options, onMapInfoBoxInitialized);\r\n        } else {\r\n          mapInfoBox.init(options, onMapInfoBoxInitialized);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getLegend() {\r\n        return legend;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param mapLegend\r\n       */\r\n      setLegend(mapLegend) {\r\n        legend = mapLegend;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getDateRangeSlider() {\r\n        return dateRangeSlider;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param mapDateRangeSlider\r\n       */\r\n      setDateRangeSlider(mapDateRangeSlider) {\r\n        dateRangeSlider = mapDateRangeSlider;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getCoordinatesDisplay() {\r\n        return coordinatesDisplay;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param mapCoordinatesDisplay\r\n       */\r\n      setCoordinatesDisplay(mapCoordinatesDisplay) {\r\n        coordinatesDisplay = mapCoordinatesDisplay;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*[]}\r\n       */\r\n      getExtensions() {\r\n        return [legend, dateRangeSlider, coordinatesDisplay];\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isSingleAssetModeEnabled() {\r\n        return singleAssetModeEnabled;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param enabled\r\n       */\r\n      setSingleAssetModeEnabled(enabled) {\r\n        singleAssetModeEnabled = enabled;\r\n\r\n        const positionLayerName = singleAssetModeEnabled ?\r\n                                  ROAM_ASSETS_HISTORY : ROAM_ASSETS;\r\n\r\n        layerManager.setPositionLayerName(positionLayerName);\r\n\r\n        controls.onSingleAssetModeStatusChanged(enabled);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param viewBehavior\r\n       */\r\n      setViewBehavior({ autoRefresh, autoFocus, rememberLastViewportEnabled }) {\r\n        instance.setAutoRefresh(autoRefresh);\r\n        instance.setAutoFocus(autoFocus);\r\n        instance.setRememberLastViewportEnabled(rememberLastViewportEnabled);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isAutoRefresh() {\r\n        return instance.autoRefresh;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      setAutoRefresh(activated) {\r\n        instance.autoRefresh = activated;\r\n\r\n        instance.setPollingActivated(activated);\r\n\r\n        controls.onAutoRefreshChanged(activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      setPollingActivated(activated) {\r\n\r\n        if (activated) {\r\n\r\n          if (!_.isFinite(pollId)) {\r\n            pollId = setInterval(() => {\r\n              console.info('.polling()...');\r\n              controls.onPositionsFetchingRequested(true);\r\n            }, config.pollInterval);\r\n          }\r\n\r\n        } else {\r\n          clearInterval(pollId);\r\n          pollId = NaN;\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isAutoFocus() {\r\n        return instance.autoFocus;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      setAutoFocus(activated) {\r\n        instance.autoFocus = activated;\r\n\r\n        if (activated) {\r\n          instance.zoomToLayer(layerManager.getPositionLayerName());\r\n        }\r\n\r\n        controls.onAutoFocusChanged(activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isAutoLabelingActivated() {\r\n        return autoLabelingActivated;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      setAutoLabelingActivated(activated) {\r\n        autoLabelingActivated = activated;\r\n\r\n        _.forEach(layerManager.getLayers(), layer =>\r\n          layerManager.setObjectLabelsVisibility(\r\n            layer.name, layer.isLabelsVisible())\r\n        );\r\n\r\n        controls.onAutoLabelingStatusChanged(activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param enabled\r\n       */\r\n      setRememberLastViewportEnabled(enabled) {\r\n        instance.rememberLastViewportEnabled = enabled;\r\n\r\n        if (enabled) {\r\n          instance.setBoundingBox(JSON.parse(localStorage.getItem('USER_BBOX')));\r\n        } else {\r\n          localStorage.removeItem('USER_BBOX');\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {number[]}\r\n       */\r\n      getScales() {\r\n        return scales;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {{latest: boolean, from: null, to: null}}\r\n       */\r\n      getDataSelectionOptions() {\r\n        return dataSelectionOptions;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param options\r\n       */\r\n      updateDataSelectionOptions(options) {\r\n        _.assign(dataSelectionOptions, options);\r\n\r\n        if (dateRangeSlider) {\r\n          dateRangeSlider.onDataSelectionOptionsChanged(dataSelectionOptions);\r\n        }\r\n\r\n        controls.onDataSelectionOptionsChanged(dataSelectionOptions);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param intervalRange\r\n       * @returns {string}\r\n       */\r\n      selectPresetInterval(intervalRange) {\r\n        const now    = new Date(config.map.now());\r\n        const today  = {\r\n          min: new Date((new Date(now)).setHours(0, 0, 0, 0)),\r\n          max: new Date((new Date(now)).setHours(23, 59, 0, 0)),\r\n        };\r\n        const oneDay = 86400000;\r\n        const { min, max } = intervalRange;\r\n\r\n        const from         = min;\r\n        const to           = max;\r\n        let presetInterval = '-';\r\n\r\n        if (from.getTime() === today.min.getTime() &&\r\n            to.getTime() === today.max.getTime()) {\r\n\r\n          presetInterval = 'TODAY';\r\n\r\n        } else if ((today.max - to) === oneDay &&\r\n                   (today.min - from) === oneDay) {\r\n\r\n          presetInterval = 'YESTERDAY';\r\n\r\n        } else if (to.getTime() === now.getTime() &&\r\n                   (to - from) === oneDay) {\r\n\r\n          presetInterval = 'LAST_24H';\r\n\r\n        } else if (to.getTime() === now.getTime() &&\r\n                   (to - from) === 2 * oneDay) {\r\n\r\n          presetInterval = 'LAST_48H';\r\n        }\r\n\r\n        return presetInterval;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param presetInterval\r\n       * @returns {{min: Date, max: Date}}\r\n       */\r\n      selectIntervalRange(presetInterval) {\r\n        const presetIntervalAction = presetIntervalActions[presetInterval];\r\n\r\n        if (!_.isFunction(presetIntervalAction)) {\r\n          throw new Error(`Invalid preset interval: ${presetInterval}.`);\r\n        }\r\n\r\n        const intervalRange = {\r\n          min: new Date(config.map.now()),\r\n          max: new Date(config.map.now()),\r\n        };\r\n        const { min, max } = intervalRange;\r\n\r\n        presetIntervalAction(min, max);\r\n\r\n        return intervalRange;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      setUseClustersActivated(activated) {\r\n        useClustersActivated = activated;\r\n\r\n        layerManager.setClusteringEnabled(\r\n          layerManager.getPositionLayerName(), activated);\r\n\r\n        controls.onUseClustersStatusChanged(activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isConnectHistoryPositionsActivated() {\r\n        return connectHistoryPositionsActivated;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      setConnectHistoryPositionsActivated(activated) {\r\n        connectHistoryPositionsActivated = activated;\r\n\r\n        layerManager.setEventsConnectorVisibility(activated);\r\n\r\n        controls.onConnectHistoryPositionsStatusChanged(activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      getUniqueAssetStatusFiltersValues() {\r\n\r\n        return _(layerManager.getObjectsByLayer(layerManager.getPositionLayerName()))\r\n          .map('roamObject')\r\n\r\n          //.map('assetStatus')\r\n          /*\r\n           * Future-proofing (@see: `onAssetStatusFiltersChanged()`\r\n           * method in `controller.js`). And, btw, wow, the\r\n           * `flatMap()` method from lodash is smart enough!\r\n           */\r\n          .flatMap('assetStatus')\r\n          .uniq()\r\n          .sortBy()\r\n          .value();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       */\r\n      getSelectedAssetStatusFilters() {\r\n        return assetStatusFilters;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param selectedFilters\r\n       */\r\n      setSelectedAssetStatusFilters(selectedFilters) {\r\n        assetStatusFilters = selectedFilters;\r\n\r\n        controls.onAssetStatusFiltersChanged(selectedFilters);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isAnimationFeatureActivated() {\r\n        return animationFeatureActivated;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      setAnimationFeatureActivated(activated) {\r\n        animationFeatureActivated = activated;\r\n\r\n        if (activated) {\r\n          animationManager.loadAnimationObjects();\r\n        }\r\n\r\n        controls.onAnimationFeatureStatusChanged(activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isAssetCategoryFilterEnabled() {\r\n        return (config.map.assetCategoryFilter &&\r\n                (!instance.isSingleAssetModeEnabled()));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @returns {boolean|*}\r\n       */\r\n      testIsAssetConfigurationFilterEnabled(layerName) {\r\n        return (App.config.map.assetConfigurationFilter &&\r\n                (!this.isSingleAssetModeEnabled()) &&\r\n                layerManager.testIsPositionLayerName(layerName));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isAssetStatusFiltersEnabled() {\r\n        return (App.config.map.assetStatusFilters &&\r\n                (!this.isSingleAssetModeEnabled()));\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    layerManager.setViewer(instance);\r\n    animationManager.setViewer(instance);\r\n    editManager.setViewer(instance);\r\n    routingManager.setViewer(instance);\r\n\r\n    /* endregion init code */\r\n  });\r\n\r\nexport { Viewer as default, Viewer };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/viewer.js\n **/","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./$.to-iobject')\n  , toLength  = require('./$.to-length')\n  , toIndex   = require('./$.to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.array-includes.js\n **/","'use strict';\nvar $            = require('./$')\n  , hide         = require('./$.hide')\n  , redefineAll  = require('./$.redefine-all')\n  , ctx          = require('./$.ctx')\n  , strictNew    = require('./$.strict-new')\n  , defined      = require('./$.defined')\n  , forOf        = require('./$.for-of')\n  , $iterDefine  = require('./$.iter-define')\n  , step         = require('./$.iter-step')\n  , ID           = require('./$.uid')('id')\n  , $has         = require('./$.has')\n  , isObject     = require('./$.is-object')\n  , setSpecies   = require('./$.set-species')\n  , DESCRIPTORS  = require('./$.descriptors')\n  , isExtensible = Object.isExtensible || isObject\n  , SIZE         = DESCRIPTORS ? '_s' : 'size'\n  , id           = 0;\n\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!$has(it, ID)){\n    // can't set id to frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add id\n    if(!create)return 'E';\n    // add missing object id\n    hide(it, ID, ++id);\n  // return object id with prefix\n  } return 'O' + it[ID];\n};\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      strictNew(that, C, NAME);\n      that._i = $.create(null); // index\n      that._f = undefined;      // first entry\n      that._l = undefined;      // last entry\n      that[SIZE] = 0;           // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)$.setDesc(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.collection-strong.js\n **/","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar forOf   = require('./$.for-of')\n  , classof = require('./$.classof');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    var arr = [];\n    forOf(this, false, arr.push, arr);\n    return arr;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.collection-to-json.js\n **/","'use strict';\nvar hide              = require('./$.hide')\n  , redefineAll       = require('./$.redefine-all')\n  , anObject          = require('./$.an-object')\n  , isObject          = require('./$.is-object')\n  , strictNew         = require('./$.strict-new')\n  , forOf             = require('./$.for-of')\n  , createArrayMethod = require('./$.array-methods')\n  , $has              = require('./$.has')\n  , WEAK              = require('./$.uid')('weak')\n  , isExtensible      = Object.isExtensible || isObject\n  , arrayFind         = createArrayMethod(5)\n  , arrayFindIndex    = createArrayMethod(6)\n  , id                = 0;\n\n// fallback for frozen keys\nvar frozenStore = function(that){\n  return that._l || (that._l = new FrozenStore);\n};\nvar FrozenStore = function(){\n  this.a = [];\n};\nvar findFrozen = function(store, key){\n  return arrayFind(store.a, function(it){\n    return it[0] === key;\n  });\n};\nFrozenStore.prototype = {\n  get: function(key){\n    var entry = findFrozen(this, key);\n    if(entry)return entry[1];\n  },\n  has: function(key){\n    return !!findFrozen(this, key);\n  },\n  set: function(key, value){\n    var entry = findFrozen(this, key);\n    if(entry)entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function(key){\n    var index = arrayFindIndex(this.a, function(it){\n      return it[0] === key;\n    });\n    if(~index)this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      strictNew(that, C, NAME);\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for frozen objects\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function(key){\n        if(!isObject(key))return false;\n        if(!isExtensible(key))return frozenStore(this)['delete'](key);\n        return $has(key, WEAK) && $has(key[WEAK], this._i) && delete key[WEAK][this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key){\n        if(!isObject(key))return false;\n        if(!isExtensible(key))return frozenStore(this).has(key);\n        return $has(key, WEAK) && $has(key[WEAK], this._i);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    if(!isExtensible(anObject(key))){\n      frozenStore(that).set(key, value);\n    } else {\n      $has(key, WEAK) || hide(key, WEAK, {});\n      key[WEAK][that._i] = value;\n    } return that;\n  },\n  frozenStore: frozenStore,\n  WEAK: WEAK\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.collection-weak.js\n **/","var isObject = require('./$.is-object')\n  , document = require('./$.global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.dom-create.js\n **/","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./$.an-object');\nmodule.exports = function(){\n  var that   = anObject(this)\n    , result = '';\n  if(that.global)     result += 'g';\n  if(that.ignoreCase) result += 'i';\n  if(that.multiline)  result += 'm';\n  if(that.unicode)    result += 'u';\n  if(that.sticky)     result += 'y';\n  return result;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.flags.js\n **/","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.get-names.js\n **/","module.exports = require('./$.global').document && document.documentElement;\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.html.js\n **/","// check on default Array iterator\nvar Iterators  = require('./$.iterators')\n  , ITERATOR   = require('./$.wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.is-array-iter.js\n **/","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./$.is-object')\n  , floor    = Math.floor;\nmodule.exports = function isInteger(it){\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.is-integer.js\n **/","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./$.is-object')\n  , cof      = require('./$.cof')\n  , MATCH    = require('./$.wks')('match');\nmodule.exports = function(it){\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.is-regexp.js\n **/","// call something on iterator step with safe closing on error\nvar anObject = require('./$.an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.iter-call.js\n **/","'use strict';\nvar $              = require('./$')\n  , descriptor     = require('./$.property-desc')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.iter-create.js\n **/","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.iter-step.js\n **/","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x){\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.math-log1p.js\n **/","var $         = require('./$')\n  , toIObject = require('./$.to-iobject')\n  , isEnum    = $.isEnum;\nmodule.exports = function(isEntries){\n  return function(it){\n    var O      = toIObject(it)\n      , keys   = $.getKeys(O)\n      , length = keys.length\n      , i      = 0\n      , result = []\n      , key;\n    while(length > i)if(isEnum.call(O, key = keys[i++])){\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.object-to-array.js\n **/","// all object keys, includes non-enumerable and symbols\nvar $        = require('./$')\n  , anObject = require('./$.an-object')\n  , Reflect  = require('./$.global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it){\n  var keys       = $.getNames(anObject(it))\n    , getSymbols = $.getSymbols;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.own-keys.js\n **/","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.same-value.js\n **/","var global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.shared.js\n **/","// https://github.com/ljharb/proposal-string-pad-left-right\nvar toLength = require('./$.to-length')\n  , repeat   = require('./$.string-repeat')\n  , defined  = require('./$.defined');\n\nmodule.exports = function(that, maxLength, fillString, left){\n  var S            = String(defined(that))\n    , stringLength = S.length\n    , fillStr      = fillString === undefined ? ' ' : String(fillString)\n    , intMaxLength = toLength(maxLength);\n  if(intMaxLength <= stringLength)return S;\n  if(fillStr == '')fillStr = ' ';\n  var fillLen = intMaxLength - stringLength\n    , stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if(stringFiller.length > fillLen)stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.string-pad.js\n **/","'use strict';\nvar toInteger = require('./$.to-integer')\n  , defined   = require('./$.defined');\n\nmodule.exports = function repeat(count){\n  var str = String(defined(this))\n    , res = ''\n    , n   = toInteger(count);\n  if(n < 0 || n == Infinity)throw RangeError(\"Count can't be negative\");\n  for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;\n  return res;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.string-repeat.js\n **/","var ctx                = require('./$.ctx')\n  , invoke             = require('./$.invoke')\n  , html               = require('./$.html')\n  , cel                = require('./$.dom-create')\n  , global             = require('./$.global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listner = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./$.cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listner;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listner, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.task.js\n **/","var classof   = require('./$.classof')\n  , ITERATOR  = require('./$.wks')('iterator')\n  , Iterators = require('./$.iterators');\nmodule.exports = require('./$.core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/core.get-iterator-method.js\n **/","'use strict';\nvar addToUnscopables = require('./$.add-to-unscopables')\n  , step             = require('./$.iter-step')\n  , Iterators        = require('./$.iterators')\n  , toIObject        = require('./$.to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./$.iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.array.iterator.js\n **/","/**\r\n * Created by Glenn on 2014-11-10.\r\n */\r\n\r\nimport App from 'app';\r\nimport { project as mapsProject } from './project';\r\nimport { mapsDebugger } from './debugger';\r\n\r\nconst { util, config } = App;\r\nconst layersConfig = mapsProject.roamLayers;\r\nconst { serviceUrls } = mapsProject;\r\n\r\n/*\r\n * Let's go for the \"fat models, skinny controllers\" approach, meaning\r\n * \"the Controller\" gets whittled down to simple router; it listens to\r\n * the view and instructs the model to update its state. It handles any\r\n * errors thrown by the model, while domain logic and validations get\r\n * largely shifted to the model. The controller also acts as a service\r\n * layer for accessing the backend via jQuery.ajax().\r\n */\r\nconst Controller = stampit()\r\n  .props({\r\n\r\n    /**\r\n     * View\r\n     */\r\n    controls: undefined,\r\n    /**\r\n     * Model\r\n     */\r\n    viewer  : undefined,\r\n  })\r\n  .init(({ instance }) => {\r\n    const { controls, viewer } = instance;\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param customErrorMessage\r\n       * @param e\r\n       */\r\n      logError(customErrorMessage, e) {\r\n        console.error(`${customErrorMessage} > ${e.stack}`);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param options\r\n       * @param onMapReady\r\n       */\r\n      onMapMvcComponentsInitialized(options, onMapReady) {\r\n        const layerDataFetcher = viewer.getLayerDataFetcher();\r\n        const layerManager     = viewer.getLayerManager();\r\n        const initRoamLayers   = () => {\r\n\r\n          /*\r\n           * Load asset position layer that matches\r\n           * the map viewer mode, and all other\r\n           * non-asset position layers (loading order is\r\n           * not guaranteed):\r\n           * - ROAM_ASSETS OR ROAM_ASSETS_HISTORY,\r\n           * - ROAM_LOCATIONS,\r\n           * - ROAM_GEOFENCES,\r\n           * - ROAM_ASSETS_ANIMATION.\r\n           */\r\n          _.forEach(layerDataFetcher.getWorkingLayersProperties(),\r\n            layerProps => layerManager.addLayer(layerProps));\r\n\r\n          const requestPromises  = layerDataFetcher.getRequestPromises();\r\n          const rqPromiseLen     = requestPromises.length;\r\n          let doneRqPromiseCount = 0;\r\n          const layersDataDefer  = $.Deferred();\r\n\r\n          _.forEach(requestPromises, (requestPromise) => {\r\n\r\n            /**\r\n             * Possibility of multi-threading\r\n             * (parallel execution of code) for\r\n             * loading asset position, location,\r\n             * and geofence objects. Unfortunately\r\n             * JS will remain single-threaded\r\n             * for the moment (\"web workers\"\r\n             * is not stable yet).\r\n             * @see https://github.com/caolan/async#paralleltasks-callback\r\n             * @see http://codersblock.com/blog/multi-threaded-javascript-with-web-workers/\r\n             */\r\n            requestPromise.done((data, textStatus, jqXHR) => {\r\n\r\n              if (doneRqPromiseCount === 0) {\r\n                mapsDebugger.time('Map data loading time');\r\n              }\r\n\r\n              data.dataType = jqXHR.dataType;\r\n              instance.onObjectsDataFetchingSucceeded(data);\r\n\r\n              doneRqPromiseCount = doneRqPromiseCount + 1;\r\n\r\n              if (doneRqPromiseCount === rqPromiseLen) {\r\n                mapsDebugger.timeEnd('Map data loading time');\r\n                layersDataDefer.resolve();\r\n              }\r\n            });\r\n          });\r\n\r\n          return layersDataDefer.promise();\r\n        };\r\n\r\n        const initMapViewerDefaultState = () => {\r\n          mapsDebugger.time('Map default state initialization time');\r\n\r\n          /* region Map view panel */\r\n\r\n          const { autoRefresh, autoFocus, rememberLastViewportEnabled } = options;\r\n          viewer.setViewBehavior({\r\n            autoRefresh,\r\n            autoFocus,\r\n            rememberLastViewportEnabled,\r\n          });\r\n\r\n          controls.setAutoLabelingCheckboxHidden(\r\n            config.map.autoLabelingCheckboxHidden);\r\n\r\n          /* endregion Map view panel */\r\n\r\n          /* region Intervals panel */\r\n\r\n          /**\r\n           * A global injection function for adjusting\r\n           * the \"now\" time reference based on current\r\n           * user's timezone setting.\r\n           *\r\n           * The reason why it is put here instead in the\r\n           * `defaults` is rather related to \"some\" backend\r\n           * reason.\r\n           * @returns {Date}\r\n           */\r\n          App.config.map.now = () => {\r\n            const originalNow = config.map.originalNow;\r\n            const utcNow      = new Date(\r\n              originalNow.getTime() + originalNow.getTimezoneOffset() * 60000);\r\n\r\n            return util.dateFromGMT(utcNow);\r\n          };\r\n\r\n          const today    = viewer.selectIntervalRange('TODAY');\r\n          const tomorrow = {\r\n\r\n            /*\r\n             * tomorrow.min = tomorrow 12:00 AM\r\n             * (12 midnight).\r\n             */\r\n            min: new Date((new Date(today.min))\r\n              .setDate(today.min.getDate() + 1)),\r\n          };\r\n          const last24H  = viewer.selectIntervalRange('LAST_24H');\r\n\r\n          controls.setDateTimePickerMaxDate(tomorrow.min);\r\n          viewer.updateDataSelectionOptions({\r\n            latest: true,\r\n            from  : last24H.min,\r\n            to    : last24H.max,\r\n          });\r\n\r\n          /* endregion Intervals panel */\r\n\r\n          /* region Navigation panel */\r\n\r\n          const viewerName          = viewer.name;\r\n          const positionLayerConfig = layersConfig[layerManager.getPositionLayerName()];\r\n          let useClustersActivated  = positionLayerConfig.clusteringSupported;\r\n\r\n          /*\r\n           * Enable use clusters option to `false` depending\r\n           * on the viewer name property that comes from\r\n           * the server. Should match strings like:\r\n           * \"HereMapsNoClusters\", \"HereMapsNo_Clusters\",\r\n           * \"HereMapsNo-Clusters\", \"GoogleMapsV3_No_Clusters\",\r\n           * and all that.\r\n           */\r\n          const noClustersRegex = /no([^A-Za-z0-9])?cluster/i;\r\n\r\n          if (viewerName && viewerName.match(noClustersRegex)) {\r\n            useClustersActivated = false;\r\n          }\r\n\r\n          /*\r\n           * As you can see, this is why I differentiate\r\n           * between the jargon \"enabled\" and \"activated\".\r\n           */\r\n          controls.setUseClustersCheckboxEnabled(useClustersActivated);\r\n          viewer.setUseClustersActivated(useClustersActivated);\r\n\r\n          ///*\r\n          // * TODO: TO BE REMOVED ONCE THE BACKEND IS READY.\r\n          // * Currently served as simulation for randomly assigning\r\n          // * asset status to `assetmessageevent` object.\r\n          // */\r\n          //const assetStatuses = ['Loaded', 'Unloaded', 'Unknown'];\r\n          //const lm            = layerManager;\r\n          //\r\n          //_(lm.getObjectsByLayer(lm.getPositionLayerName()))\r\n          //    .map('roamObject')\r\n          //    .forEach(roamObject => roamObject.assetStatus = _.sample(assetStatuses));\r\n\r\n          //controls.setAssetStatusFiltersVisible(App.config.map.assetStatusFilters);\r\n\r\n          controls.setAssetStatusFiltersValues(viewer.getUniqueAssetStatusFiltersValues());\r\n\r\n          /* endregion Navigation panel */\r\n\r\n          /*\r\n           * \"Current object\" [sic.], a term that can only\r\n           * be understood in non-asset related map realm.\r\n           * It is considering the fact that objects like\r\n           * locations or geofences can have a map, too.\r\n           */\r\n          const { currentObject } = viewer;\r\n\r\n          if (currentObject) {\r\n            const { domainObjectType, domainObjectTypeId } = currentObject;\r\n            const layerName = layerManager.getLayerName(domainObjectType);\r\n\r\n            layerManager.addObject(layerName, currentObject);\r\n            viewer.zoomToObject(layerName, domainObjectTypeId);\r\n          }\r\n\r\n          const { domainObjectType, domainObjectId } = viewer;\r\n\r\n          return $.ajax({\r\n            url : `${config.serviceUrl}${serviceUrls.locationConfig.read}`,\r\n            data: {\r\n              domainObjectType,\r\n              domainObjectId,\r\n            },\r\n\r\n            success(data) {\r\n              controls.setLocationConfigNames(\r\n                _.map(data.data, (locationType) => ({\r\n                    text : locationType,\r\n                    value: locationType,\r\n                  })\r\n                ));\r\n              mapsDebugger.timeEnd('Map default state initialization time');\r\n            },\r\n          });\r\n        };\r\n\r\n        try {\r\n\r\n          /*\r\n           * Adjust map viewer mode (multi-/single- asset).\r\n           * Customer, asset group, location, geofence type\r\n           * falls into multi-asset category.\r\n           */\r\n          viewer.setSingleAssetModeEnabled(\r\n            layerDataFetcher.testIsSingleAssetModeEnabled(viewer.domainObjectType));\r\n\r\n          /**\r\n           * Promises, promises.\r\n           * @see https://spring.io/understanding/javascript-promises\r\n           * @see http://api.jquery.com/Types/#Promise\r\n           * @see http://api.jquery.com/deferred.promise/\r\n           */\r\n          viewer\r\n            .resolveProjection()\r\n            .then(initRoamLayers, (jqXHR, textStatus, errorThrown) =>\r\n              logError('Error resolving map projection.', new Error(errorThrown)))\r\n            .then(initMapViewerDefaultState, (jqXHR, textStatus, errorThrown) =>\r\n              logError('Error initializing ROAM layers.', new Error(errorThrown)))\r\n            .then(onMapReady, (jqXHR, textStatus, errorThrown) =>\r\n              logError('Error initializing default state of map viewer.', new Error(errorThrown)));\r\n        } catch (e) {\r\n          logError('Error initializing map.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param data\r\n       */\r\n      onObjectsDataFetchingSucceeded(data) {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        try {\r\n          const { dataType, latestPositionEventId, currentObject } = data;\r\n          const layerName = layerManager.getLayerName(dataType);\r\n          const objects   = data.data;\r\n\r\n          if (latestPositionEventId) {\r\n            layerManager.markLatestPositionRoamObject(\r\n              objects, latestPositionEventId);\r\n          }\r\n\r\n          layerManager.loadObjects(dataType, objects);\r\n          layerManager.setAllObjectsVisibility(\r\n            layerName, layerManager.getLayerVisibility(layerName));\r\n\r\n          if (viewer.isAutoFocus() &&\r\n              layerManager.testIsPositionLayerName(layerName)) {\r\n\r\n            if (objects.length === 1) {\r\n              viewer.zoomToObject(layerName, _.first(objects).domainObjectTypeId);\r\n            } else {\r\n              viewer.zoomToLayer(layerName);\r\n            }\r\n          }\r\n\r\n          if (currentObject) {\r\n            viewer.currentObject = currentObject;\r\n          }\r\n\r\n          const metadata = data.metadata || {};\r\n\r\n          if (metadata && layerManager.testIsPositionLayerName(layerName)) {\r\n\r\n            /*\r\n             * Couldn't care less. Most parts of the app are hacks already.\r\n             */\r\n            App.config.map.assetStatusFilters = metadata.assetStatusAvailable;\r\n\r\n            if (viewer.isAssetStatusFiltersEnabled()) {\r\n\r\n              ///*\r\n              // * TODO: TO BE REMOVED ONCE THE BACKEND IS READY.\r\n              // * Currently served as simulation for randomly assigning\r\n              // * asset status to `assetmessageevent` object.\r\n              // */\r\n              //const assetStatuses = ['Loaded', 'Unloaded', 'Unknown'];\r\n              //const lm            = layerManager;\r\n              //\r\n              //_(lm.getObjectsByLayer(lm.getPositionLayerName()))\r\n              //    .map('roamObject')\r\n              //    .forEach(roamObject => roamObject.assetStatus = _.sample(assetStatuses));\r\n\r\n              controls.setAssetStatusFiltersVisible(true);\r\n\r\n              controls.setAssetStatusFiltersValues(\r\n                viewer.getUniqueAssetStatusFiltersValues());\r\n\r\n              instance.onAssetStatusFiltersChanged(\r\n                viewer.getSelectedAssetStatusFilters());\r\n            }\r\n          }\r\n\r\n        } catch (e) {\r\n          logError('Error loading ROAM objects.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param checked\r\n       */\r\n      onAutoRefreshToggled(checked) {\r\n\r\n        try {\r\n          viewer.setAutoRefresh(checked);\r\n        } catch (e) {\r\n          logError('Error toggling auto-refresh state.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param positionLayerName\r\n       * @param polling\r\n       */\r\n      onPositionsFetchingRequested(positionLayerName, polling) {\r\n\r\n        try {\r\n          const dataSelectionOptions = viewer.getDataSelectionOptions();\r\n          const requestData          = {};\r\n\r\n          /*\r\n           * Only consider `interval` selection mode when the\r\n           * positions fetching is *not* meant to do a poll.\r\n           */\r\n          if (!polling) {\r\n\r\n            if (!dataSelectionOptions.latest) { // -> interval\r\n\r\n              /*\r\n               * Copy objects, in order to keep the internal\r\n               * attributes timezone free.\r\n               */\r\n              let from = new Date(dataSelectionOptions.from);\r\n              let to   = new Date(dataSelectionOptions.to);\r\n\r\n              from = kendo.toString(util.dateToGMT(from), config.dateTimeFormat);\r\n              to   = kendo.toString(util.dateToGMT(to), config.dateTimeFormat);\r\n\r\n              _.assign(requestData, {\r\n                from,\r\n                to,\r\n              });\r\n            }\r\n          }\r\n\r\n          const layerProperties = layersConfig[positionLayerName];\r\n          const { domainObjectType, domainObjectId, alarmEventIds } = viewer;\r\n          const dateRangeSlider = viewer.getDateRangeSlider();\r\n\r\n          $.ajax({\r\n            url : `${config.serviceUrl}${layerProperties.serviceUrls.read}`,\r\n            data: _.assign(requestData, {\r\n              domainObjectType,\r\n              domainObjectId,\r\n              eventIds: JSON.stringify(alarmEventIds),\r\n            }),\r\n\r\n            beforeSend() {\r\n\r\n              if (dateRangeSlider) {\r\n                dateRangeSlider.setEnabled(false);\r\n              } else {\r\n                controls.setProgressOverlayEnabled(true);\r\n              }\r\n            },\r\n\r\n            success(data) {\r\n              data.dataType = 'assetmessageevent';\r\n              instance.onObjectsDataFetchingSucceeded(data);\r\n\r\n              if (viewer.isSingleAssetModeEnabled()) {\r\n\r\n                if (viewer.isAnimationFeatureActivated()) {\r\n                  instance.onAnimationPositionsLoadingRequested();\r\n                }\r\n\r\n                if (viewer.isConnectHistoryPositionsActivated()) {\r\n                  const positions = data.data;\r\n\r\n                  instance.onEventsConnectorDrawingRequested(positions);\r\n                }\r\n              }\r\n            },\r\n\r\n            error(jqXHR, textStatus, errorThrown) {\r\n              logError('Error fetching asset positions.',\r\n                new Error(errorThrown));\r\n            },\r\n\r\n            complete() {\r\n\r\n              if (dateRangeSlider) {\r\n                dateRangeSlider.setEnabled(true);\r\n              } else {\r\n                controls.setProgressOverlayEnabled(false);\r\n              }\r\n\r\n              viewer.refresh();\r\n            },\r\n          });\r\n        } catch (e) {\r\n          logError('Error fetching asset positions.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param checked\r\n       */\r\n      onAutoFocusToggled(checked) {\r\n\r\n        try {\r\n          viewer.setAutoFocus(checked);\r\n        } catch (e) {\r\n          logError('Error toggling auto-focus state.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param checked\r\n       */\r\n      onAutoLabelingToggled(checked) {\r\n\r\n        try {\r\n          viewer.setAutoLabelingActivated(checked);\r\n        } catch (e) {\r\n          logError('Error toggling auto-labeling state.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param bbox\r\n       */\r\n      onViewportSaved(bbox) {\r\n\r\n        try {\r\n          localStorage.setItem('USER_BBOX', JSON.stringify(bbox));\r\n\r\n          App.view.toast.showNotificationSimple(\r\n            'Info',\r\n            App.translate(''),\r\n            App.translate('The viewport has been successfully saved.')\r\n          );\r\n        } catch (e) {\r\n          logError('Error saving viewport to local storage.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param bboxText\r\n       */\r\n      onViewportRestored(bboxText) {\r\n\r\n        try {\r\n          viewer.setBoundingBox(JSON.parse(bboxText));\r\n\r\n          App.view.toast.showNotificationSimple(\r\n            'Info',\r\n            App.translate(''),\r\n            App.translate('The viewport has been successfully restored.')\r\n          );\r\n        } catch (e) {\r\n          logError('Error restoring viewport from local storage.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param scale\r\n       */\r\n      onScaleZoomingSelected(scale) {\r\n\r\n        try {\r\n          viewer.zoomToScale(_.parseInt(scale));\r\n        } catch (e) {\r\n          logError('Error zooming to selected scale.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param level\r\n       */\r\n      onLevelZoomingSelected(level) {\r\n\r\n        try {\r\n          viewer.zoomToLevel(_.parseInt(level));\r\n        } catch (e) {\r\n          logError('Error zooming to selected level.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param options\r\n       */\r\n      onDataSelectionOptionsUpdated(options) {\r\n\r\n        try {\r\n          viewer.updateDataSelectionOptions(options);\r\n        } catch (e) {\r\n          logError('Error updating data selection options.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectId\r\n       */\r\n      onObjectZoomingRequested(layerName, objectId) {\r\n\r\n        try {\r\n\r\n          if (viewer.lazyLoadingEnabled) {\r\n            const layerManager = viewer.getLayerManager();\r\n\r\n            if (!layerManager.testIsPositionLayerName(layerName)) {\r\n              layerManager.addObject(\r\n                layerName, layerManager.getCachedRoamObject(objectId));\r\n            }\r\n          }\r\n\r\n          viewer.zoomToObject(layerName, objectId);\r\n        } catch (e) {\r\n          logError('Error zooming to map object.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param [layerName]\r\n       */\r\n      onLayerZoomingRequested(layerName) {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        try {\r\n          layerName = layerName || layerManager.getPositionLayerName();\r\n          viewer.zoomToLayer(layerName);\r\n        } catch (e) {\r\n          logError('Error zooming to layer.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectIds\r\n       * @param checked\r\n       */\r\n      onObjectsVisibilityToggled(layerName, objectIds, checked) {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        try {\r\n          const positionLayerNameMatched = layerManager.testIsPositionLayerName(layerName);\r\n\r\n          if (positionLayerNameMatched) {\r\n\r\n            // Clear the asset status filters.\r\n            //this.onAssetStatusFiltersChanged([]);\r\n            viewer.setSelectedAssetStatusFilters([]);\r\n          }\r\n\r\n          if (viewer.lazyLoadingEnabled) {\r\n\r\n            if (!positionLayerNameMatched) {\r\n              const cachedRoamObjects = layerManager.getCachedRoamObjects(objectIds);\r\n\r\n              layerManager.addObjects(layerName, cachedRoamObjects);\r\n            }\r\n          }\r\n\r\n          layerManager.setObjectsVisibility(layerName, objectIds, checked);\r\n        } catch (e) {\r\n          logError('Error toggling objects visibility.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param checked\r\n       */\r\n      onObjectLabelsVisibilityToggled(layerName, checked) {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        try {\r\n          layerManager.setObjectLabelsVisibility(layerName, checked);\r\n        } catch (e) {\r\n          logError('Error toggling object labels visibility.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectId\r\n       * @param selected\r\n       */\r\n      onPositionSelectionToggled(objectId, selected) {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        try {\r\n          layerManager.setPositionHighlighted(objectId, selected);\r\n        } catch (e) {\r\n          logError('Error toggling selected position highlight.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param checked\r\n       */\r\n      onUseClustersStatusToggled(checked) {\r\n\r\n        try {\r\n          viewer.setUseClustersActivated(checked);\r\n        } catch (e) {\r\n          logError('Error toggling \"Use clusters\" status.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param positions\r\n       */\r\n      onEventsConnectorDrawingRequested(positions) {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        try {\r\n          layerManager.drawEventsConnector(positions);\r\n        } catch (e) {\r\n          logError('Error drawing the events connector.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param checked\r\n       */\r\n      onConnectHistoryPositionsStatusToggled(checked) {\r\n\r\n        try {\r\n          viewer.setConnectHistoryPositionsActivated(checked);\r\n        } catch (e) {\r\n          logError('Error toggling \"Connect history positions\" status.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param filters\r\n       */\r\n      onAssetStatusFiltersChanged(filters) {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        try {\r\n          const layerName = layerManager.getPositionLayerName();\r\n\r\n          controls.setProgressOverlayEnabled(true);\r\n\r\n          if (!_.isEmpty(filters)) {\r\n            const parts = _(layerManager.getObjectsByLayer(layerName))\r\n              .map('roamObject')\r\n              .partition((position) => {\r\n                //return _.includes(filters, position.assetStatus);\r\n\r\n                /*\r\n                 * Jawad says in the (near) future, an\r\n                 * `assetmessageevent` position may have\r\n                 * multiple assetStatus values (Ghana?).\r\n                 * So, better make these code lines below\r\n                 * future-proof while it's still easy.\r\n                 */\r\n                const { assetStatus } = position;\r\n                let assetStatuses = [];\r\n\r\n                if (_.isArray(position.assetStatus)) {\r\n                  assetStatuses = assetStatus;\r\n                } else {\r\n                  assetStatuses = [assetStatus];\r\n                }\r\n\r\n                return assetStatuses.some(value => _.includes(filters, value));\r\n              })\r\n              .map(part => _.map(part, 'domainObjectTypeId'))\r\n              .value();\r\n\r\n            layerManager.setObjectsVisibility(layerName, parts[0], true);\r\n\r\n            layerManager.setObjectsVisibility(layerName, parts[1], false);\r\n          } else {\r\n            layerManager.setAllObjectsVisibility(layerName, true);\r\n          }\r\n\r\n          controls.setProgressOverlayEnabled(false);\r\n\r\n          viewer.setSelectedAssetStatusFilters(filters);\r\n        } catch (e) {\r\n          logError('Error filtering assets based on status.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onAnimationPositionsLoadingRequested() {\r\n\r\n        try {\r\n          viewer.setAnimationFeatureActivated(true);\r\n        } catch (e) {\r\n          logError('Error loading animation objects.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onAnimationPaused() {\r\n        const animationManager = viewer.getAnimationManager();\r\n\r\n        try {\r\n          animationManager.pauseAnimation();\r\n        } catch (e) {\r\n          logError('Error pausing animation.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onAnimationStopped() {\r\n        const animationManager = viewer.getAnimationManager();\r\n\r\n        try {\r\n          animationManager.stopAnimation();\r\n        } catch (e) {\r\n          logError('Error stopping animation.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onAnimationStarted() {\r\n        const animationManager = viewer.getAnimationManager();\r\n\r\n        try {\r\n          animationManager.startAnimation();\r\n        } catch (e) {\r\n          logError('Error starting animation.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param step\r\n       */\r\n      onAnimationStepSelected(step) {\r\n        const animationManager = viewer.getAnimationManager();\r\n\r\n        try {\r\n          animationManager.stepTo(step);\r\n        } catch (e) {\r\n          logError('Error doing step-to animation.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param animationSpeed\r\n       */\r\n      onAnimationSpeedSelected(animationSpeed) {\r\n        const animationManager = viewer.getAnimationManager();\r\n\r\n        try {\r\n          animationManager.setAnimationSpeed(animationSpeed);\r\n        } catch (e) {\r\n          logError('Error setting animation speed.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param trailLength\r\n       */\r\n      onAnimationTrailLengthSelected(trailLength) {\r\n        const animationManager = viewer.getAnimationManager();\r\n\r\n        try {\r\n          animationManager.setTrailLength(trailLength);\r\n        } catch (e) {\r\n          logError('Error setting animation trail length.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onEditModeDeactivated() {\r\n        const editManager = viewer.getEditManager();\r\n\r\n        try {\r\n          editManager.destroy();\r\n        } catch (e) {\r\n          logError('Error destroying edit manager.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectType\r\n       */\r\n      onEditableObjectTypeSelected(objectType) {\r\n        const editManager = viewer.getEditManager();\r\n\r\n        try {\r\n          editManager.setEditableObjectType(objectType);\r\n        } catch (e) {\r\n          logError('Error setting edit object type.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param shapeType\r\n       */\r\n      onEditableObjectShapeTypeSelected(shapeType) {\r\n        const editManager = viewer.getEditManager();\r\n\r\n        try {\r\n          editManager.setEditableObjectShapeType(shapeType);\r\n        } catch (e) {\r\n          logError('Error setting edit object shape type.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param latLng\r\n       */\r\n      onEditableObjectLatLngEntered(latLng) {\r\n        const editManager = viewer.getEditManager();\r\n\r\n        try {\r\n          const coordinates = _.map(latLng.split(','),\r\n            coordinate => parseFloat(parseFloat(coordinate).toFixed(8)));\r\n          const [lat, lng] = coordinates;\r\n\r\n          if (_.isFinite(lat) && _.isFinite(lng)) {\r\n            editManager.setEditableObjectLatLng(lat, lng);\r\n          }\r\n        } catch (e) {\r\n          logError('Error setting edit object coordinates.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param bufferDistance\r\n       */\r\n      onEditableObjectBufferDistanceEntered(bufferDistance) {\r\n        const editManager = viewer.getEditManager();\r\n\r\n        try {\r\n          const distance = parseFloat(bufferDistance);\r\n\r\n          if (_.isFinite(distance)) {\r\n            editManager.setEditableObjectBufferDistance(distance);\r\n          }\r\n        } catch (e) {\r\n          logError('Error setting edit object buffer distance.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectName\r\n       */\r\n      onEditableObjectNameEntered(objectName) {\r\n        const editManager = viewer.getEditManager();\r\n\r\n        try {\r\n          editManager.setEditableObjectName(objectName);\r\n        } catch (e) {\r\n          logError('Error setting edit object name.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param configName\r\n       */\r\n      onEditableObjectConfigNameSelected(configName) {\r\n        const editManager = viewer.getEditManager();\r\n\r\n        try {\r\n          editManager.setEditableObjectConfigName(configName);\r\n        } catch (e) {\r\n          logError('Error setting edit object config name.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectProperties\r\n       */\r\n      onObjectCreationRequested(layerName, objectProperties) {\r\n        const layerManager = viewer.getLayerManager();\r\n\r\n        try {\r\n          const { domainObjectType, domainObjectId } = viewer;\r\n\r\n          $.ajax({\r\n            url : `${config.serviceUrl}${layersConfig[layerName].serviceUrls.create}`,\r\n            type: 'POST',\r\n            data: {\r\n              ...objectProperties,\r\n              domainObjectType,\r\n              domainObjectId,\r\n            },\r\n\r\n            success(data) {\r\n              const object = _.first(data.data);\r\n\r\n              layerManager.addObject(layerName, object);\r\n\r\n              if (viewer.lazyLoadingEnabled &&\r\n                  (!layerManager.testIsPositionLayerName(layerName))) {\r\n\r\n                layerManager.addCachedRoamObject(object);\r\n              }\r\n\r\n              layerManager.setObjectVisibility(\r\n                layerName, object.domainObjectTypeId, true);\r\n            },\r\n\r\n            error(jqXHR) {\r\n              const errorMessage = _.first(jqXHR.responseJSON.messages);\r\n\r\n              App.view.toast.showNotificationSimple(\r\n                'Error',\r\n                App.translate('The object creation failed.'),\r\n                errorMessage\r\n              );\r\n\r\n              logError('Error creating ROAM object.', new Error(errorMessage));\r\n            },\r\n\r\n            complete: () => {\r\n              instance.onEditModeDeactivated();\r\n            },\r\n          });\r\n        } catch (e) {\r\n          logError('Error creating ROAM object.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param index\r\n       */\r\n      onWaypointItemAdditionRequested(index) {\r\n        const routingManager = viewer.getRoutingManager();\r\n\r\n        try {\r\n          routingManager.addWaypoint({}, index);\r\n        } catch (e) {\r\n          logError('Error adding waypoint item.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param index\r\n       */\r\n      onWaypointItemRemovalRequested(index) {\r\n        const routingManager = viewer.getRoutingManager();\r\n\r\n        try {\r\n          routingManager.removeWaypoint(index);\r\n        } catch (e) {\r\n          logError('Error removing waypoint item.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param fromIndex\r\n       * @param toIndex\r\n       */\r\n      onWaypointItemReorderingRequested(fromIndex, toIndex) {\r\n        const routingManager = viewer.getRoutingManager();\r\n\r\n        try {\r\n          routingManager.reorderWaypoint(fromIndex, toIndex);\r\n        } catch (e) {\r\n          logError('Error reordering waypoint item.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       * @param index\r\n       */\r\n      onWaypointItemSelected(waypoint, index) {\r\n        const routingManager = viewer.getRoutingManager();\r\n\r\n        try {\r\n          routingManager.updateWaypoint(waypoint, index);\r\n        } catch (e) {\r\n          logError('Error setting waypoint item.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param query\r\n       */\r\n      onPlacesSearchRequested(query) {\r\n        const routingManager = viewer.getRoutingManager();\r\n\r\n        try {\r\n          const routingControls = routingManager.getRoutingControls();\r\n\r\n          routingControls.setProgressOverlayEnabled(true);\r\n          routingManager.clearPlaces();\r\n\r\n          /*\r\n           * Fetch places data from native map viewer's\r\n           * places service API.\r\n           */\r\n          routingManager\r\n            .searchPlaces(query)\r\n            .done(places => routingManager.addPlaces(places))\r\n            .fail((e) => {\r\n              logError(\r\n                `Could not retrieve nearby places from ${viewer.getFriendlyName()} service.`,\r\n                new Error(e.message));\r\n            })\r\n            .always(() => routingControls.setProgressOverlayEnabled(false));\r\n\r\n          const { domainObjectType, domainObjectId } = viewer;\r\n\r\n          /**\r\n           * Fetch geoposition objects (the ones that have\r\n           * longitude and latitude - currently: locations and\r\n           * assets) which have been persisted in our system.\r\n           */\r\n          $.ajax({\r\n            url : `${config.serviceUrl}${serviceUrls.geoPositionObjects.read}`,\r\n            type: 'GET',\r\n            data: {\r\n              domainObjectType,\r\n              domainObjectId,\r\n              name: query,\r\n            },\r\n\r\n            success(data) {\r\n              routingManager.addPlaces(\r\n                _.map(data.results, (geoPositionObject) => {\r\n                  const { latitude, longitude,\r\n                          name, domainObjectType, id, } = geoPositionObject;\r\n\r\n                  return {\r\n                    name,\r\n                    domainObjectType,\r\n                    icon          : `mc-icon-routing-type${domainObjectType}`,\r\n                    lat           : latitude,\r\n                    lng           : longitude,\r\n                    domainObjectId: id,\r\n                  };\r\n                }));\r\n            },\r\n\r\n            error(jqXHR, textStatus, errorThrown) {\r\n              logError(\r\n                `Could not retrieve geo position objects from ROAM Caesar service.`,\r\n                new Error(errorThrown));\r\n            },\r\n\r\n            complete() {\r\n              routingControls.setProgressOverlayEnabled(false);\r\n            },\r\n          });\r\n        } catch (e) {\r\n          logError('Error retrieving place suggestions.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param featureName\r\n       * @param checked\r\n       */\r\n      onRouteFeatureToggled(featureName, checked) {\r\n        const routingManager = viewer.getRoutingManager();\r\n\r\n        try {\r\n          routingManager.setRouteFeatureAvoided(featureName, !checked);\r\n        } catch (e) {\r\n          logError('Error toggling route feature.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onRouteCalculationRequested() {\r\n        const routingManager = viewer.getRoutingManager();\r\n\r\n        try {\r\n          const routingControls = routingManager.getRoutingControls();\r\n\r\n          routingControls.expandRoutingPanel();\r\n          routingControls.setProgressOverlayEnabled(true);\r\n\r\n          routingManager\r\n            .calculateRoute()\r\n            .done(result => routingManager.setRoutingResult(result))\r\n            .fail((e) => {\r\n              logError(\r\n                `${viewer.getFriendlyName()} routing service could not calculate route.`,\r\n                new Error(e.message));\r\n            })\r\n            .always(() => {\r\n              routingControls.setProgressOverlayEnabled(false);\r\n              routingControls.updateSaveRouteButton();\r\n              routingControls.duckPunchWaypoints();\r\n            });\r\n        } catch (e) {\r\n          App.view.toast.showNotificationSimple(\r\n            'Error',\r\n            App.translate('The routing failed.'),\r\n            e.message\r\n          );\r\n\r\n          logError('Error calculating route.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onRouteSavingRequested() {\r\n        const routingManager = viewer.getRoutingManager();\r\n\r\n        $.when(App.dialog.input({\r\n          title   : App.translate('Save Route'),\r\n          message : App.translate('Choose a name for this new route:'),\r\n          labelOK : App.translate('Save Route'),\r\n          required: true,\r\n        })).done((response) => {\r\n\r\n          if (response.button === 'OK') {\r\n            const routeData = routingManager.yieldSaveRouteRequestData();\r\n\r\n            /*\r\n             * Safety first. Do we really have a valid route here?\r\n             */\r\n            if (routeData.waypoints.length >= 2) {\r\n              const { domainObjectType, domainObjectId } = viewer;\r\n\r\n              /*\r\n               * Save the route.\r\n               */\r\n              $.ajax({\r\n                url : config.serviceUrl +\r\n                      serviceUrls.routing.create,\r\n                data: {\r\n                  domainObjectType,\r\n                  domainObjectId,\r\n                  name : response.input,\r\n                  route: JSON.stringify(routeData),\r\n                },\r\n\r\n                success() {\r\n                  App.view.toast.showNotificationSimple(\r\n                    'Info',\r\n                    App.translate(''),\r\n                    App.translate('The route has been successfully saved.')\r\n                  );\r\n                },\r\n\r\n                error(jqXHR, textStatus, errorThrown) {\r\n                  logError('Error saving the route.', new Error(errorThrown));\r\n                },\r\n              });\r\n            }\r\n          }\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param directionsIncluded\r\n       */\r\n      onMapsPrintRequested(directionsIncluded) {\r\n\r\n        try {\r\n          viewer.print(directionsIncluded ?\r\n                       viewer.getRoutingManager().getRouteDirections() :\r\n                       undefined);\r\n        } catch (e) {\r\n          logError('Error printing the maps.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onResize() {\r\n\r\n        try {\r\n          viewer.resize();\r\n        } catch (e) {\r\n          logError('Error resizing the map viewer.', e);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onDestroy() {\r\n\r\n        try {\r\n          const mapInfoBox = viewer.getMapInfoBox();\r\n\r\n          if (controls) {\r\n            controls.destroy();\r\n          }\r\n\r\n          if (mapInfoBox) {\r\n            mapInfoBox.destroy();\r\n          }\r\n\r\n          if (viewer.rememberLastViewportEnabled) {\r\n            instance.onViewportSaved(viewer.getBoundingBox());\r\n          }\r\n\r\n          viewer.container.empty();\r\n        } catch (e) {\r\n          logError('Error destroying the controller.', e);\r\n        }\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    const { logError } = instance;\r\n\r\n    /* endregion init code */\r\n  });\r\n\r\nexport { Controller as default, Controller };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/controller.js\n **/","/**\r\n * Created by glenn on 12/01/16.\r\n */\r\n\r\nexport default (() => {\r\n\r\n  // Test ES6 code here.\r\n  const es6 = 'ES6';\r\n  console.log(`hello world from ${es6}`);\r\n})();\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/es6.playground.js\n **/","/**\r\n * Created by Glenn on 2014-11-10.\r\n */\r\n\r\nimport App from 'app';\r\nimport { LayerDataFetcher } from './layer-data-fetcher';\r\nimport { ViewerFactory as MapViewerFactory } from './viewer-factory';\r\nimport { Controls as MapControls } from './ui/controls';\r\nimport { Controller as MapController } from './controller';\r\nimport { RoutingControls } from './ui/routing';\r\nimport { Legend } from './ui/exts/legend';\r\nimport { DateRangeSlider } from './ui/exts/date-range-slider';\r\nimport { CoordinatesDisplay } from './ui/exts/coordinates-display';\r\nimport { mapsDebugger } from './debugger';\r\n\r\nconst Initializer = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    options: undefined,\r\n  })\r\n  .init(({ instance }) => {\r\n    const { options } = instance;\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     * Model\r\n     */\r\n    let viewerFactory;\r\n\r\n    /*\r\n     * Well, you might as well argue the map viewer is\r\n     * our so-called \"ViewModel\".\r\n     */\r\n    let viewer;\r\n\r\n    /*\r\n     * View\r\n     */\r\n    let controls;\r\n\r\n    /*\r\n     * Controller\r\n     */\r\n    let controller;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param onMapInitialized\r\n       */\r\n      startInitialization(onMapInitialized) {\r\n\r\n        /*\r\n         * Prefetch map layers data.\r\n         */\r\n        const { domainObjectType, domainObjectId, eventIds } = options;\r\n        const layerDataFetcher = LayerDataFetcher.create({\r\n          domainObjectType,\r\n          domainObjectId,\r\n          alarmEventIds: eventIds,\r\n        });\r\n\r\n        options.layerDataFetcher = layerDataFetcher;\r\n        layerDataFetcher.prefetch();\r\n\r\n        mapsDebugger.time('Map MVC components initialization time');\r\n\r\n        /*\r\n         * Bootstrap map MVC components.\r\n         */\r\n        viewerFactory = MapViewerFactory.create();\r\n        viewerFactory.createViewer(options, (mapViewer) => {\r\n          const controlsView = options.mapDisplay.children('.map-controls');\r\n\r\n          viewer   = mapViewer;\r\n          controls = MapControls.create({\r\n            controlsView,\r\n            viewer,\r\n          });\r\n\r\n          controller = MapController.create({\r\n            controls,\r\n            viewer,\r\n          });\r\n\r\n          /*\r\n           * Please stick to this MVC implementation:\r\n           *\r\n           * - Controller listens to the View for UI events.\r\n           * - View listens to the Model for change events.\r\n           *\r\n           * - View may query state of the Model.\r\n           * - Controller updates state of the Model.\r\n           * - Controller may update the View.\r\n           */\r\n          controls.setController(controller);\r\n          viewer.setControls(controls);\r\n          mapsDebugger.timeEnd('Map MVC components initialization time');\r\n\r\n          controller.onMapMvcComponentsInitialized(options, () => {\r\n            mapsDebugger.time('Map extensions installation time');\r\n\r\n            /*\r\n             * Install map extensions here.\r\n             * 1) Legend\r\n             * 2) Routing\r\n             * 3) Date range slider\r\n             * 4) Coordinates display\r\n             */\r\n            const legend = Legend.create({\r\n              viewer,\r\n            });\r\n            legend.setController(controller);\r\n            viewer.setLegend(legend);\r\n\r\n            if (App.config.map.routing) {\r\n              const routingManager  = viewer.getRoutingManager();\r\n              const routingControls = RoutingControls.create({\r\n                controlsView,\r\n                routingManager,\r\n              });\r\n\r\n              routingControls.setController(controller);\r\n              routingManager.setRoutingControls(routingControls);\r\n              routingManager.initRoutingEngine();\r\n\r\n              /*\r\n               * Add initial waypoints for routing and\r\n               * instantly calculate route if possible.\r\n               */\r\n              const { reconstructingWaypoints } = options;\r\n              let initialWaypoints = [{}, {}];\r\n\r\n              if (_.isArray(reconstructingWaypoints) &&\r\n                  reconstructingWaypoints.length >= 2) {\r\n\r\n                initialWaypoints = reconstructingWaypoints;\r\n              }\r\n\r\n              _.forEach(initialWaypoints, (waypoint, i) => {\r\n                controller.onWaypointItemAdditionRequested();\r\n                controller.onWaypointItemSelected(waypoint, i);\r\n              });\r\n\r\n              if (routingManager.canCalculateRoute()) {\r\n                controller.onRouteCalculationRequested();\r\n              }\r\n            }\r\n\r\n            if (App.config.map.dateRangeSlider) {\r\n\r\n              if (viewer.isModernBrowser()) {\r\n                const dateRangeSlider = DateRangeSlider.create({\r\n                  viewer,\r\n                });\r\n                dateRangeSlider.setController(controller);\r\n                viewer.setDateRangeSlider(dateRangeSlider);\r\n              }\r\n            }\r\n\r\n            if (App.config.map.coordinatesDisplay) {\r\n              const coordinatesDisplay = CoordinatesDisplay.create({\r\n                viewer,\r\n              });\r\n              coordinatesDisplay.setController(controller);\r\n              viewer.setCoordinatesDisplay(coordinatesDisplay);\r\n            }\r\n\r\n            mapsDebugger.timeEnd('Map extensions installation time');\r\n\r\n            onMapInitialized(controller);\r\n          });\r\n        });\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n  });\r\n\r\nexport { Initializer as default, Initializer };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/initializer.js\n **/","/**\r\n * Created by glenn on 30/11/15.\r\n */\r\n\r\nimport App from 'app';\r\nimport { project as mapsProject } from './project';\r\nimport { mapsDebugger } from './debugger';\r\nimport { LayerManager } from './viewers/manager/layer-manager';\r\n\r\nconst { ROAM_ASSETS, ROAM_ASSETS_HISTORY } = LayerManager.ROAM_LAYERS;\r\n\r\nconst LayerDataFetcher = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    serviceUrl      : App.config.serviceUrl,\r\n    /**\r\n     *\r\n     */\r\n    domainObjectType: '',\r\n    domainObjectId  : '',\r\n    alarmEventIds   : undefined,\r\n  })\r\n  .methods({\r\n\r\n    /**\r\n     *\r\n     * @param domainObjectType\r\n     * @returns {boolean}\r\n     */\r\n    testIsSingleAssetModeEnabled(domainObjectType) {\r\n      return !_.includes(\r\n        ['customer', 'group', 'location', 'geofence'],\r\n        domainObjectType);\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param layerName\r\n     * @returns {boolean}\r\n     */\r\n    testIsPositionLayerName(layerName) {\r\n      return (layerName === ROAM_ASSETS || layerName === ROAM_ASSETS_HISTORY);\r\n    },\r\n  })\r\n  .init(({ instance }) => {\r\n    const { serviceUrl, domainObjectType, domainObjectId, alarmEventIds } = instance;\r\n\r\n    /* region private properties */\r\n\r\n    let workingLayersProps = [];\r\n    let dataUrls           = [];\r\n    let requestPromises    = [];\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       */\r\n      getWorkingLayersProperties() {\r\n        return workingLayersProps;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param dataUrl\r\n       */\r\n      addDataUrl(dataUrl) {\r\n        dataUrls.push(dataUrl);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       */\r\n      getRequestPromises() {\r\n        return requestPromises;\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      prefetch() {\r\n        dataUrls = _(instance.getWorkingLayersProperties())\r\n          .map(layerProps => layerProps.serviceUrls.read)\r\n          .compact()\r\n          .value();\r\n\r\n        instance.fetch();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*|Array}\r\n       */\r\n      fetch() {\r\n        mapsDebugger.time('Map data ajax requests time');\r\n        requestPromises = _.map(dataUrls,\r\n          dataUrl => $.ajax({\r\n            url : serviceUrl + dataUrl,\r\n            data: {\r\n              domainObjectType,\r\n              domainObjectId,\r\n              eventIds: JSON.stringify(alarmEventIds),\r\n            },\r\n\r\n            beforeSend(jqXHR) {\r\n              let dataType = '';\r\n\r\n              if (dataUrl.match(/locations/i)) {\r\n                //mapsDebugger.time('Locations data ajax request time');\r\n                dataType = 'location';\r\n              } else if (dataUrl.match(/geofences/i)) {\r\n                //mapsDebugger.time('Geofences data ajax request time');\r\n                dataType = 'geofence';\r\n              } else {\r\n                //mapsDebugger.time('Asset positions data ajax request time');\r\n                dataType = 'assetmessageevent';\r\n              }\r\n\r\n              jqXHR.dataType = dataType;\r\n            },\r\n\r\n            success(data, textStatus, jqXHR) {\r\n              //let dataType = jqXHR.dataType;\r\n              //\r\n              //if (dataType === 'location') {\r\n              //    mapsDebugger.timeEnd('Locations data ajax request time');\r\n              //} else if (dataType === 'geofence') {\r\n              //    mapsDebugger.timeEnd('Geofences data ajax request time');\r\n              //} else {\r\n              //    mapsDebugger.timeEnd('Asset positions data ajax request time');\r\n              //}\r\n            },\r\n          })\r\n        );\r\n\r\n        $.when(...requestPromises)\r\n         .always(() => mapsDebugger.timeEnd('Map data ajax requests time'));\r\n\r\n        return instance.getRequestPromises();\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    const positionLayerName =\r\n            instance.testIsSingleAssetModeEnabled(domainObjectType) ?\r\n            ROAM_ASSETS_HISTORY : ROAM_ASSETS;\r\n\r\n    workingLayersProps = _.filter(mapsProject.roamLayers,\r\n      (layerProps, layerName) => (layerName === positionLayerName ||\r\n                                  (!instance.testIsPositionLayerName(layerName))));\r\n\r\n    /* endregion init code */\r\n  });\r\n\r\nexport { LayerDataFetcher as default, LayerDataFetcher };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/layer-data-fetcher.js\n **/","/**\r\n * Created by Glenn on 2015-02-06.\r\n */\r\n\r\nimport App from 'app';\r\nimport { LayerManager } from '../viewers/manager/layer-manager';\r\nimport { AnimationManager } from '../viewers/manager/animation-manager';\r\nimport { Styler } from '../styler';\r\n\r\nconst viewTemplate = require('./tpl/controls.tpl');\r\n\r\nconst { ROAM_LAYERS }      = LayerManager;\r\nconst { ROAM_ASSETS,\r\n        ROAM_ASSETS_HISTORY,\r\n        ROAM_LOCATIONS,\r\n        ROAM_GEOFENCES,\r\n        ROAM_ASSETS_ANIMATION, } = ROAM_LAYERS;\r\nconst { PAUSE, STOP } = AnimationManager.ANIMATION_STATES;\r\nconst styler = Styler.getInstance();\r\n\r\nconst Controls = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    controlsView: undefined,\r\n    /**\r\n     * Model\r\n     */\r\n    viewer      : undefined,\r\n  })\r\n  .methods({\r\n\r\n    /**\r\n     *\r\n     * @param enabled\r\n     */\r\n    setProgressOverlayEnabled(enabled) {\r\n      kendo.ui.progress(this.controlsView, enabled);\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    destroy() {\r\n      const { controlsView } = this;\r\n\r\n      if (controlsView) {\r\n        kendo.destroy(controlsView);\r\n        controlsView.empty();\r\n      }\r\n\r\n    },\r\n\r\n  })\r\n  .init(({ instance }) => {\r\n    const { controlsView, viewer } = instance;\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     * Controller\r\n     */\r\n    let controller;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let objectsLoadedActions                 = {};\r\n    let objectAddedActions                   = {};\r\n    let objectsVisibilityChangedActions      = {};\r\n    let objectLabelsVisibilityChangedActions = {};\r\n\r\n    /*\r\n     *\r\n     */\r\n    let dropDownLists;\r\n    let dateTimePickers;\r\n    let goToIcon;\r\n    let objectTrees;\r\n    let objectEditors;\r\n    let editModeActivators;\r\n    let editableObjectNameTextboxes;\r\n    let editableObjectConfigNameDropDowns;\r\n    let confirmObjectCreationButtons;\r\n    let cancelObjectCreationButtons;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let autoRefreshCheckbox;\r\n    let autoFocusCheckbox;\r\n    let autoLabelingCheckbox;\r\n    let saveViewportButton;\r\n    let restoreViewportButton;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let zoomToScaleDropDown;\r\n    let zoomToLevelDropDown;\r\n\r\n    //let zoomToRegionDropDown;\r\n    //let saveRegionButton;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let historyModeRadio;\r\n    let presetIntervalsDropDown;\r\n    let intervalSelectionFieldset;\r\n    let fromDateTimePicker;\r\n    let toDateTimePicker;\r\n    let fetchPositionsButton;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let positionList;\r\n    let positionsVisibilityCheckbox;\r\n    let positionTree;\r\n    let positionCountBadge;\r\n    let assetLabelsCheckbox;\r\n    let useClustersCheckbox;\r\n    let positionsConnectorCheckbox;\r\n    let statusFiltersMultiSelect;\r\n    let animationButton;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let animationPanel;\r\n    let animationCurrentStepText;\r\n    let animationMaxStepText;\r\n    let animationInfoText;\r\n    let animationPauseButton;\r\n    let animationStopButton;\r\n    let animationPlayButton;\r\n    let animationSlider;\r\n    let animationSpeedDropDown;\r\n    let trailLengthDropDown;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let locationTree;\r\n    let locationCountBadge;\r\n    let locationLabelsCheckbox;\r\n    let locationCoordinatesTextbox;\r\n    let locationNameTextbox;\r\n    let locationConfigNameDropDown;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let geofenceTree;\r\n    let geofenceCountBadge;\r\n    let geofenceLabelsCheckbox;\r\n    let geofenceShapeTypeButtons;\r\n    let geofenceBufferDistanceTextboxes;\r\n    let geofenceNameTextbox;\r\n    let geofenceConfigNameDropDown;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region private methods */\r\n\r\n    /**\r\n     *\r\n     */\r\n    function setupMethodLookups() {\r\n      const { onPositionsLoaded, onLocationsLoaded, onGeofencesLoaded,\r\n              onLocationAdded, onGeofenceAdded,\r\n              onPositionsVisibilityChanged,\r\n              onLocationsVisibilityChanged,\r\n              onGeofencesVisibilityChanged,\r\n              onAssetLabelsVisibilityChanged,\r\n              onLocationLabelsVisibilityChanged,\r\n              onGeofenceLabelsVisibilityChanged, } = instance;\r\n\r\n      objectsLoadedActions = {\r\n        [ROAM_ASSETS]          : onPositionsLoaded,\r\n        [ROAM_ASSETS_HISTORY]  : onPositionsLoaded,\r\n        [ROAM_LOCATIONS]       : onLocationsLoaded,\r\n        [ROAM_GEOFENCES]       : onGeofencesLoaded,\r\n        [ROAM_ASSETS_ANIMATION]: _.noop,\r\n      };\r\n\r\n      objectAddedActions = {\r\n        [ROAM_ASSETS]          : _.noop,\r\n        [ROAM_ASSETS_HISTORY]  : _.noop,\r\n        [ROAM_LOCATIONS]       : onLocationAdded,\r\n        [ROAM_GEOFENCES]       : onGeofenceAdded,\r\n        [ROAM_ASSETS_ANIMATION]: _.noop,\r\n      };\r\n\r\n      objectsVisibilityChangedActions = {\r\n        [ROAM_ASSETS]          : onPositionsVisibilityChanged,\r\n        [ROAM_ASSETS_HISTORY]  : onPositionsVisibilityChanged,\r\n        [ROAM_LOCATIONS]       : onLocationsVisibilityChanged,\r\n        [ROAM_GEOFENCES]       : onGeofencesVisibilityChanged,\r\n        [ROAM_ASSETS_ANIMATION]: _.noop,\r\n      };\r\n\r\n      objectLabelsVisibilityChangedActions = {\r\n        [ROAM_ASSETS]          : onAssetLabelsVisibilityChanged,\r\n        [ROAM_ASSETS_HISTORY]  : onAssetLabelsVisibilityChanged,\r\n        [ROAM_LOCATIONS]       : onLocationLabelsVisibilityChanged,\r\n        [ROAM_GEOFENCES]       : onGeofenceLabelsVisibilityChanged,\r\n        [ROAM_ASSETS_ANIMATION]: _.noop,\r\n      };\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildGeneralControls() {\r\n      dropDownLists   = controlsView.find('select:not([multiple])');\r\n      dateTimePickers = controlsView.find('.datetime-picker');\r\n      objectTrees     = controlsView.find('.object-tree');\r\n\r\n      objectEditors                     = controlsView.find('.object-editor');\r\n      editModeActivators                = objectEditors.prev('.editmode-activator');\r\n      editableObjectNameTextboxes       = objectEditors.find('.editableobject-objectname');\r\n      editableObjectConfigNameDropDowns = objectEditors.find('.editableobject-configname');\r\n      confirmObjectCreationButtons      = objectEditors.find('.confirm-object-creation');\r\n      cancelObjectCreationButtons       = objectEditors.find('.cancel-object-creation');\r\n\r\n      goToIcon = $('<span>')\r\n        .addClass('mc-icon mc-icon-goto')\r\n        .attr('title', App.translate('Go to this map object'));\r\n\r\n      /* region Build Kendo controls */\r\n\r\n      dropDownLists.kendoDropDownList({\r\n        dataTextField : 'text',\r\n        dataValueField: 'value',\r\n      });\r\n\r\n      dateTimePickers.kendoDateTimePicker({\r\n        format: App.config.user.dateTimeFormat,\r\n      });\r\n\r\n      objectTrees.kendoTreeView({\r\n        loadOnDemand: true,\r\n        checkboxes  : {\r\n          checkChildren: true,\r\n        },\r\n      });\r\n\r\n      /* endregion Build Kendo controls */\r\n\r\n      /* region Setup event listeners */\r\n\r\n      goToIcon.on('click', (e) => {\r\n        e.stopPropagation();\r\n\r\n        const icon      = $(e.target);\r\n        const layerName = icon.data('layerName');\r\n        const id        = icon.data('id');\r\n\r\n        controller.onObjectZoomingRequested(layerName, id);\r\n      });\r\n\r\n      objectTrees.on({\r\n        mouseenter(e) {\r\n          const item     = $(e.currentTarget);\r\n          const dataItem = item.closest('.object-tree')\r\n                               .data('kendoTreeView')\r\n                               .dataItem(item);\r\n\r\n          if (dataItem.leaf) {\r\n            const { layerName, id } = dataItem;\r\n\r\n            goToIcon\r\n              .data({\r\n                layerName,\r\n                id,\r\n              })\r\n\r\n              /*\r\n               * Append it to the container of\r\n               * the tree item's text.\r\n               */\r\n              .appendTo(item.find('div > .k-in'));\r\n          }\r\n\r\n        },\r\n\r\n        mouseleave() {\r\n          goToIcon.detach();\r\n        },\r\n\r\n      }, '.k-item');\r\n\r\n      _.forEach(objectTrees, (objectTree) => {\r\n        const treeView  = $(objectTree);\r\n        const kTreeView = treeView.data('kendoTreeView');\r\n\r\n        kTreeView\r\n          .bind('check', (e) => {\r\n            const checkedItem = e.sender;\r\n            const dataItem    = checkedItem.dataItem(e.node);\r\n            const { layerName, objectIds, checked } = dataItem;\r\n\r\n            controller.onObjectsVisibilityToggled(layerName, objectIds, checked);\r\n          });\r\n\r\n        if (treeView.hasClass('position-tree')) {\r\n          kTreeView\r\n            .bind('select', (e) => {\r\n              const selectedItem = e.sender;\r\n              controller.onPositionSelectionToggled(\r\n                selectedItem.dataItem(e.node).id, true);\r\n            });\r\n        }\r\n\r\n      });\r\n\r\n      editModeActivators.on('click', (e) => {\r\n        const activator    = $(e.currentTarget);\r\n        const objectEditor = activator.next('.object-editor');\r\n        const editManager  = viewer.getEditManager();\r\n\r\n        controller.onEditableObjectTypeSelected(\r\n          objectEditor.data('objecttype'));\r\n\r\n        controller.onEditableObjectShapeTypeSelected(\r\n          editManager.getEditableObjectShapeType());\r\n      });\r\n\r\n      editableObjectNameTextboxes.on('blur', (e) => {\r\n        controller.onEditableObjectNameEntered($(e.target).val());\r\n      });\r\n\r\n      editableObjectConfigNameDropDowns.on('change', (e) => {\r\n        controller.onEditableObjectConfigNameSelected($(e.target).val());\r\n      });\r\n\r\n      confirmObjectCreationButtons.on('click', () => {\r\n        const editManager     = viewer.getEditManager();\r\n        const targetLayerName = editManager.getTargetLayerName();\r\n\r\n        if (editManager.isEditableObjectPropertiesValid()) {\r\n          const editableObjectProperties = editManager\r\n            .getSanitizedEditableObjectProperties();\r\n\r\n          controller.onObjectCreationRequested(\r\n            targetLayerName, editableObjectProperties);\r\n        }\r\n\r\n      });\r\n\r\n      cancelObjectCreationButtons.on('click', () =>\r\n        controller.onEditModeDeactivated());\r\n\r\n      /* endregion Setup event listeners */\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildMapViewPanelControls() {\r\n      const viewBehaviorPanel = controlsView.find('.mc-panel-viewbehavior');\r\n      const viewAreaPanel     = controlsView.find('.mc-panel-viewarea');\r\n\r\n      autoRefreshCheckbox   = viewBehaviorPanel.find('[name=\"auto-refresh\"]');\r\n      autoFocusCheckbox     = viewBehaviorPanel.find('[name=\"auto-focus\"]');\r\n      autoLabelingCheckbox  = viewBehaviorPanel.find('[name=\"auto-labeling\"]');\r\n      saveViewportButton    = viewBehaviorPanel.find('[name=\"save-viewport\"]');\r\n      restoreViewportButton = viewBehaviorPanel.find('[name=\"restore-viewport\"]');\r\n\r\n      zoomToScaleDropDown = viewAreaPanel.find('[name=\"zoom-to-scale\"]');\r\n      zoomToLevelDropDown = viewAreaPanel.find('[name=\"zoom-to-level\"]');\r\n\r\n      /* region Reformat scales number */\r\n\r\n      _.forEach(zoomToScaleDropDown.children('option'), (opt) => {\r\n        const option      = $(opt);\r\n        const scaleTextRe = /1 : (\\d+)/i;\r\n\r\n        if (option.text().match(scaleTextRe)) {\r\n          const value     = _.parseInt(option.val());\r\n          const scaleText = `1 : ${kendo.toString(value, 'n0')}`;\r\n\r\n          option.text(scaleText);\r\n        }\r\n\r\n      });\r\n\r\n      /*\r\n       * Rebuild after reformat; Meh.\r\n       */\r\n      zoomToScaleDropDown.kendoDropDownList({\r\n        dataTextField : 'text',\r\n        dataValueField: 'value',\r\n      });\r\n\r\n      /* endregion Reformat scales number */\r\n\r\n      /* region Setup event listeners */\r\n\r\n      /* region View behavior */\r\n\r\n      autoRefreshCheckbox.on('click', (e) => {\r\n        controller.onAutoRefreshToggled($(e.target).is(':checked'));\r\n      });\r\n\r\n      autoFocusCheckbox.on('click', (e) => {\r\n        controller.onAutoFocusToggled($(e.target).is(':checked'));\r\n      });\r\n\r\n      autoLabelingCheckbox.on('click', (e) => {\r\n        controller.onAutoLabelingToggled($(e.target).is(':checked'));\r\n      });\r\n\r\n      saveViewportButton.on('click', () =>\r\n        controller.onViewportSaved(viewer.getBoundingBox()));\r\n\r\n      restoreViewportButton.on('click', () =>\r\n        controller.onViewportRestored(localStorage.getItem('USER_BBOX')));\r\n\r\n      /* endregion View behavior */\r\n\r\n      /* region View area */\r\n\r\n      zoomToScaleDropDown.on('change', (e) => {\r\n        controller.onScaleZoomingSelected($(e.target).val());\r\n      });\r\n\r\n      zoomToLevelDropDown.on('change', (e) => {\r\n        controller.onLevelZoomingSelected($(e.target).val());\r\n      });\r\n\r\n      /* endregion View area */\r\n\r\n      /* endregion Setup event listeners */\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildIntervalsPanelControls() {\r\n      const intervalsPanel = controlsView.find('.mc-panel-intervals');\r\n\r\n      historyModeRadio          = intervalsPanel.find('[name=\"history-mode\"]');\r\n      presetIntervalsDropDown   = intervalsPanel.find('[name=\"preset-intervals\"]');\r\n      intervalSelectionFieldset = intervalsPanel.find('[name=\"interval-selection\"]');\r\n      fromDateTimePicker        = intervalsPanel.find('[name=\"datetime-from\"]');\r\n      toDateTimePicker          = intervalsPanel.find('[name=\"datetime-to\"]');\r\n      fetchPositionsButton      = intervalsPanel.find('[name=\"fetch-positions\"]');\r\n\r\n      /* region Setup event listeners */\r\n\r\n      historyModeRadio.on('click', (e) => {\r\n        const historyMode = $(e.target).val();\r\n        const latest      = (historyMode === 'CURRENT');\r\n\r\n        controller.onDataSelectionOptionsUpdated({ latest });\r\n      });\r\n\r\n      const kFromDateTimePicker = fromDateTimePicker.data('kendoDateTimePicker');\r\n      const kToDateTimePicker   = toDateTimePicker.data('kendoDateTimePicker');\r\n\r\n      presetIntervalsDropDown.on('change', (e) => {\r\n        const presetInterval = $(e.target).val();\r\n\r\n        if (presetInterval && (presetInterval !== '-')) {\r\n          const { min, max } = viewer.selectIntervalRange(presetInterval);\r\n\r\n          controller.onDataSelectionOptionsUpdated({\r\n            from: min,\r\n            to  : max,\r\n          });\r\n        }\r\n\r\n      });\r\n\r\n      kFromDateTimePicker\r\n        .bind('change', (e) => {\r\n\r\n          /*\r\n           * Pick the value; fallback to max if from > to.\r\n           */\r\n          const picker = e.sender;\r\n          const from   = picker.value() || picker.max();\r\n          controller.onDataSelectionOptionsUpdated({ from });\r\n        });\r\n\r\n      kToDateTimePicker\r\n        .bind('change', (e) => {\r\n\r\n          /*\r\n           * Pick the value; fallback to min if to < from.\r\n           */\r\n          const picker = e.sender;\r\n          const to     = picker.value() || picker.min();\r\n\r\n          controller.onDataSelectionOptionsUpdated({ to });\r\n        });\r\n\r\n      fetchPositionsButton.on('click', () => {\r\n        instance.onPositionsFetchingRequested();\r\n      });\r\n\r\n      /* endregion Setup event listeners */\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildNavigationPanelControls() {\r\n      const navigationPanel = controlsView.find('.mc-panel-navigation');\r\n\r\n      positionList                = navigationPanel.find('.position-list');\r\n      positionsVisibilityCheckbox = navigationPanel.find('[name=\"positions-visibility\"]');\r\n      positionTree                = navigationPanel.find('.position-tree');\r\n      positionCountBadge          = navigationPanel.find('.position-count');\r\n      assetLabelsCheckbox         = navigationPanel.find('[name=\"asset-labels\"]');\r\n      useClustersCheckbox         = navigationPanel.find('[name=\"use-clusters\"]');\r\n      positionsConnectorCheckbox  = navigationPanel.find('[name=\"positions-connector\"]');\r\n      statusFiltersMultiSelect    = navigationPanel.find('[name=\"status-filters\"]');\r\n      animationButton             = navigationPanel.find('[name=\"animation\"]');\r\n\r\n      /* region Setup event listeners */\r\n\r\n      positionList.on({\r\n        click(e) {\r\n          const item = $(e.currentTarget);\r\n\r\n          item.toggleClass('active');\r\n\r\n          controller.onPositionSelectionToggled(\r\n            item.data('id'), item.is('.active'));\r\n        },\r\n\r\n        mouseenter(e) {\r\n          const item = $(e.currentTarget);\r\n\r\n          goToIcon\r\n            .data({\r\n              layerName: item.data('layerName'),\r\n              id       : item.data('id'),\r\n            })\r\n            .appendTo(item);\r\n        },\r\n\r\n        mouseleave() {\r\n          goToIcon.detach();\r\n        },\r\n\r\n      }, '.list-group-item');\r\n\r\n      const layerManager = viewer.getLayerManager();\r\n\r\n      positionsVisibilityCheckbox.on('click', (e) => {\r\n        const positionLayerName = layerManager.getPositionLayerName();\r\n        const objectIds         = _.map(\r\n          layerManager.getObjectsByLayer(positionLayerName),\r\n          'roamObject.domainObjectTypeId');\r\n\r\n        controller.onObjectsVisibilityToggled(\r\n          positionLayerName, objectIds, $(e.target).is(':checked'));\r\n      });\r\n\r\n      assetLabelsCheckbox.on('click', (e) => {\r\n        controller.onObjectLabelsVisibilityToggled(\r\n          layerManager.getPositionLayerName(), $(e.target).is(':checked'));\r\n      });\r\n\r\n      useClustersCheckbox.on('click', (e) => {\r\n        controller.onUseClustersStatusToggled($(e.target).is(':checked'));\r\n      });\r\n\r\n      positionsConnectorCheckbox.on('click', (e) => {\r\n        controller.onConnectHistoryPositionsStatusToggled($(e.target).is(':checked'));\r\n      });\r\n\r\n      statusFiltersMultiSelect\r\n        .kendoMultiSelect()\r\n        .data('kendoMultiSelect')\r\n        .bind('change', (e) => {\r\n          controller.onAssetStatusFiltersChanged(e.sender.value());\r\n        });\r\n\r\n      animationButton.on('click', () =>\r\n        controller.onAnimationPositionsLoadingRequested());\r\n\r\n      /* endregion Setup event listeners */\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildAnimationPanelControls() {\r\n      animationPanel           = controlsView.find('.mc-panel-animation');\r\n      animationCurrentStepText = animationPanel.find('.step-current');\r\n      animationMaxStepText     = animationPanel.find('.step-max');\r\n      animationInfoText        = animationPanel.find('.animation-info');\r\n      animationPauseButton     = animationPanel.find('[name=\"animation-pause\"]');\r\n      animationStopButton      = animationPanel.find('[name=\"animation-stop\"]');\r\n      animationPlayButton      = animationPanel.find('[name=\"animation-play\"]');\r\n      animationSlider          = animationPanel.find('[name=\"animation-slider\"]');\r\n      animationSpeedDropDown   = animationPanel.find('[name=\"animation-speed\"]');\r\n      trailLengthDropDown      = animationPanel.find('[name=\"trail-length\"]');\r\n\r\n      /* region Build Kendo controls */\r\n\r\n      rebuildAnimationSlider();\r\n\r\n      /* endregion Build Kendo controls */\r\n\r\n      /* region Setup event listeners */\r\n\r\n      animationPauseButton.on('click', () => controller.onAnimationPaused());\r\n\r\n      animationStopButton.on('click', () => controller.onAnimationStopped());\r\n\r\n      animationPlayButton.on('click', () => controller.onAnimationStarted());\r\n\r\n      animationSpeedDropDown.on('change', (e) => {\r\n        controller.onAnimationSpeedSelected($(e.target).val());\r\n      });\r\n\r\n      trailLengthDropDown.on('change', (e) => {\r\n        controller.onAnimationTrailLengthSelected($(e.target).val());\r\n      });\r\n\r\n      /* endregion Setup event listeners */\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildLocationsPanelControls() {\r\n      const locationsPanel = controlsView.find('.mc-panel-locations');\r\n\r\n      locationTree               = locationsPanel.find('.location-tree');\r\n      locationCountBadge         = locationsPanel.find('.location-count');\r\n      locationLabelsCheckbox     = locationsPanel.find('[name=\"location-labels\"]');\r\n      locationCoordinatesTextbox = locationsPanel.find('[name=\"location-coordinates\"]');\r\n      locationNameTextbox        = locationsPanel.find('[name=\"location-objectname\"]');\r\n      locationConfigNameDropDown = locationsPanel.find('[name=\"location-configname\"]');\r\n\r\n      /* region Setup event listeners */\r\n\r\n      locationLabelsCheckbox.on('click', (e) => {\r\n        controller.onObjectLabelsVisibilityToggled(\r\n          ROAM_LOCATIONS, $(e.target).is(':checked'));\r\n      });\r\n\r\n      locationCoordinatesTextbox.on('blur', (e) => {\r\n        controller.onEditableObjectLatLngEntered($(e.target).val());\r\n      });\r\n\r\n      /* endregion Setup event listeners */\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildGeofencesPanelControls() {\r\n      const geofencesPanel = controlsView.find('.mc-panel-geofences');\r\n\r\n      geofenceTree                    = geofencesPanel.find('.geofence-tree');\r\n      geofenceCountBadge              = geofencesPanel.find('.geofence-count');\r\n      geofenceLabelsCheckbox          = geofencesPanel.find('[name=\"geofence-labels\"]');\r\n      geofenceShapeTypeButtons        = geofencesPanel.find('[name=\"geofence-shapetype\"]');\r\n      geofenceBufferDistanceTextboxes = geofencesPanel.find('[name=\"geofence-bufferdistance\"]');\r\n      geofenceNameTextbox             = geofencesPanel.find('[name=\"geofence-objectname\"]');\r\n      geofenceConfigNameDropDown      = geofencesPanel.find('[name=\"geofence-configname\"]');\r\n\r\n      /* region Setup event listeners */\r\n\r\n      geofenceLabelsCheckbox.on('click', (e) => {\r\n        controller.onObjectLabelsVisibilityToggled(\r\n          ROAM_GEOFENCES, $(e.target).is(':checked'));\r\n      });\r\n\r\n      geofenceShapeTypeButtons.on('click', (e) => {\r\n        const shapeType         = $(e.currentTarget).data('shapetype');\r\n        const selectedShapeType = viewer.getEditManager().getEditableObjectShapeType();\r\n\r\n        if (shapeType !== selectedShapeType) {\r\n          controller.onEditableObjectShapeTypeSelected(shapeType);\r\n        }\r\n\r\n      });\r\n\r\n      geofenceBufferDistanceTextboxes.on('blur', (e) => {\r\n        controller.onEditableObjectBufferDistanceEntered($(e.target).val());\r\n      });\r\n\r\n      /* endregion Setup event listeners */\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param fieldsetSelector\r\n     * @param enabled\r\n     */\r\n    function setFieldsetEnabled(fieldsetSelector, enabled) {\r\n      const fieldset = controlsView.find(fieldsetSelector);\r\n\r\n      fieldset\r\n        .prop('disabled', !enabled)\r\n        .find('input, select, button, fieldset')\r\n        .prop('disabled', !enabled);\r\n\r\n      _(fieldset.find('input.datetime-picker'))\r\n        .map(dateTimePicker => $(dateTimePicker).data('kendoDateTimePicker'))\r\n        .compact()\r\n        .forEach(kDateTimePicker => kDateTimePicker.enable(enabled));\r\n\r\n      _(fieldset.find('select:not([multiple])'))\r\n        .map(dropDownList => $(dropDownList).data('kendoDropDownList'))\r\n        .compact()\r\n        .forEach(kDropDownList => kDropDownList.enable(enabled));\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param buttonsState\r\n     */\r\n    function setAnimationButtonsEnabled(buttonsState) {\r\n      animationPauseButton.prop('disabled', !buttonsState.pause);\r\n      animationStopButton.prop('disabled', !buttonsState.stop);\r\n      animationPlayButton.prop('disabled', !buttonsState.play);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function rebuildAnimationSlider() {\r\n      let kAnimationSlider = animationSlider.data('kendoSlider');\r\n\r\n      if (kAnimationSlider) {\r\n        const animationSliderContainer = animationSlider\r\n          .closest('.animation-slider-container');\r\n\r\n        /**\r\n         * Destroy Kendo widgets manually.\r\n         * Point 3) is our case, since we'd like to change\r\n         * the maximum value of the slider.\r\n         * @see http://docs.telerik.com/kendo-ui/framework/widgets/destroy\r\n         */\r\n        kAnimationSlider.destroy();\r\n        animationSliderContainer.empty();\r\n\r\n        animationSlider = $('<input>')\r\n          .attr('name', 'animation-slider')\r\n          .appendTo(animationSliderContainer);\r\n      }\r\n\r\n      const maxStep = viewer.getAnimationManager().getMaxStep();\r\n      const ready   = (maxStep > 0);\r\n\r\n      kAnimationSlider = animationSlider\r\n        .kendoSlider({\r\n          //showButtons  : false,\r\n          tickPlacement: 'none',\r\n          max          : maxStep,\r\n        })\r\n        .data('kendoSlider');\r\n\r\n      if (ready) {\r\n        kAnimationSlider\r\n          .bind('change', (e) => {\r\n            const step = e.value;\r\n\r\n            controller.onAnimationPaused();\r\n            controller.onAnimationStepSelected(step);\r\n          });\r\n      }\r\n\r\n      kAnimationSlider.enable(ready);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param objectTypeName\r\n     * @param objects\r\n     * @returns {Array}\r\n     */\r\n    function createTreeViewDataSource(objectTypeName, objects) {\r\n      const layerName = ROAM_LAYERS[`ROAM_${objectTypeName.toUpperCase()}`];\r\n      const data      = [];\r\n      const root      = {\r\n        layerName,\r\n        root     : true,\r\n        id       : objectTypeName.toLowerCase(),\r\n        text     : App.translate(objectTypeName),\r\n        items    : [],\r\n        objectIds: [],\r\n        expanded : true,\r\n      };\r\n\r\n      const configurationFilterEnabled =\r\n              viewer.testIsAssetConfigurationFilterEnabled(layerName);\r\n      const configurations             = {};\r\n      const categories                 = {};\r\n\r\n      _.forEach(objects, (o) => {\r\n\r\n        /*\r\n         * Leaf nodes\r\n         */\r\n        const { domainObjectTypeId, asset, name } = o;\r\n        const leaf = {\r\n          layerName,\r\n          leaf     : true,\r\n          id       : domainObjectTypeId,\r\n          text     : asset ? asset.name : name,\r\n          objectIds: [domainObjectTypeId],\r\n        };\r\n\r\n        if (layerName === ROAM_ASSETS_HISTORY) {\r\n          leaf.text = `${asset.name} ${name}`;\r\n        }\r\n\r\n        /*\r\n         * Category nodes\r\n         */\r\n        const { locationType, fenceType, assetCategory } = o;\r\n        const categoryName = locationType || fenceType || assetCategory || 'Unknown';\r\n        let category       = categories[categoryName];\r\n\r\n        if (!category) {\r\n          category = categories[categoryName] = {};\r\n\r\n          _.assign(category, {\r\n            layerName,\r\n            category : true,\r\n            name     : App.translate(categoryName),\r\n            id       : categoryName.toLowerCase(),\r\n            imageUrl : styler.getObjectCategoryIcon(o),\r\n            items    : [],\r\n            objectIds: [],\r\n          });\r\n        }\r\n\r\n        const categoryItems = category.items;\r\n\r\n        categoryItems.push(leaf);\r\n        category.objectIds.push(leaf.id);\r\n        category.text = `${category.name} (${categoryItems.length})`;\r\n\r\n        /*\r\n         * Configuration nodes\r\n         */\r\n        if (configurationFilterEnabled) {\r\n          const configName = o.configurationName || 'Unknown';\r\n          let config       = configurations[configName];\r\n\r\n          if (!config) {\r\n            config = configurations[configName] = {};\r\n\r\n            _.assign(config, {\r\n              layerName,\r\n              configuration: true,\r\n              name         : App.translate(configName),\r\n              items        : [],\r\n              objectIds    : [],\r\n            });\r\n          }\r\n\r\n          const configItems = config.items;\r\n\r\n          if (!_.find(configItems, { id: category.id })) {\r\n            configItems.push(category);\r\n            config.text = `${config.name} (${configItems.length})`;\r\n          }\r\n\r\n          config.objectIds.push(leaf.id);\r\n        }\r\n\r\n      });\r\n\r\n      const rootItems = !_.isEmpty(configurations) ?\r\n                        configurations : categories;\r\n\r\n      root.items = _(rootItems)\r\n        .map()\r\n        .compact()\r\n        .forEach((rootItem) => {\r\n          root.objectIds = [...root.objectIds, ...rootItem.objectIds];\r\n        });\r\n\r\n      data.push(root);\r\n\r\n      return data;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param options\r\n     */\r\n    function rebuildTreeView(options) {\r\n      const { objectTree, objectTypeName, objects, countBadge } = options;\r\n      const kObjectTree = objectTree.data('kendoTreeView');\r\n\r\n      if (kObjectTree) {\r\n        const dataSource = new kendo.data.HierarchicalDataSource({\r\n          data: createTreeViewDataSource(objectTypeName, objects),\r\n        });\r\n\r\n        kObjectTree.setDataSource(dataSource);\r\n      }\r\n\r\n      countBadge.text(objects.length);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param options\r\n     */\r\n    function addTreeViewItem(options) {\r\n      const { layerName } = options;\r\n\r\n      /*\r\n       * We don't currently support creating (adding) asset\r\n       * position, the below mechanism applies only for adding\r\n       * a location or geofence object.\r\n       */\r\n      if (!viewer.getLayerManager().testIsPositionLayerName(layerName)) {\r\n        const { objectTree, object, countBadge } = options;\r\n        const kTreeView    = objectTree.data('kendoTreeView');\r\n        const { locationType, fenceType } = object;\r\n        const categoryName = locationType || fenceType;\r\n\r\n        if (kTreeView) {\r\n          const { dataSource }   = kTreeView;\r\n          let category = dataSource.get(categoryName.toLowerCase());\r\n          let categoryNode;\r\n\r\n          if (category) {\r\n            categoryNode = kTreeView.findByUid(category.uid);\r\n          } else {\r\n            categoryNode = kTreeView.append({\r\n              layerName,\r\n              category : true,\r\n              name     : categoryName,\r\n              id       : categoryName.toLowerCase(),\r\n              imageUrl : styler.getObjectCategoryIcon(object),\r\n              items    : [],\r\n              objectIds: [],\r\n            }, objectTree.find('.k-item:first'));\r\n\r\n            category = kTreeView.dataItem(categoryNode);\r\n          }\r\n\r\n          /**\r\n           * Make sure the child nodes loaded.\r\n           * @see http://docs.telerik.com/kendo-ui/api/javascript/data/node#methods-loaded\r\n           * @see http://docs.telerik.com/kendo-ui/api/javascript/data/node#methods-load\r\n           */\r\n          if (!category.loaded()) {\r\n            category.load();\r\n          }\r\n\r\n          const categoryItems = category.items;\r\n          const { domainObjectTypeId, name } = object;\r\n\r\n          if (!_.find(categoryItems, { id: domainObjectTypeId })) {\r\n            const root     = dataSource.at(0);\r\n            const itemNode = kTreeView.append({\r\n              layerName,\r\n              leaf     : true,\r\n              id       : domainObjectTypeId,\r\n              text     : name,\r\n              objectIds: [domainObjectTypeId],\r\n            }, categoryNode);\r\n\r\n            root.objectIds.push(domainObjectTypeId);\r\n            category.objectIds.push(domainObjectTypeId);\r\n\r\n            kTreeView.expandTo(itemNode);\r\n            kTreeView.select(itemNode);\r\n\r\n            kTreeView.text(categoryNode,\r\n              `${categoryName} (${categoryItems.length})`);\r\n\r\n            countBadge.text(_.parseInt(countBadge.text()) + 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param options\r\n     */\r\n    function handleTreeObjectsVisibilityChanged(options) {\r\n      const { objectIds, visibility, objectTree } = options;\r\n\r\n      if (!_.isEmpty(objectIds)) {\r\n        const kTreeView = objectTree.data('kendoTreeView');\r\n\r\n        if (kTreeView) {\r\n          const root = kTreeView.dataSource.at(0);\r\n\r\n          /**\r\n           * REVIEW: Is there a better way to do this?\r\n           * Item nodes need to be loaded if asset status\r\n           * filters feature is enabled (applied for position\r\n           * \"assetmessageevent\" layer only).\r\n           */\r\n          const forceItemNodesLoadingEnabled =\r\n                  (viewer.isAssetStatusFiltersEnabled() &&\r\n                   viewer.getLayerManager().testIsPositionLayerName(root.layerName));\r\n\r\n          /*\r\n           * Programmatically (recursively) update the checked\r\n           * state of the nodes.\r\n           */\r\n          function updateCheckedState(item) {\r\n\r\n            if (_.isEmpty(_.difference(item.objectIds, objectIds))) {\r\n              item.set('checked', visibility);\r\n\r\n              return;\r\n            }\r\n\r\n            if (forceItemNodesLoadingEnabled && !item.loaded()) {\r\n              item.load();\r\n            }\r\n\r\n            const children = item.items;\r\n\r\n            if (_.isEmpty(children)) {\r\n              return;\r\n            }\r\n\r\n            _.forEach(children, child => updateCheckedState(child));\r\n          }\r\n\r\n          updateCheckedState(root);\r\n\r\n          /**\r\n           * REVIEW: May not needed anymore.\r\n           * When the checkbox is programmatically checked\r\n           * through code, e.g. (in our case) when zooming\r\n           * to object, there is a need to update indeterminate\r\n           * state of its parents.\r\n           * @see http://docs.telerik.com/kendo-ui/api/javascript/ui/treeview#methods-updateIndeterminate\r\n           */\r\n\r\n          //kTreeView.updateIndeterminate();\r\n        }\r\n      }\r\n    }\r\n\r\n    /* endregion private methods */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param mapController\r\n       */\r\n      setController(mapController) {\r\n        controller = mapController;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param listener\r\n       */\r\n      setListener(listener) {\r\n        instance.setController(listener);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param max\r\n       */\r\n      setDateTimePickerMaxDate(max) {\r\n\r\n        _(dateTimePickers)\r\n          .map(dateTimePicker => $(dateTimePicker).data('kendoDateTimePicker'))\r\n          .compact()\r\n          .forEach(kDateTimePicker => kDateTimePicker.max(max));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param hidden\r\n       */\r\n      setAutoLabelingCheckboxHidden(hidden) {\r\n        autoLabelingCheckbox\r\n          .closest('.checkbox')\r\n          .toggleClass('hidden', hidden);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param enabled\r\n       */\r\n      setUseClustersCheckboxEnabled(enabled) {\r\n        useClustersCheckbox\r\n          .prop('disabled', !enabled)\r\n          .closest('.checkbox')\r\n          .toggleClass('disabled', !enabled);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visible\r\n       */\r\n      setAssetStatusFiltersVisible(visible) {\r\n        statusFiltersMultiSelect\r\n          .closest('.status-filters-container')\r\n          .toggleClass('hidden', !visible);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param filtersValues\r\n       */\r\n      setAssetStatusFiltersValues(filtersValues) {\r\n        const kStatusFiltersMultiSelect =\r\n                statusFiltersMultiSelect.data('kendoMultiSelect');\r\n\r\n        if (kStatusFiltersMultiSelect) {\r\n          kStatusFiltersMultiSelect.setDataSource(new kendo.data.DataSource({\r\n            data: _.compact(filtersValues),\r\n          }));\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param locationConfigNames\r\n       */\r\n      setLocationConfigNames(locationConfigNames) {\r\n        const klocationConfigNameDropDown =\r\n                locationConfigNameDropDown.data('kendoDropDownList');\r\n\r\n        if (klocationConfigNameDropDown) {\r\n          klocationConfigNameDropDown.setDataSource(new kendo.data.DataSource({\r\n            data: locationConfigNames,\r\n          }));\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objects\r\n       */\r\n      onObjectsLoaded(layerName, objects) {\r\n        const objectsLoadedAction = objectsLoadedActions[layerName];\r\n\r\n        if (!_.isFunction(objectsLoadedAction)) {\r\n          throw new Error(`Invalid layer name: ${layerName}.`);\r\n        }\r\n\r\n        objectsLoadedAction(objects);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param positions\r\n       */\r\n      onPositionsLoaded(positions) {\r\n        const positionLayerName          = viewer.getLayerManager().getPositionLayerName();\r\n        const assetCategoryFilterEnabled = viewer.isAssetCategoryFilterEnabled();\r\n\r\n        positionTree\r\n          .parent()\r\n          .toggleClass('hidden', !assetCategoryFilterEnabled);\r\n\r\n        positionList\r\n          .parent()\r\n          .toggleClass('hidden', assetCategoryFilterEnabled);\r\n\r\n        positionsVisibilityCheckbox\r\n          .closest('.checkbox')\r\n          .toggleClass('hidden', assetCategoryFilterEnabled);\r\n\r\n        if (assetCategoryFilterEnabled) {\r\n          rebuildTreeView({\r\n            objectTypeName: 'Assets',\r\n            objects       : positions,\r\n            objectTree    : positionTree,\r\n            countBadge    : positionCountBadge,\r\n          });\r\n        } else {\r\n          positionList.empty();\r\n\r\n          _.forEach(positions, (position) => {\r\n            const { asset, eventTime, name, domainObjectTypeId } = position;\r\n            let itemText = asset.name;\r\n\r\n            if (eventTime) {\r\n              position.formattedEventTime =\r\n                App.util.format.dateTime(eventTime);\r\n            }\r\n\r\n            if (positionLayerName === ROAM_ASSETS_HISTORY) {\r\n              itemText = `${position.formattedEventTime} ${name}`;\r\n            }\r\n\r\n            const positionItem = $('<a>')\r\n              .addClass('list-group-item')\r\n              .text(itemText)\r\n              .data({\r\n                layerName: positionLayerName,\r\n                id       : domainObjectTypeId,\r\n              });\r\n\r\n            positionList.append(positionItem);\r\n          });\r\n        }\r\n\r\n        positionCountBadge.text(positions.length);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param locations\r\n       */\r\n      onLocationsLoaded(locations) {\r\n        rebuildTreeView({\r\n          objectTypeName: 'Locations',\r\n          objects       : locations,\r\n          objectTree    : locationTree,\r\n          countBadge    : locationCountBadge,\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param geofences\r\n       */\r\n      onGeofencesLoaded(geofences) {\r\n        rebuildTreeView({\r\n          objectTypeName: 'Geofences',\r\n          objects       : geofences,\r\n          objectTree    : geofenceTree,\r\n          countBadge    : geofenceCountBadge,\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param object\r\n       */\r\n      onObjectAdded(layerName, object) {\r\n        const objectAddedAction = objectAddedActions[layerName];\r\n\r\n        if (!_.isFunction(objectAddedAction)) {\r\n          throw new Error(`Invalid layer name: ${layerName}.`);\r\n        }\r\n\r\n        objectAddedAction(object);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param location\r\n       */\r\n      onLocationAdded(location) {\r\n        addTreeViewItem({\r\n          layerName : ROAM_LOCATIONS,\r\n          object    : location,\r\n          objectTree: locationTree,\r\n          countBadge: locationCountBadge,\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param geofence\r\n       */\r\n      onGeofenceAdded(geofence) {\r\n        addTreeViewItem({\r\n          layerName : ROAM_GEOFENCES,\r\n          object    : geofence,\r\n          objectTree: geofenceTree,\r\n          countBadge: geofenceCountBadge,\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param object\r\n       */\r\n      onObjectRemoved(layerName, object) {\r\n        _.noop();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param location\r\n       */\r\n      onLocationRemoved(location) {\r\n        //console.log('location removed');\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param geofence\r\n       */\r\n      onGeofenceRemoved(geofence) {\r\n        //console.log('geofence removed');\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param enabled\r\n       */\r\n      onSingleAssetModeStatusChanged(enabled) {\r\n        assetLabelsCheckbox\r\n          .prop('disabled', enabled)\r\n          .closest('.checkbox')\r\n          .toggleClass('disabled', enabled);\r\n\r\n        positionsConnectorCheckbox\r\n          .prop('disabled', !enabled)\r\n          .closest('.checkbox')\r\n          .toggleClass('disabled', !enabled);\r\n\r\n        animationButton.prop('disabled', !enabled);\r\n\r\n        const navigationText = enabled ? 'Asset Positions' : 'Assets';\r\n        controlsView\r\n          .find('[data-phrase=\"Navigation\"]')\r\n          .text(App.translate(navigationText));\r\n\r\n        instance.setAssetStatusFiltersVisible(\r\n          viewer.isAssetStatusFiltersEnabled() && !enabled);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      onAutoRefreshChanged(activated) {\r\n        autoRefreshCheckbox.prop('checked', activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      onPositionsFetchingRequested(polling) {\r\n        const positionLayerName = viewer.getLayerManager().getPositionLayerName();\r\n\r\n        controller.onPositionsFetchingRequested(positionLayerName, polling);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      onAutoFocusChanged(activated) {\r\n        autoFocusCheckbox.prop('checked', activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      onAutoLabelingStatusChanged(activated) {\r\n        autoLabelingCheckbox.prop('checked', activated);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param options\r\n       */\r\n      onDataSelectionOptionsChanged(options) {\r\n        const { latest, from, to } = options;\r\n        const historyMode = latest ? 'CURRENT' : 'INTERVAL';\r\n\r\n        historyModeRadio\r\n          .filter(`[value=${historyMode}]`)\r\n          .prop('checked', true);\r\n\r\n        setFieldsetEnabled(intervalSelectionFieldset, !latest);\r\n\r\n        intervalSelectionFieldset\r\n          .parent('.panel')\r\n          .toggleClass('hidden', latest);\r\n\r\n        const kFromDateTimePicker = fromDateTimePicker.data('kendoDateTimePicker');\r\n        const kToDateTimePicker   = toDateTimePicker.data('kendoDateTimePicker');\r\n\r\n        if (kFromDateTimePicker && kToDateTimePicker) {\r\n          kFromDateTimePicker.max(to);\r\n          kFromDateTimePicker.value(from);\r\n          kToDateTimePicker.min(from);\r\n          kToDateTimePicker.value(to);\r\n        }\r\n\r\n        const presetInterval = viewer\r\n          .selectPresetInterval({ min: from, max: to });\r\n\r\n        const kPresetIntervalsDropDown = presetIntervalsDropDown\r\n          .data('kendoDropDownList');\r\n\r\n        if (kPresetIntervalsDropDown) {\r\n          kPresetIntervalsDropDown.value(presetInterval);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param objectIds\r\n       * @param visibility\r\n       */\r\n      onObjectsVisibilityChanged(layerName, objectIds, visibility) {\r\n        const objectsVisibilityChangedAction =\r\n                objectsVisibilityChangedActions[layerName];\r\n\r\n        if (!_.isFunction(objectsVisibilityChangedAction)) {\r\n          throw new Error(`Invalid layer name: ${layerName}.`);\r\n        }\r\n\r\n        objectsVisibilityChangedAction(objectIds, visibility);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectIds\r\n       * @param visibility\r\n       */\r\n      onPositionsVisibilityChanged(objectIds, visibility) {\r\n        const assetCategoryFilterEnabled = viewer.isAssetCategoryFilterEnabled();\r\n\r\n        if (assetCategoryFilterEnabled) {\r\n          handleTreeObjectsVisibilityChanged({\r\n            objectIds,\r\n            visibility,\r\n            objectTree: positionTree,\r\n          });\r\n        } else {\r\n          positionsVisibilityCheckbox.prop('checked', visibility);\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectIds\r\n       * @param visibility\r\n       */\r\n      onLocationsVisibilityChanged(objectIds, visibility) {\r\n        handleTreeObjectsVisibilityChanged({\r\n          objectIds,\r\n          visibility,\r\n          objectTree: locationTree,\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectIds\r\n       * @param visibility\r\n       */\r\n      onGeofencesVisibilityChanged(objectIds, visibility) {\r\n        handleTreeObjectsVisibilityChanged({\r\n          objectIds,\r\n          visibility,\r\n          objectTree: geofenceTree,\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param layerName\r\n       * @param visibility\r\n       */\r\n      onObjectLabelsVisibilityChanged(layerName, visibility) {\r\n        const objectLabelsVisibilityChangedAction =\r\n                objectLabelsVisibilityChangedActions[layerName];\r\n\r\n        if (!_.isFunction(objectLabelsVisibilityChangedAction)) {\r\n          throw new Error(`Invalid layer name: ${layerName}.`);\r\n        }\r\n\r\n        objectLabelsVisibilityChangedAction(visibility);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visibility\r\n       */\r\n      onAssetLabelsVisibilityChanged(visibility) {\r\n\r\n        if (!assetLabelsCheckbox.prop('disabled')) {\r\n          assetLabelsCheckbox.prop('checked', visibility);\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visibility\r\n       */\r\n      onLocationLabelsVisibilityChanged(visibility) {\r\n\r\n        if (!locationLabelsCheckbox.prop('disabled')) {\r\n          locationLabelsCheckbox.prop('checked', visibility);\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visibility\r\n       */\r\n      onGeofenceLabelsVisibilityChanged(visibility) {\r\n\r\n        if (!geofenceLabelsCheckbox.prop('disabled')) {\r\n          geofenceLabelsCheckbox.prop('checked', visibility);\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectId\r\n       * @param highlighted\r\n       */\r\n      onPositionHighlightChanged(objectId, highlighted) {\r\n\r\n        if (objectId) {\r\n          const assetCategoryFilterEnabled = viewer.isAssetCategoryFilterEnabled();\r\n\r\n          if (assetCategoryFilterEnabled) {\r\n            const kTreeView   = positionTree.data('kendoTreeView');\r\n            const selectedUid = kTreeView.dataSource.get(objectId).uid;\r\n\r\n            kTreeView.select(kTreeView.findByUid(selectedUid));\r\n          } else {\r\n            const targetItem = $(_.find(\r\n              positionList.children('.list-group-item'),\r\n              listItem => ($(listItem).data('id') === objectId))\r\n            );\r\n\r\n            targetItem.toggleClass('active', highlighted);\r\n          }\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      onUseClustersStatusChanged(activated) {\r\n\r\n        if (!useClustersCheckbox.prop('disabled')) {\r\n          useClustersCheckbox.prop('checked', activated);\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      onConnecinstancetoryPositionsStatusChanged(activated) {\r\n\r\n        if (!positionsConnectorCheckbox.prop('disabled')) {\r\n          positionsConnectorCheckbox.prop('checked', activated);\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param filters\r\n       */\r\n      onAssetStatusFiltersChanged(filters) {\r\n        const kStatusFiltersMultiSelect =\r\n                statusFiltersMultiSelect.data('kendoMultiSelect');\r\n\r\n        if (kStatusFiltersMultiSelect) {\r\n          kStatusFiltersMultiSelect.value(filters);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param activated\r\n       */\r\n      onAnimationFeatureStatusChanged(activated) {\r\n\r\n        if (animationPanel) {\r\n          animationPanel\r\n            .fadeIn(1000)\r\n            .toggleClass('hidden', !activated);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param currentStep\r\n       */\r\n      onAnimationCurrentStepChanged(currentStep) {\r\n        animationCurrentStepText.text(currentStep);\r\n        animationSlider\r\n          .data('kendoSlider')\r\n          .value(currentStep);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param maxStep\r\n       */\r\n      onAnimationMaxStepChanged(maxStep) {\r\n        animationMaxStepText.text(maxStep);\r\n        rebuildAnimationSlider();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param animationInfo\r\n       */\r\n      onAnimationInfoChanged(animationInfo) {\r\n        animationInfoText.text(animationInfo);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param animationSpeed\r\n       */\r\n      onAnimationSpeedChanged(animationSpeed) {\r\n        animationSpeedDropDown\r\n          .data('kendoDropDownList')\r\n          .value(animationSpeed);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param trailLength\r\n       */\r\n      onAnimationTrailLengthChanged(trailLength) {\r\n        trailLengthDropDown\r\n          .data('kendoDropDownList')\r\n          .value(trailLength);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param animationState\r\n       */\r\n      onAnimationStateChanged(animationState) {\r\n\r\n        if (animationState === PAUSE) {\r\n          setAnimationButtonsEnabled({\r\n            pause: false,\r\n            stop : true,\r\n            play : true,\r\n          });\r\n        } else if (animationState === STOP) {\r\n          setAnimationButtonsEnabled({\r\n            pause: false,\r\n            stop : false,\r\n            play : true,\r\n          });\r\n        } else {\r\n          setAnimationButtonsEnabled({\r\n            pause: true,\r\n            stop : true,\r\n            play : false,\r\n          });\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectType\r\n       */\r\n      onEditableObjectTypeChanged(objectType) {\r\n\r\n        _.forEach(objectEditors, (oEditor) => {\r\n          const objectEditor = $(oEditor);\r\n\r\n          const editModeActivator = objectEditor.prev('.editmode-activator');\r\n          const editorFieldset    = objectEditor.find('.editor-fieldset');\r\n          const editModeActivated = (objectEditor.data('objecttype') === objectType);\r\n\r\n          editModeActivator.toggleClass('hidden', editModeActivated);\r\n          objectEditor.toggleClass('hidden', !editModeActivated);\r\n          setFieldsetEnabled(editorFieldset, editModeActivated);\r\n\r\n          if (!editModeActivated) {\r\n            objectEditor\r\n              .find('.form-group')\r\n              .toggleClass('has-error', false);\r\n\r\n            objectEditor\r\n              .find('.invalid-block')\r\n              .toggleClass('hidden', true);\r\n          }\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param shapeType\r\n       */\r\n      onEditableObjectShapeTypeChanged(shapeType) {\r\n        const objectType             = viewer.getEditManager().getEditableObjectType();\r\n        const objectEditor           = objectEditors.filter(`[data-objecttype=\"${objectType}\"]`);\r\n        const shapeTypeButtons       = objectEditor.find('.editableobject-shapetype');\r\n        const shapeParameterFieldset = objectEditor.find('.shapeparameter-fieldset');\r\n\r\n        _.forEach(shapeTypeButtons,\r\n          (btn) => {\r\n            const button = $(btn);\r\n\r\n            const active = (button.data('shapetype') === shapeType);\r\n            button.toggleClass('active', active);\r\n          });\r\n\r\n        _.forEach(shapeParameterFieldset.children('.form-group'),\r\n          (frmGroup) => {\r\n            const formGroup = $(frmGroup);\r\n\r\n            const shown = (formGroup.data('shapetype') === shapeType);\r\n            formGroup.toggleClass('hidden', !shown);\r\n          });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param lat\r\n       * @param lng\r\n       */\r\n      onEditableObjectLatLngChanged(lat, lng) {\r\n        locationCoordinatesTextbox.val(`${lat}, ${lng}`);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param coordinates\r\n       */\r\n      onEditableObjectCoordinatesChanged(coordinates) {\r\n        const objectType         = viewer.getEditManager().getEditableObjectType();\r\n        const objectEditor       = objectEditors.filter(`[data-objecttype=\"${objectType}\"]`);\r\n        const coordinatesTextbox = objectEditor.find('.editableobject-coordinates');\r\n\r\n        // Default value of coordinates property.\r\n        coordinatesTextbox.val('');\r\n\r\n        if (!_.isEmpty(coordinates)) {\r\n          const coordinatesValid = _.every(coordinates, _.isFinite);\r\n\r\n          if (coordinatesValid) {\r\n            coordinatesTextbox.val(coordinates.join(', '));\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param bufferDistance\r\n       */\r\n      onEditableObjectBufferDistanceChanged(bufferDistance) {\r\n        const objectType            = viewer.getEditManager().getEditableObjectType();\r\n        const objectEditor          = objectEditors.filter(`[data-objecttype=\"${objectType}\"]`);\r\n        const bufferDistanceTextbox = objectEditor.find('.editableobject-bufferdistance');\r\n\r\n        bufferDistanceTextbox.val(_.round(bufferDistance));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectName\r\n       */\r\n      onEditableObjectNameChanged(objectName) {\r\n        const objectType        = viewer.getEditManager().getEditableObjectType();\r\n        const objectEditor      = objectEditors.filter(`[data-objecttype=\"${objectType}\"]`);\r\n        const objectNameTextbox = objectEditor.find('.editableobject-objectname');\r\n\r\n        objectNameTextbox.val(objectName);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param configName\r\n       */\r\n      onEditableObjectConfigNameChanged(configName) {\r\n        const objectType         = viewer.getEditManager().getEditableObjectType();\r\n        const objectEditor       = objectEditors.filter(`[data-objecttype=\"${objectType}\"]`);\r\n        const configNameDropDown = objectEditor.find('select.editableobject-configname');\r\n\r\n        configNameDropDown\r\n          .data('kendoDropDownList')\r\n          .value(configName);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param propertyName\r\n       * @param validity\r\n       */\r\n      onEditableObjectPropertyValidityChanged(propertyName, validity) {\r\n        const objectType   = viewer.getEditManager().getEditableObjectType();\r\n        const objectEditor = objectEditors.filter(`[data-objecttype=\"${objectType}\"]`);\r\n\r\n        const propName = propertyName.toLowerCase();\r\n\r\n        const editableObjectFormGroup =\r\n                objectEditor\r\n                  .find('.form-group:visible')\r\n                  .has(`.editableobject-${propName}`);\r\n\r\n        const editableObjectInvalidBlock =\r\n                editableObjectFormGroup.find(`.invalid-${propName}`);\r\n\r\n        const { valid, invalidText }  = validity;\r\n\r\n        editableObjectFormGroup.toggleClass('has-error', !valid);\r\n        editableObjectInvalidBlock.toggleClass('hidden', valid);\r\n\r\n        if (invalidText) {\r\n          editableObjectInvalidBlock\r\n            .find('.invalid-text')\r\n            .text(invalidText);\r\n        }\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    controlsView.html(viewTemplate);\r\n    App.i18n.translateContent(controlsView);\r\n\r\n    setupMethodLookups();\r\n\r\n    buildGeneralControls();\r\n    buildMapViewPanelControls();\r\n    buildIntervalsPanelControls();\r\n    buildNavigationPanelControls();\r\n    buildAnimationPanelControls();\r\n    buildLocationsPanelControls();\r\n    buildGeofencesPanelControls();\r\n\r\n    setFieldsetEnabled('fieldset:disabled', false);\r\n\r\n    /* endregion init code */\r\n  });\r\n\r\nexport { Controls as default, Controls };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/ui/controls.js\n **/","/**\r\n * Created by Glenn on 2015-04-27.\r\n */\r\n\r\nimport App from 'app';\r\n\r\nconst CoordinatesDisplay = stampit()\r\n  .props({\r\n\r\n    /**\r\n     * Model\r\n     */\r\n    viewer: undefined,\r\n  })\r\n  .init(({ instance }) => {\r\n    const { viewer } = instance;\r\n\r\n    /* region private properties */\r\n\r\n    /**\r\n     *\r\n     */\r\n    let coordinatesDisplayView;\r\n\r\n    /*\r\n     * Controller\r\n     */\r\n    let controller;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param mapController\r\n       */\r\n      setController(mapController) {\r\n        controller = mapController;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param longitude\r\n       * @param latitude\r\n       */\r\n      setCoordinates(longitude, latitude) {\r\n        coordinatesDisplayView.val(\r\n          `${longitude.toFixed(8)}, ${latitude.toFixed(8)}`);\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    const { lat, lng } = viewer.getCenter();\r\n    const defaultCoordinates = [lng.toFixed(8), lat.toFixed(8)];\r\n\r\n    coordinatesDisplayView = $('<input>')\r\n      .addClass('form-control input-sm map-coordinatesdisplay')\r\n      .attr({\r\n        type         : 'text',\r\n        title        : App.translate('Enter \"longitude, latitude\" coordinates and press enter.'),\r\n        'data-toggle': 'tooltip', // Make it a nice Bootstrap tooltip.\r\n        size         : 24,\r\n      })\r\n      .on('keydown', (e) => {\r\n\r\n        if (e.which === 13) {   // \"Enter\" key\r\n\r\n          const inputText         = $(e.target);\r\n          const coordinatesString = inputText.val();\r\n          const coordinates       = coordinatesString.split(',');\r\n          const lng               = parseFloat(coordinates[0].trim());\r\n          const lat               = parseFloat(coordinates[1].trim());\r\n\r\n          if (_.isFinite(lng) && _.isFinite(lat)) {\r\n            inputText.data('coordinatesString', coordinatesString);\r\n            viewer.panTo(lng, lat);\r\n          } else {\r\n            inputText.val(\r\n              inputText.data('coordinatesString'));\r\n          }\r\n        }\r\n      })\r\n      .val(defaultCoordinates.join(', '))\r\n      .appendTo(viewer.container);\r\n\r\n    /* endregion init code */\r\n  });\r\n\r\nexport { CoordinatesDisplay as default, CoordinatesDisplay };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/ui/exts/coordinates-display.js\n **/","/**\r\n * Created by Glenn on 2015-04-27.\r\n */\r\n\r\nimport App from 'app';\r\n\r\nconst { config, util } = App;\r\n\r\nconst DateRangeSlider = stampit()\r\n  .props({\r\n\r\n    /**\r\n     * Model\r\n     */\r\n    viewer: undefined,\r\n  })\r\n  .init(({ instance }) => {\r\n    const { viewer } = instance;\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     *\r\n     */\r\n    let sliderHook;\r\n    let latestEventCheckbox;\r\n    let slider;\r\n    let fromDateTimePicker;\r\n    let toDateTimePicker;\r\n    let presetIntervalsDropDown;\r\n\r\n    /*\r\n     * Controller\r\n     */\r\n    let controller;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region private methods */\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildLatestEventCheckbox() {\r\n      latestEventCheckbox = $('<input>')\r\n        .attr({\r\n          type: 'checkbox',\r\n        })\r\n        .on('click', (e) => {\r\n          const checked = $(e.target).is(':checked');\r\n\r\n          controller.onDataSelectionOptionsUpdated({ latest: checked });\r\n\r\n          controller.onPositionsFetchingRequested(\r\n            viewer.getLayerManager().getPositionLayerName());\r\n        });\r\n\r\n      const latestEventView = $('<div>')\r\n        .addClass('checkbox map-drs-latestevent')\r\n        .attr({\r\n          title        : App.translate('Select this option to view the latest event(s).'),\r\n          'data-toggle': 'tooltip',\r\n        })\r\n        .append($('<label>')\r\n          .append(latestEventCheckbox)\r\n          .append($('<span>')\r\n            .addClass('checkbox-name')\r\n            .text(App.translate('Latest'))));\r\n\r\n      sliderHook.append(latestEventView);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildRangeSlider() {\r\n      slider = $('<div>').addClass('map-drs-slider');\r\n\r\n      const now               = config.map.now();\r\n      const today             = viewer.selectIntervalRange('TODAY');\r\n      const tomorrow          = {\r\n\r\n        /*\r\n         * tomorrow.min = tomorrow 12:00 AM\r\n         * (12 midnight).\r\n         */\r\n        min: new Date((new Date(today.min))\r\n          .setDate(today.min.getDate() + 1)),\r\n      };\r\n      const oneDay            = 86400000;\r\n      const sliderGranularity = 60000;  // one minute granularity\r\n      const dataSelectionOptions = viewer.getDataSelectionOptions();\r\n      const { from, to } = dataSelectionOptions;\r\n      const { min } = tomorrow;\r\n\r\n      const noUiSliderOptions = {\r\n        //margin   : oneDay,\r\n        start    : [from.getTime(), to.getTime()],\r\n        connect  : true,\r\n        behaviour: 'tap-drag',\r\n        step     : sliderGranularity,\r\n        range    : {\r\n          min  : min.getTime() - config.map.dateRangeMinimum * oneDay,\r\n          '64%': min.getTime() - 2 * oneDay,\r\n          '82%': min.getTime() - oneDay,\r\n          max  : now.getTime(),\r\n        },\r\n        format   : wNumb({\r\n          decimals: 0,\r\n        }),\r\n      };\r\n      slider\r\n        .noUiSlider(noUiSliderOptions)\r\n\r\n        /**\r\n         * TODO: Use `mode: 'values'` for better pips labeling.\r\n         * @see: http://refreshless.com/nouislider/pips/\r\n         * § Values\r\n         */\r\n        .noUiSlider_pips({\r\n          mode   : 'range',\r\n          density: 6,\r\n          format : {\r\n            to(value) {\r\n              let pipsLabelText = util.format.date(\r\n                util.dateToGMT(new Date(value)));\r\n\r\n              //if (value === today.max.getTime()) {\r\n              //    value = tomorrow.min.getTime();\r\n              //}\r\n\r\n              if (value === now.getTime()) {\r\n                pipsLabelText = 'now';\r\n              }\r\n\r\n              return pipsLabelText;\r\n            },\r\n          },\r\n        });\r\n\r\n      /**\r\n       * 'change' event are fired when the handle is released,\r\n       * even though the values don't change. This would cause\r\n       * a useless expensive call to .onPositionsFetchingRequested().\r\n       * These lines below serve as a little workaround for it.\r\n       *\r\n       * @see: http://refreshless.com/nouislider/events-callbacks/\r\n       */\r\n      const isSliderValueChanged = (from, to) => {\r\n        const dataSelectionOptions = viewer.getDataSelectionOptions();\r\n        const deltaFrom            = Math.abs(dataSelectionOptions.from - from);\r\n        const deltaTo              = Math.abs(dataSelectionOptions.to - to);\r\n        const changed              = (deltaFrom >= sliderGranularity ||\r\n                                      deltaTo >= sliderGranularity);\r\n\r\n        return changed;\r\n      };\r\n\r\n      slider.on('change', (e) => {\r\n        const values = $(e.currentTarget).val();\r\n        const from   = new Date(_.parseInt(values[0]));\r\n        const to     = new Date(_.parseInt(values[1]));\r\n\r\n        if (isSliderValueChanged(from, to)) {\r\n          controller.onDataSelectionOptionsUpdated({\r\n            from,\r\n            to,\r\n          });\r\n\r\n          controller.onPositionsFetchingRequested(\r\n            viewer.getLayerManager().getPositionLayerName());\r\n        }\r\n      });\r\n\r\n      /* region handle label */\r\n\r\n      /*\r\n       * Setup handle labels.\r\n       */\r\n      const linkMethod = function (value, handle) {\r\n        const handleLabel = handle.children('.map-drs-handlelabel');\r\n\r\n        //var whichHandle = (handle.find('.map-drs-handlelabel-lower').length > 0) ?\r\n        //                  'lower' : 'upper';\r\n        //console.log('view - ' + whichHandle + ': ' + value);\r\n\r\n        handleLabel\r\n          .children('.map-drs-handlelabel-text').remove();\r\n\r\n        handleLabel\r\n          .prepend($('<span>')\r\n            .addClass('map-drs-handlelabel-text')\r\n            .text(util.format.dateTime(\r\n              util.dateToGMT(new Date(_.parseInt(value))), 'g')));\r\n      };\r\n\r\n      /**\r\n       *\r\n       * @see http://refreshless.com/nouislider/examples/\r\n       * § Slider with Tooltips - Tooltip with custom HTML\r\n       */\r\n      _.forEach(['lower', 'upper'],\r\n        tooltipPos => slider.Link(tooltipPos).to(`-inline-\r\n          <div class=\"label label-default map-drs-handlelabel\r\n          map-drs-handlelabel-${tooltipPos}\"></div>`, linkMethod));\r\n\r\n      /*\r\n       * Add KendoDateTimePicker widget for both handle labels.\r\n       */\r\n      const buildHandleLabelDateTimePicker = (slider, whichHandle) => {\r\n        const handleLabel = slider.find(`.map-drs-handlelabel-${whichHandle}`);\r\n\r\n        const handleLabelControls = $('<div>')\r\n          .addClass(`map-drs-handlelabel-controls\r\n          map-drs-handlelabel-controls-${whichHandle}`);\r\n\r\n        const dateIcon = $('<span>')\r\n          .addClass('glyphicon glyphicon-calendar map-drs-handlelabel-controls-icon');\r\n\r\n        const timeIcon = $('<span>')\r\n          .addClass('glyphicon glyphicon-time map-drs-handlelabel-controls-icon');\r\n\r\n        const invisibleInput = $('<input>')\r\n          .addClass('map-drs-handlelabel-controls-datetimepicker invisible');\r\n\r\n        if (whichHandle === 'lower') {\r\n          fromDateTimePicker = invisibleInput;\r\n        } else {\r\n          toDateTimePicker = invisibleInput;\r\n        }\r\n\r\n        handleLabelControls.append([dateIcon, timeIcon, invisibleInput]);\r\n\r\n        const { range, start } = noUiSliderOptions;\r\n\r\n        const kDateTimePicker = invisibleInput\r\n          .kendoDateTimePicker({\r\n            //footer  : false,\r\n            min     : (whichHandle === 'lower') ?\r\n                      new Date(range.min) : new Date(start[0]),\r\n            max     : (whichHandle === 'lower') ?\r\n                      new Date(start[0]) : new Date(range.max),\r\n            value   : (whichHandle === 'lower') ?\r\n                      new Date(start[0]) : new Date(start[1]),\r\n            interval: 1,\r\n          })\r\n          .data('kendoDateTimePicker');\r\n\r\n        kDateTimePicker\r\n          .bind('change', (e) => {\r\n            const picker   = e.sender;\r\n            let pickedDate = picker.value();\r\n\r\n            if (whichHandle === 'lower') {\r\n\r\n              /*\r\n               * Handle invalid 'from' date: from > to.\r\n               */\r\n              if (!pickedDate) {\r\n                pickedDate = picker.max();\r\n              }\r\n\r\n              controller.onDataSelectionOptionsUpdated({ from: pickedDate });\r\n            } else {\r\n\r\n              /*\r\n               * Handle invalid 'to' date: to < from.\r\n               */\r\n              if (!pickedDate) {\r\n                pickedDate = picker.min();\r\n              }\r\n\r\n              controller.onDataSelectionOptionsUpdated({ to: pickedDate });\r\n            }\r\n\r\n            controller.onPositionsFetchingRequested(\r\n              viewer.getLayerManager().getPositionLayerName());\r\n          });\r\n\r\n        dateIcon.on('click', () => {\r\n\r\n          if (instance.isSliderEnabled()) {\r\n            kDateTimePicker.close('time');\r\n            kDateTimePicker.open('date');\r\n          }\r\n        });\r\n\r\n        timeIcon.on('click', () => {\r\n\r\n          if (instance.isSliderEnabled()) {\r\n            kDateTimePicker.close('date');\r\n            kDateTimePicker.open('time');\r\n          }\r\n        });\r\n\r\n        handleLabel.append(handleLabelControls);\r\n      };\r\n\r\n      buildHandleLabelDateTimePicker(slider, 'lower');\r\n      buildHandleLabelDateTimePicker(slider, 'upper');\r\n\r\n      /* endregion handle label */\r\n\r\n      sliderHook.append(slider);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildPresetIntervalsDropDown() {\r\n      presetIntervalsDropDown = $('<select>')\r\n        .addClass('map-drs-presetintervals')\r\n        .on('change', (e) => {\r\n          const presetInterval = $(e.target).val();\r\n\r\n          if (presetInterval && presetInterval !== '-') {\r\n            const intervalRange = viewer\r\n              .selectIntervalRange(presetInterval);\r\n\r\n            const { min, max } = intervalRange;\r\n\r\n            controller.onDataSelectionOptionsUpdated({\r\n              from: min,\r\n              to  : max,\r\n            });\r\n\r\n            controller.onPositionsFetchingRequested(\r\n              viewer.getLayerManager().getPositionLayerName());\r\n          }\r\n        })\r\n        .kendoDropDownList({\r\n          dataTextField : 'text',\r\n          dataValueField: 'value',\r\n          dataSource    : [\r\n            {\r\n              text : App.translate('Choose interval'),\r\n              value: '-',\r\n            },\r\n            {\r\n              text : App.translate('Today'),\r\n              value: 'TODAY',\r\n            },\r\n            {\r\n              text : App.translate('Yesterday'),\r\n              value: 'YESTERDAY',\r\n            },\r\n            {\r\n              text : App.translate('Last 24 Hours'),\r\n              value: 'LAST_24H',\r\n            },\r\n            {\r\n              text : App.translate('Last 48 Hours'),\r\n              value: 'LAST_48H',\r\n            },\r\n          ],\r\n        });\r\n\r\n      sliderHook.append(\r\n        presetIntervalsDropDown.data('kendoDropDownList').wrapper);\r\n    }\r\n\r\n    /* endregion private methods */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param mapController\r\n       */\r\n      setController(mapController) {\r\n        controller = mapController;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param options\r\n       */\r\n      onDataSelectionOptionsChanged(options) {\r\n        const { latest, from, to } = options;\r\n\r\n        latestEventCheckbox.prop('checked', latest);\r\n        instance.setSliderVisible(!latest);\r\n\r\n        slider.val([from.getTime(), to.getTime()]);\r\n\r\n        const kFromDateTimePicker = fromDateTimePicker.data('kendoDateTimePicker');\r\n        const kToDateTimePicker   = toDateTimePicker.data('kendoDateTimePicker');\r\n\r\n        kFromDateTimePicker.max(to);\r\n        kFromDateTimePicker.value(from);\r\n        kToDateTimePicker.min(from);\r\n        kToDateTimePicker.value(to);\r\n\r\n        const kPresetIntervalsDropDown =\r\n                presetIntervalsDropDown.data('kendoDropDownList');\r\n        const presetInterval           = viewer\r\n          .selectPresetInterval({ min: from, max: to });\r\n\r\n        kPresetIntervalsDropDown.value(presetInterval);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isSliderEnabled() {\r\n        return !Boolean(slider.attr('disabled'));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param enabled\r\n       */\r\n      setSliderEnabled(enabled) {\r\n\r\n        if (enabled) {\r\n          slider.removeAttr('disabled');\r\n        } else {\r\n          slider.attr('disabled', true);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visible\r\n       */\r\n      setSliderVisible(visible) {\r\n        slider.toggleClass('hidden', !visible);\r\n        presetIntervalsDropDown\r\n          .data('kendoDropDownList')\r\n          .wrapper.toggleClass('hidden', !visible);\r\n\r\n        if (visible) {\r\n          sliderHook.css('right', 0);\r\n        } else {\r\n          sliderHook.css('right', 'auto');\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param enabled\r\n       */\r\n      setEnabled(enabled) {\r\n        latestEventCheckbox.prop('disabled', !enabled);\r\n        instance.setSliderEnabled(enabled);\r\n        presetIntervalsDropDown\r\n          .data('kendoDropDownList').enable(enabled);\r\n\r\n        kendo.ui.progress(\r\n          viewer.container.closest('.map-display'), !enabled);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visible\r\n       */\r\n      setVisible(visible) {\r\n        sliderHook.toggleClass('hidden', !visible);\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    if ($.fn.noUiSlider) {\r\n      sliderHook = $('<div>').addClass('map-drs');\r\n\r\n      buildLatestEventCheckbox();\r\n      buildRangeSlider();\r\n      buildPresetIntervalsDropDown();\r\n\r\n      viewer.container.append(sliderHook);\r\n\r\n      /*\r\n       * Since currently the date range slider considered\r\n       * as an \"extension\" and loaded after the map\r\n       * initialization process, we gotta call this\r\n       * .onDataSelectionOptionsChanged() manually after\r\n       * initializing the date range slider in order to\r\n       * sync. the default state of data selection options.\r\n       */\r\n      instance.onDataSelectionOptionsChanged(viewer.getDataSelectionOptions());\r\n    } else {\r\n      throw new Error('$.noUiSlider plugin not exist.');\r\n    }\r\n\r\n    /* endregion init code */\r\n  });\r\n\r\nexport { DateRangeSlider as default, DateRangeSlider };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/ui/exts/date-range-slider.js\n **/","/**\r\n * Created by Glenn on 2015-04-27.\r\n */\r\n\r\nimport App from 'app';\r\nimport { project as mapsProject } from '../../project';\r\nimport { Styler } from '../../styler';\r\n\r\nconst { config } = App;\r\nconst { serviceUrls } = mapsProject;\r\nconst styler = Styler.getInstance();\r\n\r\nconst Legend = stampit()\r\n  .props({\r\n\r\n    /**\r\n     * Model\r\n     */\r\n    viewer: undefined,\r\n  })\r\n  .init(({ instance }) => {\r\n    const { viewer } = instance;\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     *\r\n     */\r\n    let legendHook;\r\n    let legendContent;\r\n\r\n    /*\r\n     * Default general legend symbols applied for all customers.\r\n     */\r\n    const pairs = [\r\n      ['Current', 'ROAM - arrow-blue'],\r\n      ['Historical', 'ROAM - arrow-green'],\r\n      ['Selected', 'ROAM - arrow-orange'],\r\n      ['Alarmed', 'ROAM - arrow-red'],\r\n      ['Engine On', 'ROAM - arrow-purple'],\r\n      ['Engine Off', 'ROAM - arrow-gray'],\r\n    ];\r\n\r\n    if (App.config.map.legend.isDEWA) {\r\n      _.remove(pairs, function (pair) {\r\n        return (pair[0] === 'Historical');\r\n      });\r\n    }\r\n\r\n    const legendSymbols = _.fromPairs(pairs);\r\n\r\n    /*\r\n     * Controller\r\n     */\r\n    let controller;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region private methods */\r\n\r\n    /**\r\n     *\r\n     */\r\n    function buildLegend() {\r\n\r\n      /**\r\n       * Generate popover html.\r\n       * @type {*|jQuery|HTMLElement}\r\n       */\r\n      const legendList = $('<ul>').addClass('list-unstyled legend-list');\r\n\r\n      _.forOwn(legendSymbols, (symbol, meaning) => {\r\n        const asSvg      = true;\r\n        const symbolIcon = styler.getDirectionIcon({\r\n          mapCurrentSymbol: symbol,\r\n          heading         : 45,\r\n        }, asSvg);\r\n\r\n        const legendEntry        = $('<li>').addClass('row');\r\n        const meaningPlaceholder = $('<div>').addClass('col-sm-8');\r\n        const symbolPlaceholder  = $('<div>').addClass('col-sm-4');\r\n\r\n        meaningPlaceholder\r\n          .text(App.translate(meaning))\r\n          .appendTo(legendEntry);\r\n\r\n        symbolPlaceholder\r\n          .append(asSvg ? symbolIcon : $('<img>').attr('src', symbolIcon))\r\n          .appendTo(legendEntry);\r\n\r\n        legendList.append(legendEntry);\r\n      });\r\n      legendContent = legendList[0].outerHTML;\r\n\r\n      const mapCanvas = viewer.container;\r\n\r\n      legendHook = $('<button>')\r\n        .addClass('btn btn-default map-legend')\r\n        .attr({\r\n          title        : App.translate('Legend'),\r\n          'data-toggle': 'tooltip',\r\n        })\r\n        .popover({\r\n          content  : legendContent,\r\n          html     : true,\r\n          placement: 'bottom',\r\n          template : `\r\n            <div class=\"popover map-legend-popover\" role=\"tooltip\">\r\n              <div class=\"arrow\"></div>\r\n              <h3 class=\"popover-title\"></h3>\r\n              <div class=\"popover-content\"></div>\r\n            </div>\r\n          `,\r\n          viewport : mapCanvas,\r\n        })\r\n        .append($('<span>').addClass('glyphicon glyphicon-list-alt map-legend-icon'))\r\n        .appendTo(mapCanvas);\r\n    }\r\n\r\n    /* endregion private methods */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param mapController\r\n       */\r\n      setController(mapController) {\r\n        controller = mapController;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visible\r\n       */\r\n      setVisible(visible) {\r\n        legendHook.toggleClass('hidden', !visible);\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    /*\r\n     * Customer-defined color coding added to the legend symbols.\r\n     */\r\n    const backendServiceEnabled = false;\r\n\r\n    if (backendServiceEnabled) {\r\n      const { domainObjectType, domainObjectId } = viewer;\r\n\r\n      $.ajax({\r\n        url : `${config.serviceUrl}${serviceUrls.legend.read}`,\r\n        data: {\r\n          domainObjectType,\r\n          domainObjectId,\r\n        },\r\n\r\n        success(data) {\r\n          const { legendData } = data;\r\n\r\n          _.forEach(legendData, (el) => {\r\n            legendSymbols[el.k] = App.translate(el.v);\r\n          });\r\n        },\r\n\r\n        error(jqXHR, textStatus, errorThrown) {\r\n          controller.logError('Error retrieving legend data.',\r\n            new Error(errorThrown));\r\n        },\r\n\r\n        complete() {\r\n          buildLegend();\r\n        },\r\n      });\r\n    } else {\r\n      buildLegend();\r\n    }\r\n\r\n    /* endregion init code */\r\n\r\n  });\r\n\r\nexport { Legend as default, Legend };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/ui/exts/legend.js\n **/","/**\r\n * Created by Glenn on 2015-05-11.\r\n */\r\n\r\nimport App from 'app';\r\n\r\nconst viewTemplate = require('./tpl/routing.tpl');\r\nconst { util, i18n } = App;\r\n\r\nconst RoutingControls = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    routingView   : undefined,\r\n    /**\r\n     *\r\n     */\r\n    controlsView  : undefined,\r\n    /**\r\n     * Model\r\n     */\r\n    routingManager: undefined,\r\n  })\r\n  .methods({\r\n\r\n    /**\r\n     *\r\n     * @param enabled\r\n     */\r\n    setProgressOverlayEnabled(enabled) {\r\n      kendo.ui.progress(this.routingView, enabled);\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    expandRoutingPanel() {\r\n      const { controlsView } = this;\r\n      const panelBar = controlsView.data('kendoPanelBar');\r\n\r\n      if (panelBar) {\r\n        panelBar\r\n          .expand('.mc-panel-routing');\r\n      } else {\r\n        controlsView\r\n          .children('.mc-panelbar')\r\n          .children('.mc-panel')\r\n          .removeClass('k-state-active')\r\n          .filter('.mc-panel-routing')\r\n          .addClass('k-state-active');\r\n      }\r\n    },\r\n  })\r\n  .init(({ instance }) => {\r\n    instance.routingView = $(viewTemplate);\r\n    const { routingView, controlsView, routingManager } = instance;\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     * Controller\r\n     */\r\n    let controller;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let waypointList;\r\n    let addWaypointButton;\r\n    let routeFeatures;\r\n    let routeSummaryText;\r\n    let maneuverList;\r\n    let printRouteIcon;\r\n    let saveRouteButton;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let targetInputWidget;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region private methods */\r\n\r\n    /**\r\n     *\r\n     * @param waypoint\r\n     * @returns {*|jQuery|HTMLElement}\r\n     */\r\n    function createWaypointItem(waypoint) {\r\n      const waypointItem = $('<li>')\r\n        .addClass('waypoint-item');\r\n\r\n      const waypointLabel = $('<span>')\r\n        .addClass('label label-primary waypoint-label')\r\n        .text(waypoint.label);\r\n\r\n      const waypointInput = $('<input>')\r\n        .addClass('waypoint-input')\r\n        .val(waypoint.name)\r\n        .on('input', _.debounce((e) => {\r\n          const textbox        = $(e.target);\r\n          const query          = textbox.val();\r\n          const clearInputIcon = textbox.siblings('.waypoint-input-clear');\r\n\r\n          targetInputWidget = textbox.data('kendoAutoComplete');\r\n\r\n          if (query.length === 0) {\r\n            clearInputIcon.fadeOut(200);\r\n            textbox.width('100%');\r\n\r\n            /*\r\n             * Make waypoint value invalid,\r\n             * but not removing it.\r\n             */\r\n            targetInputWidget.select(null);\r\n            targetInputWidget.trigger('select');\r\n\r\n          } else if (query.length >= 3) {\r\n            textbox.width('85%');\r\n            clearInputIcon.fadeIn(200);\r\n\r\n            controller.onPlacesSearchRequested(query);\r\n\r\n          } else {\r\n\r\n            /*\r\n             * Not a limbo; query's length is\r\n             * between 1-2.\r\n             */\r\n            _.noop();\r\n          }\r\n        }, 600 /* Only consider input after this ms. */));\r\n\r\n      const waypointRemover = $('<button>')\r\n        .addClass('btn btn-link waypoint-remover')\r\n        .attr('title', App.translate('Remove stop over'))\r\n        .on('click', (e) => {\r\n          const item = $(e.target).parent('.waypoint-item');\r\n\r\n          controller.onWaypointItemRemovalRequested(item.index());\r\n          controller.onRouteCalculationRequested();\r\n        })\r\n        .append($('<span>')\r\n          .addClass('glyphicon glyphicon-remove'));\r\n\r\n      waypointItem.append(\r\n        [waypointLabel, waypointInput, waypointRemover]);\r\n\r\n      const kWaypointInput = waypointInput.kendoAutoComplete({\r\n        dataSource   : routingManager.getPlaces(),\r\n        dataTextField: 'name',\r\n        delay        : 1200,\r\n        minLength    : 3,\r\n        placeholder  : App.translate('Select stop over...'),\r\n        template     : '<span class=\"mc-icon #=data.icon#\"></span><span>#=data.name#</span>',\r\n        /**\r\n         *\r\n         */\r\n        filtering(e) {\r\n\r\n          /*\r\n           * No need to do filtering again as the data\r\n           * that we received from the services is\r\n           * already filtered; just return \"as-is\" and\r\n           * show everything.\r\n           */\r\n          e.filter.value = '';\r\n        },\r\n\r\n        select(e) {\r\n          const { item, sender } = e;\r\n          const selectedItem = item;\r\n          const widget       = sender;\r\n          /*\r\n           *\r\n           */\r\n          const waypointModel = {\r\n            lat             : NaN,\r\n            lng             : NaN,\r\n            name            : '',\r\n            domainObjectType: '',\r\n            domainObjectId  : '',\r\n          };\r\n          const index         = widget.wrapper\r\n                                      .parent('.waypoint-item')\r\n                                      .index();\r\n\r\n          if (selectedItem) {\r\n            const selectedItemIndex = selectedItem.index();\r\n\r\n            /*\r\n             * Make sure the data source of the\r\n             * widget is refreshed, because most of\r\n             * time it is not. Ok, this is becoming\r\n             * more like a \"in-between\" move in chess.\r\n             */\r\n            sender.dataSource.read();\r\n\r\n            const dataItem = widget.dataItem(selectedItemIndex);\r\n            const { lat, lng, name, domainObjectType, domainObjectId } = dataItem;\r\n\r\n            _.assign(waypointModel, {\r\n              lat,\r\n              lng,\r\n              name,\r\n              domainObjectType,\r\n              domainObjectId,\r\n            });\r\n          }\r\n\r\n          controller.onWaypointItemSelected(waypointModel, index);\r\n          controller.onRouteCalculationRequested();\r\n        },\r\n      }).data('kendoAutoComplete');\r\n\r\n      // clearInputIcon\r\n      $('<span>')\r\n        .addClass('k-icon k-i-close waypoint-input-clear')\r\n        .on('click', (e) => {\r\n          const icon    = $(e.target);\r\n          const textbox = icon.siblings('.waypoint-input');\r\n\r\n          textbox\r\n            .val('')\r\n            .trigger('input')\r\n            .data('kendoAutoComplete')\r\n            .close();\r\n        })\r\n        .appendTo(kWaypointInput.wrapper)\r\n        .hide();\r\n\r\n      return waypointItem;\r\n    }\r\n\r\n    /* endregion private methods */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param mapController\r\n       */\r\n      setController(mapController) {\r\n        controller = mapController;\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      updateSaveRouteButton() {\r\n        saveRouteButton.prop('disabled', !routingManager.routeExists());\r\n      },\r\n\r\n      /**\r\n       * The waypoints render quite dodgy when adding or removing\r\n       * a waypoint, and/or after rendering route. Duck-punch it.\r\n       * @see https://en.wikipedia.org/wiki/Monkey_patch\r\n       */\r\n      duckPunchWaypoints() {\r\n\r\n        if (!kendo.support.browser.msie) {\r\n          const win        = $(window);\r\n          const scrollTop0 = win.scrollTop();\r\n\r\n          /*\r\n           * Doing this in IE wrongly triggers Kendo UI\r\n           * AutoComplete's select event on the waypoint input\r\n           * element :|\r\n           */\r\n          waypointList\r\n            .children('.waypoint-item')\r\n            .find('input.waypoint-input')\r\n            .focus().blur();\r\n\r\n          win.scrollTop(scrollTop0);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       * @param index\r\n       */\r\n      onWaypointAdded(waypoint, index) {\r\n        const waypointItems = waypointList.children('li');\r\n        const waypointItem  = createWaypointItem(waypoint);\r\n        const len           = waypointItems.length;\r\n\r\n        if (index >= len) {\r\n          waypointList.append(waypointItem);\r\n        } else {\r\n          waypointItems.eq(index).before(waypointItem);\r\n        }\r\n\r\n        const removerHidden = (index === 0) || (index === len);\r\n        waypointItem\r\n          .children('.waypoint-remover')\r\n          .toggleClass('hidden', removerHidden);\r\n\r\n        waypoint.listItem = waypointItem;\r\n\r\n        instance.duckPunchWaypoints();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       */\r\n      onWaypointRemoved(waypoint) {\r\n        waypoint.listItem.remove();\r\n\r\n        instance.duckPunchWaypoints();\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       * @param toIndex\r\n       */\r\n      onWaypointReordered(waypoint, toIndex) {\r\n        let waypointItem       = waypoint.listItem;\r\n        const waypointItemData = waypointItem.data();\r\n        const moved            = (waypointItemData.toIndex === toIndex);\r\n\r\n        if (!moved) {\r\n          waypointItem = waypointItem.detach();\r\n\r\n          const waypointItems = waypointList.children('li');\r\n          const len           = waypointItems.length;\r\n\r\n          if (toIndex >= len) {\r\n            toIndex = len;\r\n            waypointList.append(waypointItem);\r\n          } else {\r\n            waypointItems.eq(toIndex).before(waypointItem);\r\n          }\r\n\r\n          waypointItemData.toIndex = toIndex;\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       */\r\n      onWaypointChanged(waypoint) {\r\n        const { listItem } = waypoint;\r\n\r\n        if (listItem) {\r\n          listItem\r\n            .find('input.waypoint-input')\r\n            .data('kendoAutoComplete')\r\n            .value(waypoint.name);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoints\r\n       */\r\n      onWaypointsLabelChanged(waypoints) {\r\n        const len = waypoints.length;\r\n\r\n        _.forEach(waypoints, (waypoint, i) => {\r\n          const { listItem } = waypoint;\r\n\r\n          if (listItem) {\r\n            listItem\r\n              .children('.waypoint-label')\r\n              .text(waypoint.label);\r\n\r\n            const removerHidden = (i === 0) || (i === len - 1);\r\n            listItem\r\n              .children('.waypoint-remover')\r\n              .toggleClass('hidden', removerHidden);\r\n          }\r\n        });\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param places\r\n       */\r\n      onPlacesChanged(places) {\r\n\r\n        if (targetInputWidget) {\r\n\r\n          /*\r\n           * Kendo's way of refreshing the data source properly\r\n           * for the AutoComplete widget. :o\r\n           */\r\n          targetInputWidget.setDataSource(\r\n            new kendo.data.DataSource({ data: places }));\r\n\r\n          targetInputWidget.dataSource.read();\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param featureName\r\n       * @param avoided\r\n       */\r\n      onRouteFeatureChanged(featureName, avoided) {\r\n        routeFeatures\r\n          .find(`[data-featurename=\"${featureName}\"]`)\r\n          .prop('checked', !avoided);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param summary\r\n       */\r\n      onRouteSummaryChanged(summary) {\r\n        const { distance, duration } = summary;\r\n        const summaryExists = Boolean(distance && duration);\r\n\r\n        if (summaryExists) {\r\n          routeSummaryText.html(util.format.routeSummary(summary));\r\n        }\r\n\r\n        routeSummaryText\r\n          .closest('.route-summary')\r\n          .toggleClass('hidden', !summaryExists);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param maneuvers\r\n       */\r\n      onManeuversChanged(maneuvers) {\r\n        maneuverList.empty();\r\n\r\n        _.forEach(maneuvers, (maneuver) => {\r\n          const maneuverItem = $('<li>')\r\n            .addClass('list-group-item')\r\n            .html(maneuver.instruction);\r\n\r\n          const { baseCssAction, action } = maneuver;\r\n\r\n          if (baseCssAction && action) {\r\n            maneuverItem\r\n              .prepend($('<span>')\r\n                .addClass(baseCssAction)\r\n                .addClass(action));\r\n          }\r\n\r\n          maneuverList.append(maneuverItem);\r\n        });\r\n\r\n        maneuverList\r\n          .closest('.route-directions')\r\n          .toggleClass('hidden', _.isEmpty(maneuvers));\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    controlsView\r\n      .find('.mc-panelbar:first')\r\n      .append(routingView);\r\n    i18n.translateContent(routingView);\r\n\r\n    waypointList      = routingView.find('.waypoint-list');\r\n    addWaypointButton = routingView.find('[name=\"add-waypoint\"]');\r\n    routeFeatures     = routingView.find('.route-features');\r\n    routeSummaryText  = routingView.find('.route-summary-text');\r\n    maneuverList      = routingView.find('.maneuver-list');\r\n    printRouteIcon    = routingView.find('.print-route');\r\n    saveRouteButton   = routingView.find('[name=\"save-route\"]');\r\n\r\n    waypointList.sortable({\r\n      cursor: 'move',\r\n\r\n      start(e, ui) {\r\n        const { item } = ui;\r\n        const itemData = item.data();\r\n\r\n        itemData.fromIndex = item.index();\r\n      },\r\n\r\n      stop(e, ui) {\r\n        const { item } = ui;\r\n        const itemData = item.data();\r\n\r\n        itemData.toIndex = item.index();\r\n        const { fromIndex, toIndex } = itemData;\r\n        controller.onWaypointItemReorderingRequested(fromIndex, toIndex);\r\n        controller.onRouteCalculationRequested();\r\n      },\r\n    });\r\n\r\n    addWaypointButton.on('click', () => {\r\n      controller.onWaypointItemAdditionRequested(\r\n        routingManager.getWaypoints().length - 1);\r\n    });\r\n\r\n    routeFeatures\r\n      .find('.route-feature')\r\n      .each((e) => {\r\n        const feature = $(e.target);\r\n\r\n        if (routingManager.getViewerModuleName().match(/googlemaps/i)) {\r\n          const featureName        = feature.data('featurename');\r\n          const googleMapsFeatures = ['tollroad', 'motorway', 'boatFerry'];\r\n          const featureEnabled     = _.includes(googleMapsFeatures, featureName);\r\n\r\n          feature\r\n            .prop('disabled', !featureEnabled)\r\n            .closest('.checkbox')\r\n            .toggleClass('disabled', !featureEnabled);\r\n        }\r\n      })\r\n      .on('click', (e) => {\r\n        const feature = $(e.target);\r\n\r\n        controller.onRouteFeatureToggled(\r\n          feature.data('featurename'), feature.is(':checked'));\r\n        controller.onRouteCalculationRequested();\r\n      });\r\n\r\n    printRouteIcon.on('click', () => controller.onMapsPrintRequested(true));\r\n\r\n    saveRouteButton.on('click', () => controller.onRouteSavingRequested());\r\n\r\n    /* endregion init code */\r\n  });\r\n\r\nexport { RoutingControls as default, RoutingControls };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/ui/routing.js\n **/","/**\r\n * Created by Glenn on 2015-01-16.\r\n */\r\n\r\nconst ViewerFactory = stampit()\r\n  .init(({ instance }) => {\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     *\r\n     */\r\n    let viewer;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region private methods */\r\n\r\n    /**\r\n     *\r\n     * @param mapViewerFactory\r\n     * @param options\r\n     * @param onMapViewerCreated\r\n     */\r\n    function handleCreation(mapViewerFactory, options, onMapViewerCreated) {\r\n      const { viewerModuleName, viewerName, mapDisplay,\r\n              domainObjectType, domainObjectId, eventIds,\r\n              autoRefresh, autoFocus,\r\n              rememberLastViewportEnabled, lazyLoadingEnabled,\r\n              layerDataFetcher, } = options;\r\n\r\n      viewer = mapViewerFactory.create({\r\n        domainObjectType,\r\n        domainObjectId,\r\n        moduleName                 : viewerModuleName,\r\n        name                       : viewerName,\r\n        container                  : mapDisplay.children('.map-canvas'),\r\n        alarmEventIds              : eventIds,\r\n        autoRefresh                : Boolean(autoRefresh),\r\n        autoFocus                  : Boolean(autoFocus),\r\n        rememberLastViewportEnabled: Boolean(rememberLastViewportEnabled),\r\n        lazyLoadingEnabled         : Boolean(lazyLoadingEnabled),\r\n      });\r\n\r\n      viewer.setLayerDataFetcher(layerDataFetcher);\r\n\r\n      onMapViewerCreated(viewer);\r\n    }\r\n\r\n    /**\r\n     * Define a split point for each of our maps viewers.\r\n     * @see http://webpack.github.io/docs/code-splitting.html\r\n     * @see https://github.com/petehunt/webpack-howto#9-async-loading\r\n     */\r\n    const factoryActions = {\r\n      heremaps(options, onMapViewerCreated) {\r\n        require.ensure([], () => {\r\n\r\n          if (!window.H) {\r\n            require('lib/heremaps/mapsjs-core');\r\n            require('lib/heremaps/mapsjs-service');\r\n            require('lib/heremaps/mapsjs-mapevents');\r\n            require('lib/heremaps/mapsjs-ui.css');\r\n            require('lib/heremaps/mapsjs-ui.js');\r\n            require('lib/heremaps/mapsjs-clustering');\r\n            require('lib/heremaps/mapsjs-places');\r\n          }\r\n\r\n          handleCreation(\r\n            require('heremaps/viewer').default, options, onMapViewerCreated);\r\n        }, 'heremaps');\r\n      },\r\n\r\n      googlemaps(options, onMapViewerCreated) {\r\n        require.ensure([], () => {\r\n          window.__google_maps_callback__ = () => {\r\n            require('lib/googlemaps/markerclustererplus.min');\r\n\r\n            handleCreation(\r\n              require('googlemaps/viewer').default, options, onMapViewerCreated);\r\n          };\r\n\r\n          if (!(window.google && window.google.maps)) {\r\n            const params = {\r\n              v        : '3.23',\r\n              client   : 'gme-roamworks',\r\n              libraries: 'geometry,places',\r\n              callback : '__google_maps_callback__',\r\n            };\r\n\r\n            $.getScript(`https://maps.googleapis.com/maps/api/js?${$.param(params)}`);\r\n          } else {\r\n            handleCreation(\r\n              require('googlemaps/viewer').default, options, onMapViewerCreated);\r\n          }\r\n        }, 'googlemaps');\r\n      },\r\n    };\r\n\r\n    /* endregion private methods */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param options\r\n       * @param onMapViewerCreated\r\n       */\r\n      createViewer(options, onMapViewerCreated) {\r\n        const viewerModuleName = options.viewerModuleName = options.mapViewer.toLowerCase();\r\n        const factoryAction = factoryActions[viewerModuleName];\r\n\r\n        if (!_.isFunction(factoryAction)) {\r\n          throw new Error(`Invalid viewer module name: ${viewerModuleName}.`);\r\n        }\r\n\r\n        factoryAction(options, onMapViewerCreated);\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n  });\r\n\r\nexport { ViewerFactory as default, ViewerFactory };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewer-factory.js\n **/","/**\r\n * Created by Glenn on 2015-07-30.\r\n */\r\n\r\n/**\r\n *\r\n * @see https://developers.google.com/maps/documentation/staticmaps/intro\r\n */\r\nimport { Styler } from '../../styler';\r\n\r\nconst styler = Styler.getInstance();\r\n\r\n/* region private properties */\r\n\r\nconst baseUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\r\n\r\n/* endregion private properties */\r\n\r\n/**\r\n *\r\n * @singleton\r\n */\r\nconst staticMap = {\r\n\r\n  /**\r\n   *\r\n   * @param container\r\n   * @param url\r\n   * @param dimensions\r\n   * @param roamObject\r\n   * @param options\r\n   */\r\n  show(container, url, dimensions, roamObject, options) {\r\n\r\n    if (roamObject) {\r\n      staticMap.renderIcon(container, roamObject, dimensions, options);\r\n    }\r\n\r\n    $('<img>')\r\n      .addClass('map-image')\r\n      .attr('src', url)\r\n      .appendTo(container);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param container\r\n   * @param roamObject\r\n   * @param dimensions\r\n   * @param options\r\n   */\r\n  renderIcon(container, roamObject, dimensions, options = {}) {\r\n\r\n    if (!options.noCentralIcon) {\r\n      const icon = $('<img>')\r\n        .attr({\r\n          src  : styler.getRoamIcon(roamObject),\r\n          title: roamObject.name,\r\n        })\r\n        .appendTo(container);\r\n\r\n      const { left, top } = options;\r\n      const [w, h] = dimensions;\r\n\r\n      icon.css({\r\n        position: 'absolute',\r\n        left    : left || (w - icon.width()) / 2,\r\n        top     : top || (h - icon.height()) / 2,\r\n      });\r\n    }\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param coordinates - Coordinates in [lng, lat, ...] format.\r\n   * @returns {string} - Stringified LatLng in \"lat,lng|lat,lng...\" format.\r\n   */\r\n  toLatLngString(coordinates) {\r\n    return []\r\n      .concat(coordinates)\r\n      .reverse()\r\n      .join()\r\n      /**\r\n       * Ninja? o)\r\n       * @see http://www.regular-expressions.info/floatingpoint.html\r\n       * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\r\n       */\r\n      .replace(/([-+]?[0-9]*\\.?[0-9]+,[-+]?[0-9]*\\.?[0-9]+),/g, '$1|');\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param container\r\n   * @param coordinates\r\n   * @param dimensions\r\n   * @param zoom\r\n   * @param roamObject\r\n   * @param options\r\n   */\r\n  showStaticMap(container, coordinates, dimensions, zoom, roamObject, options) {\r\n    const params = {\r\n      zoom,\r\n      center: `${coordinates[1]},${coordinates[0]}`,\r\n      size  : `${dimensions[0]}x${dimensions[1]}`,\r\n    };\r\n    const url    = `${baseUrl}${$.param(params)}`;\r\n\r\n    staticMap.show(container, url, dimensions, roamObject, options);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param container\r\n   * @param coordinates\r\n   * @param dimensions\r\n   * @param roamGeofence\r\n   */\r\n  showStaticGeofenceMap(container, coordinates, dimensions, roamGeofence) {\r\n\r\n    /*\r\n     *\r\n     */\r\n    const coordinates_ = staticMap.toLatLngString(coordinates);\r\n    /*\r\n     *\r\n     */\r\n    const shapeStyles = styler.getShapeStyles();\r\n    const fenceStyles = {\r\n      ...shapeStyles.geofence,\r\n      ...shapeStyles[`geofence${roamGeofence.fenceType}`],\r\n    };\r\n    const { strokeColor, strokeWeight } = fenceStyles;\r\n    const color       = strokeColor.replace('#', '0x');\r\n    const { fillColor } = fenceStyles.fillColor.replace('#', '0x');\r\n    const weight      = strokeWeight;\r\n    /*\r\n     *\r\n     */\r\n    const params = {\r\n      path: `color:${color}|fillcolor:${fillColor}|weight:${weight}|${coordinates_}`,\r\n      size: `${dimensions[0]}x${dimensions[1]}`,\r\n    };\r\n    const url    = `${baseUrl}${$.param(params)}`;\r\n\r\n    staticMap.show(container, url);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @deprecated Unused method in web2/js/widget/overviewmap.js?\r\n   * @param container\r\n   * @param coordinates\r\n   * @param dimensions\r\n   * @param options\r\n   */\r\n  showStaticRegionMap(container, coordinates, dimensions, options) {\r\n    _.noop();\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @deprecated Unused method in web2/js/widget/overviewmap.js?\r\n   * @param container\r\n   * @param roamGeofence\r\n   * @param roamAssets\r\n   * @param dimensions\r\n   * @param bbox - WGS84 Bounds -> [left, bottom, right, top]\r\n   */\r\n  showStaticAssetGroupMap(container, roamGeofence, roamAssets, dimensions, bbox) {\r\n    _.noop();\r\n  },\r\n};\r\n\r\nconst StaticMap = {\r\n  getInstance() {\r\n    return staticMap;\r\n  },\r\n};\r\n\r\nexport { StaticMap as default, StaticMap };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/googlemaps/static-map.js\n **/","/**\r\n * Created by Glenn on 2015-07-02.\r\n */\r\n\r\n/**\r\n *\r\n * @see https://developer.here.com/rest-apis/documentation/enterprise-map-image/\r\n */\r\nimport App from 'app';\r\nimport { Styler } from '../../styler';\r\n\r\nconst styler = Styler.getInstance();\r\n\r\nconst { appId, appCode } = App.config.map;\r\n\r\n/* region private properties */\r\n\r\nconst protocol = Boolean(window.location.protocol.match(/https/i)) ? 'http' : 'https';\r\nconst baseUrl  = `${protocol}://image.maps.cit.api.here.com/mia/1.6/`;\r\n\r\n/* endregion private properties */\r\n\r\n/**\r\n *\r\n * @singleton\r\n */\r\nconst staticMap = {\r\n\r\n  /**\r\n   *\r\n   * @param container\r\n   * @param url\r\n   * @param dimensions\r\n   * @param roamObject\r\n   * @param options\r\n   */\r\n  show(container, url, dimensions, roamObject, options) {\r\n\r\n    if (roamObject) {\r\n      staticMap.renderIcon(container, roamObject, dimensions, options);\r\n    }\r\n\r\n    $('<img>')\r\n      .addClass('map-image')\r\n      .attr('src', url)\r\n      .appendTo(container);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param container\r\n   * @param roamObject\r\n   * @param dimensions\r\n   * @param options\r\n   */\r\n  renderIcon(container, roamObject, dimensions, options = {}) {\r\n\r\n    if (!options.noCentralIcon) {\r\n      const icon = $('<img>')\r\n        .attr({\r\n          src  : styler.getRoamIcon(roamObject),\r\n          title: roamObject.name,\r\n        })\r\n        .appendTo(container);\r\n\r\n      const { left, top } = options;\r\n      const [w, h] = dimensions;\r\n\r\n      icon.css({\r\n        position: 'absolute',\r\n        left    : left || (w - icon.width()) / 2,\r\n        top     : top || (h - icon.height()) / 2,\r\n      });\r\n    }\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param coordinates - Coordinates in [lng, lat, ...] format.\r\n   * @returns {string} - Stringified LatLng in \"lat,lng,...\" format.\r\n   */\r\n  toLatLngString(coordinates) {\r\n    return []\r\n      .concat(coordinates)\r\n      .reverse()\r\n      .join();\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param container\r\n   * @param coordinates\r\n   * @param dimensions\r\n   * @param zoom\r\n   * @param roamObject\r\n   * @param options\r\n   */\r\n  showStaticMap(container, coordinates, dimensions, zoom, roamObject, options) {\r\n    coordinates = staticMap.toLatLngString(coordinates);\r\n\r\n    const [w, h] = dimensions;\r\n    const params = {\r\n      w,\r\n      h,\r\n      app_id  : appId,\r\n      app_code: appCode,\r\n      c       : coordinates,\r\n      ctr     : coordinates,\r\n      nodot   : true,\r\n      z       : zoom,\r\n    };\r\n    const url    = `${baseUrl}mapview?${$.param(params)}`;\r\n\r\n    staticMap.show(container, url, dimensions, roamObject, options);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param container\r\n   * @param coordinates\r\n   * @param dimensions\r\n   * @param roamGeofence\r\n   */\r\n  showStaticGeofenceMap(container, coordinates, dimensions, roamGeofence) {\r\n    coordinates = staticMap.toLatLngString(coordinates);\r\n\r\n    /*\r\n     *\r\n     */\r\n    const shapeStyles = styler.getShapeStyles();\r\n    const fenceStyles = {\r\n      ...shapeStyles.geofence,\r\n      ...shapeStyles[`geofence${roamGeofence.fenceType}`],\r\n    };\r\n    const { strokeColor, strokeWeight } = fenceStyles;\r\n    const fillColor   = fenceStyles.fillColor.replace('#', '');\r\n    const lineColor   = strokeColor.replace('#', '');\r\n    const lineWidth   = strokeWeight;\r\n    const [w, h] = dimensions;\r\n\r\n    const params = {\r\n      w,\r\n      h,\r\n      app_id  : appId,\r\n      app_code: appCode,\r\n      a       : coordinates,\r\n      sb      : 'mk',\r\n      t       : 2,   // terrain.day\r\n\r\n      //z       : 12,\r\n\r\n      /*\r\n       * In argb format.\r\n       */\r\n      fc: `33${fillColor}`,\r\n      lc: `ff${lineColor}`,\r\n      lw: lineWidth,\r\n    };\r\n\r\n    const url = `${baseUrl}region?${$.param(params)}`;\r\n\r\n    staticMap.show(container, url);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @deprecated Unused method in web2/js/widget/overviewmap.js?\r\n   * @param container\r\n   * @param coordinates\r\n   * @param dimensions\r\n   * @param options\r\n   */\r\n  showStaticRegionMap(container, coordinates, dimensions, options) {\r\n    const [w, h] = dimensions;\r\n    const params = {\r\n      w,\r\n      h,\r\n      app_id  : appId,\r\n      app_code: appCode,\r\n      nodot   : true,\r\n    };\r\n\r\n    if (coordinates) {\r\n      params.bbox = staticMap.toLatLngString(coordinates);\r\n    }\r\n\r\n    if (options && options.center) {\r\n      params.ctr = staticMap.toLatLngString(options.center);\r\n    }\r\n\r\n    const url = `${baseUrl}mapview?${$.param(params)}`;\r\n\r\n    staticMap.show(container, url, dimensions, null, options);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @deprecated Unused method in web2/js/widget/overviewmap.js?\r\n   * @param container\r\n   * @param roamGeofence\r\n   * @param roamAssets\r\n   * @param dimensions\r\n   * @param bbox - WGS84 Bounds -> [left, bottom, right, top]\r\n   */\r\n  showStaticAssetGroupMap(container, roamGeofence, roamAssets, dimensions, bbox) {\r\n    const [w, h] = dimensions;\r\n    const params = {\r\n      w,\r\n      h,\r\n      app_id  : appId,\r\n      app_code: appCode,\r\n      sb      : 'mk',\r\n      t       : 2,   // terrain.day\r\n    };\r\n\r\n    /*\r\n     *\r\n     */\r\n    const coordinates = staticMap.toLatLngString(roamGeofence.coordinates);\r\n    /*\r\n     *\r\n     */\r\n    const shapeStyles = styler.getShapeStyles();\r\n    const fenceStyles = {\r\n      ...shapeStyles.geofence,\r\n      ...shapeStyles[`geofence${roamGeofence.fenceType}`],\r\n    };\r\n    const { strokeColor, strokeWeight } = fenceStyles;\r\n\r\n    const fillColor = fenceStyles.fillColor.replace('#', '');\r\n    const lineColor = strokeColor.replace('#', '');\r\n    const lineWidth = strokeWeight;\r\n\r\n    _.assign(params, {\r\n      a0: coordinates,\r\n\r\n      /*\r\n       * In argb format.\r\n       */\r\n      fc0: `33${fillColor}`,\r\n      lc0: `ff${lineColor}`,\r\n      lw0: lineWidth,\r\n\r\n      //, tx0: center.lat + ',' + center.lng + ';' + roamGeofence.name +\r\n      //     ';ff000000;ffffffff;8'\r\n      //, txc0: 'ffff0000'\r\n      //, txs0: 15\r\n    });\r\n\r\n    _.forEach(roamAssets, (roamAsset, i) => {\r\n      i = i + 1;\r\n\r\n      const { latitude, longitude } = roamAsset;\r\n\r\n      params[`a${i}`]   = `${latitude}, ${longitude}`;\r\n      params[`rad${i}`] = 500;\r\n\r\n      //params['tx' + i]  = lat + ',' + lng + ';' + roamAsset.name +\r\n      //                    ';ff000000;ffffffff;8'\r\n    });\r\n\r\n    const url = `${baseUrl}region?${$.param(params)}`;\r\n\r\n    staticMap.show(container, url);\r\n  },\r\n};\r\n\r\nconst StaticMap = {\r\n  getInstance() {\r\n    return staticMap;\r\n  },\r\n};\r\n\r\nexport { StaticMap as default, StaticMap };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/heremaps/static-map.js\n **/","/**\r\n * Created by Glenn on 2015-07-02.\r\n */\r\n\r\nimport { Styler } from '../../styler';\r\n\r\nconst styler = Styler.getInstance();\r\n\r\nconst EditManager = stampit()\r\n  .init(({ instance }) => {\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     *\r\n     */\r\n    let viewer;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let editableObjectType;\r\n\r\n    /*\r\n     * TODO: Not quite an elegant solution for mimicking two-way\r\n     * data binding between the view and the model because, here,\r\n     * the default state of the properties is assumed rather than\r\n     * bound to the view.\r\n     *\r\n     * Could have been much easier if we used Angular.\r\n     */\r\n    const editableObjectPropertiesList = {\r\n      location: {\r\n        objectName : '',\r\n        configName : 'Bank',\r\n        latitude   : NaN,\r\n        longitude  : NaN,\r\n        /*\r\n         *\r\n         */\r\n        shapeType  : 'POINT',\r\n        coordinates: [],\r\n      },\r\n      geofence: {\r\n        objectName     : '',\r\n        configName     : 'Exclusive Security',\r\n        type           : '',\r\n        geometry       : '',\r\n        /*\r\n         *\r\n         */\r\n        shapeType      : 'POLYGON',\r\n        coordinates    : [],\r\n        bufferDistances: {\r\n          CIRCLE: 10000,\r\n          PASS  : 100,\r\n        },\r\n      },\r\n    };\r\n\r\n    /*\r\n     *\r\n     */\r\n    let editableObject;\r\n    let editModeLabel;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let clickListener;\r\n\r\n    /*\r\n     *\r\n     */\r\n    const editableObjectPropertyValidationActions = {\r\n      coordinates(coordinates) {\r\n        const shapeType                 = instance.getEditableObjectShapeType();\r\n        const shapeTypeValidationAction = shapeTypeValidationActions[shapeType];\r\n        let validity;\r\n\r\n        if (!_.isFunction(shapeTypeValidationAction)) {\r\n          validity = {\r\n            valid      : false,\r\n            invalidText: `Invalid shape type: ${shapeType}.`,\r\n          };\r\n\r\n        } else {\r\n          let argument = coordinates;\r\n\r\n          if (shapeType !== 'POINT') {\r\n            argument = _.floor(coordinates.length / 2);\r\n          }\r\n\r\n          validity = shapeTypeValidationAction(argument);\r\n        }\r\n\r\n        return validity;\r\n      },\r\n\r\n      bufferDistance(bufferDistance) {\r\n        return {\r\n\r\n          /*\r\n           * For shapes other than circle or pass,\r\n           * `undefined` is a valid buffer distance value.\r\n           */\r\n          valid: _.isUndefined(bufferDistance) || (bufferDistance > 10),\r\n        };\r\n      },\r\n\r\n      objectName(objectName) {\r\n        return {\r\n          valid: (objectName.length >= 3),\r\n        };\r\n      },\r\n    };\r\n\r\n    const shapeTypeValidationActions = {\r\n      POINT(coordinates) {\r\n        const latLng      = coordinates.join(',');\r\n        /**\r\n         * Regex for validating lat/lon with lil' bit modifications.\r\n         * @see http://stackoverflow.com/a/18690202/2013891\r\n         */\r\n        const latPart     = /^([-]?([1-8]?\\d(\\.\\d+)?|90(\\.0+)?)),\\s*/;\r\n        const lngPart     = /([-]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?))$/;\r\n        const latLngRegex = new RegExp(`${latPart.source}${lngPart.source}`);\r\n\r\n        return {\r\n          valid: Boolean(latLng.match(latLngRegex)),\r\n        };\r\n      },\r\n\r\n      POLYGON(pointCount) {\r\n        return {\r\n          valid      : (pointCount >= 3),\r\n          invalidText: 'Polygon needs at least 3 points.',\r\n        };\r\n      },\r\n\r\n      RECTANGLE(pointCount) {\r\n        return {\r\n          valid      : (pointCount === 2),\r\n          invalidText: 'Rectangle needs 2 points.',\r\n        };\r\n      },\r\n\r\n      CIRCLE(pointCount) {\r\n        return {\r\n          valid      : (pointCount === 1),\r\n          invalidText: 'Circle needs a pair of coordinates.',\r\n        };\r\n      },\r\n\r\n      PASS(pointCount) {\r\n        return {\r\n          valid      : (pointCount >= 2),\r\n          invalidText: 'Pass needs at least 2 points.',\r\n        };\r\n      },\r\n\r\n    };\r\n\r\n    /*\r\n     *\r\n     */\r\n    const wildcatTypes = {  // The Cat is getting wild!! :)\r\n      POLYGON  : 'Wildcat.GeoArea',\r\n      RECTANGLE: 'Wildcat.GeoRectangle',\r\n      CIRCLE   : 'Wildcat.GeoCircle',\r\n      PASS     : 'Wildcat.GeoPass',\r\n    };\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region private methods */\r\n\r\n    /**\r\n     *\r\n     * @param shapeType\r\n     * @param coordinates\r\n     * @returns {*}\r\n     */\r\n    function createEditableObject(shapeType, coordinates) {\r\n\r\n      /**\r\n       *\r\n       * @see `.getFactoryMethod()` method in\r\n       * web2/js/maps/viewers/map-object.js\r\n       */\r\n      if (shapeType.match(/rectangle|circle/i)) {\r\n        shapeType = `${shapeType}2`;\r\n      } else if (shapeType.match(/pass/i)) {\r\n        shapeType = 'line';\r\n      }\r\n\r\n      const mapObject = viewer\r\n        .getMapObjectFactory()\r\n        .create({\r\n          viewer,\r\n          objectModel: {\r\n            coordinates,\r\n            shapeType: shapeType.toLowerCase(),\r\n            options  : {\r\n              draggable: true,\r\n              editable : true,\r\n              icon     : {\r\n                model: styler.getLocationIcon({ locationType: 'missing' }),\r\n              },\r\n              styleName: 'editableObject',\r\n            },\r\n          },\r\n        });\r\n\r\n      return mapObject;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param name\r\n     * @param value\r\n     * @returns {{valid: boolean, invalidText: string}}\r\n     */\r\n    function createEditableObjectPropertyValidity(name, value) {\r\n      const editableObjectPropertyValidationAction =\r\n              editableObjectPropertyValidationActions[name];\r\n\r\n      if (!_.isFunction(editableObjectPropertyValidationAction)) {\r\n        throw new Error(`Invalid property name: ${name}.`);\r\n      }\r\n\r\n      return editableObjectPropertyValidationAction(value);\r\n    }\r\n\r\n    /**\r\n     * A lot of strange formatting stuffs below as this is how\r\n     * the server wants it, so do not blame me. :)\r\n     * @param coordinates\r\n     * @param bufferDistance\r\n     * @returns {string}\r\n     */\r\n    function toGeometryStringParam(coordinates, bufferDistance) {\r\n      let geometry = _(coordinates)\r\n        .map((coordinate, i) => {\r\n          const n = i + 1;\r\n          let latLng;\r\n\r\n          if (n % 2 === 0) {\r\n            latLng = `${coordinates[i - 1].toFixed(8)},${coordinates[i].toFixed(8)}`;\r\n          }\r\n\r\n          return latLng;\r\n        })\r\n        .compact()\r\n        .join(';');\r\n\r\n      if (bufferDistance) {\r\n        geometry = `${geometry};@${bufferDistance}`;\r\n\r\n        if (instance.getEditableObjectShapeType() === 'CIRCLE') {\r\n          geometry = geometry.replace(';@', ',');\r\n        }\r\n      }\r\n\r\n      return geometry;\r\n    }\r\n\r\n    /* endregion private methods */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @param mapViewer\r\n       */\r\n      setViewer: _.once(mapViewer => viewer = mapViewer),\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getEditableObject() {\r\n        return editableObject;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param mapObject\r\n       */\r\n      setEditableObject(mapObject) {\r\n\r\n        /*\r\n         * Model.\r\n         */\r\n        instance.setEditableObjectCoordinates(mapObject.objectModel.coordinates);\r\n\r\n        /*\r\n         * View listens to model.\r\n         */\r\n        if (editableObject) {\r\n          viewer.removeObject(editableObject);\r\n        }\r\n\r\n        editableObject = mapObject;\r\n        viewer.addObject(editableObject);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {string}\r\n       */\r\n      getEditableObjectType() {\r\n        return editableObjectType;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param type\r\n       */\r\n      setEditableObjectType(type) {\r\n\r\n        /*\r\n         * Model.\r\n         */\r\n        editableObjectType = type;\r\n\r\n        /*\r\n         * View listens to model.\r\n         */\r\n        if (!editModeLabel) {\r\n          editModeLabel = $('<span>')\r\n            .addClass('label label-primary editor-label')\r\n            .css({\r\n              position: 'absolute',\r\n              left    : 4,\r\n              top     : 4,\r\n            })\r\n            .appendTo(viewer.container);\r\n        }\r\n\r\n        if (type) {\r\n          editModeLabel.text(`Edit Mode: ${editableObjectType.toUpperCase()}`);\r\n        }\r\n\r\n        editModeLabel.toggleClass('hidden', !type);\r\n\r\n        viewer.getControls().onEditableObjectTypeChanged(type);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getTargetLayerName() {\r\n        return viewer.getLayerManager().getLayerName(editableObjectType);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getEditableObjectProperties() {\r\n        const editableObjectProperties =\r\n                editableObjectPropertiesList[editableObjectType];\r\n\r\n        if (!_.isPlainObject(editableObjectProperties)) {\r\n          throw new Error(`Edit mode for ${editableObjectType.toUpperCase()} object not supported`);\r\n        }\r\n\r\n        return editableObjectProperties;\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      getSanitizedEditableObjectProperties() {\r\n        const editableObjectProperties = instance.getEditableObjectProperties();\r\n        const shapeType                = instance.getEditableObjectShapeType();\r\n        const coordinates              = instance.getEditableObjectCoordinates();\r\n\r\n        const wildcatType = wildcatTypes[shapeType];\r\n        if (wildcatType) {\r\n          const bufferDistance = instance.getEditableObjectBufferDistance();\r\n          const geometry       = toGeometryStringParam(coordinates, bufferDistance);\r\n\r\n          if (geometry) {\r\n            _.assign(editableObjectProperties, {\r\n              geometry,\r\n              type: wildcatType,\r\n            });\r\n          }\r\n\r\n        } else {    // Assumed to be a point.\r\n          const [latitude, longitude] = coordinates;\r\n\r\n          _.assign(editableObjectProperties, {\r\n            latitude,\r\n            longitude,\r\n          });\r\n        }\r\n\r\n        const sanitizedEditableObjectProperties = { ...editableObjectProperties };\r\n\r\n        delete sanitizedEditableObjectProperties.shapeType;\r\n        delete sanitizedEditableObjectProperties.coordinates;\r\n        delete sanitizedEditableObjectProperties.bufferDistances;\r\n\r\n        return sanitizedEditableObjectProperties;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isEditableObjectPropertiesValid() {\r\n        const coordinates    = instance.getEditableObjectCoordinates();\r\n        const bufferDistance = instance.getEditableObjectBufferDistance();\r\n        const objectName     = instance.getEditableObjectName();\r\n\r\n        /*\r\n         * Properties to be checked for validity.\r\n         */\r\n        const properties = {\r\n          coordinates,\r\n          bufferDistance,\r\n          objectName,\r\n        };\r\n        let valid        = true;\r\n\r\n        _.forOwn(properties, (value, name) => {\r\n          const validity = createEditableObjectPropertyValidity(name, value);\r\n\r\n          valid = valid & validity.valid;\r\n\r\n          viewer.getControls().onEditableObjectPropertyValidityChanged(name, validity);\r\n        });\r\n\r\n        return valid;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {string}\r\n       */\r\n      getEditableObjectShapeType() {\r\n        return instance.getEditableObjectProperties().shapeType;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param shapeType\r\n       */\r\n      setEditableObjectShapeType(shapeType) {\r\n\r\n        /*\r\n         * Model.\r\n         */\r\n        const editableObjectProperties     = instance.getEditableObjectProperties();\r\n        editableObjectProperties.shapeType = shapeType;\r\n\r\n        /*\r\n         * View listens to model.\r\n         */\r\n        instance.reset();\r\n\r\n        clickListener = (e) => {\r\n          const { currentPointer, latLng } = e;\r\n          let point;\r\n\r\n          if (currentPointer) {\r\n            const { viewportX, viewportY } = currentPointer;\r\n\r\n            point = viewer.pixelToGeo({\r\n              x: viewportX,\r\n              y: viewportY,\r\n            });\r\n\r\n          } else if (latLng) {\r\n            point = {\r\n              lat: latLng.lat(),\r\n              lng: latLng.lng(),\r\n            };\r\n          }\r\n\r\n          const coordinates = [point.lat, point.lng];\r\n          const shapeType   = instance.getEditableObjectShapeType();\r\n\r\n          const mapObject = createEditableObject(shapeType, coordinates);\r\n          instance.setEditableObject(mapObject);\r\n\r\n          const auxObjects = mapObject.getData('auxObjects');\r\n          if (auxObjects) {\r\n            viewer.addObjects(auxObjects);\r\n          }\r\n        };\r\n\r\n        viewer.onceEventListener('click', clickListener);\r\n\r\n        viewer.getControls().onEditableObjectShapeTypeChanged(shapeType);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getEditableObjectCoordinates() {\r\n        return instance.getEditableObjectProperties().coordinates;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param coordinates\r\n       */\r\n      setEditableObjectCoordinates(coordinates) {\r\n\r\n        coordinates = _.map(coordinates, (coordinate) => {\r\n\r\n          if (_.isFinite(coordinate)) {\r\n            coordinate = parseFloat(coordinate.toFixed(8));\r\n          }\r\n\r\n          return coordinate;\r\n        });\r\n\r\n        /*\r\n         * Model.\r\n         */\r\n        const editableObjectProperties       = instance.getEditableObjectProperties();\r\n        editableObjectProperties.coordinates = coordinates;\r\n\r\n        /*\r\n         * View listens to model.\r\n         */\r\n        if (editableObject) {\r\n\r\n          /*\r\n           * A bit lazy to make a mapping here. Back to that\r\n           * classic if-else statement. Determine object type\r\n           * by duck-typing check.\r\n           */\r\n          if (_.isFunction(editableObject.setPosition)) {\r\n            const [lat, lng] = coordinates;\r\n\r\n            // Marker/point.\r\n            editableObject.setPosition({\r\n              lat,\r\n              lng,\r\n            });\r\n          } else if (_.isFunction(editableObject.setCoordinates)) {\r\n\r\n            // Polyline, polygon...\r\n            editableObject.setCoordinates(coordinates);\r\n          } else if (_.isFunction(editableObject.setBounds)) {\r\n            const [top, left, bottom, right] = coordinates;\r\n\r\n            // Rectangle.\r\n            editableObject.setBounds({\r\n              left,\r\n              bottom,\r\n              right,\r\n              top,\r\n            });\r\n          } else if (_.isFunction(editableObject.setRadius)) {\r\n            const [lat, lng, radius] = coordinates;\r\n\r\n            // Circle.\r\n            editableObject.setCenter({\r\n              lat,\r\n              lng,\r\n            });\r\n            editableObject.setRadius(radius);\r\n          }\r\n        }\r\n\r\n        const controls = viewer.getControls();\r\n        controls.onEditableObjectCoordinatesChanged(coordinates);\r\n        controls.onEditableObjectPropertyValidityChanged(\r\n          'coordinates', createEditableObjectPropertyValidity('coordinates', coordinates));\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      resetEditableObjectCoordinates() {\r\n\r\n        /*\r\n         * Model.\r\n         */\r\n        const editableObjectProperties       = instance.getEditableObjectProperties();\r\n        editableObjectProperties.coordinates = [];\r\n\r\n        /*\r\n         * View listens to model.\r\n         */\r\n        if (editableObject) {\r\n          const auxObjects = editableObject.getData('auxObjects');\r\n          if (auxObjects) {\r\n            viewer.removeObjects(auxObjects);\r\n          }\r\n\r\n          viewer.removeObject(editableObject);\r\n          editableObject = undefined;\r\n        }\r\n\r\n        const controls = viewer.getControls();\r\n        controls.onEditableObjectCoordinatesChanged([]);\r\n        controls.onEditableObjectPropertyValidityChanged(\r\n          'coordinates', { valid: true });\r\n\r\n        /*\r\n         * When resetting object coordinates, make sure buffer\r\n         * distance parameter of that particular shape type is\r\n         * back to its previous state accordingly.\r\n         */\r\n        const bufferDistance = instance.getEditableObjectBufferDistance();\r\n        if (bufferDistance) {\r\n          controls.onEditableObjectBufferDistanceChanged(bufferDistance);\r\n          controls.onEditableObjectPropertyValidityChanged(\r\n            'bufferDistance', { valid: true });\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param lat\r\n       * @param lng\r\n       */\r\n      setEditableObjectLatLng(lat, lng) {\r\n        const coordinates = [lat, lng];\r\n\r\n        if (!editableObject) {\r\n          instance.setEditableObject(createEditableObject('POINT', coordinates));\r\n        } else {\r\n          instance.setEditableObjectCoordinates(coordinates);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {number}\r\n       */\r\n      getEditableObjectBufferDistance() {\r\n        const { bufferDistances } = instance.getEditableObjectProperties();\r\n        const shapeType = instance.getEditableObjectShapeType();\r\n        let bufferDistance;\r\n\r\n        if (bufferDistances && bufferDistances[shapeType]) {\r\n          bufferDistance = bufferDistances[shapeType];\r\n        }\r\n\r\n        return bufferDistance;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param bufferDistance\r\n       */\r\n      setEditableObjectBufferDistance(bufferDistance) {\r\n        bufferDistance = parseFloat(bufferDistance.toFixed(8));\r\n\r\n        /*\r\n         * Model.\r\n         */\r\n        const editableObjectProperties = instance.getEditableObjectProperties();\r\n        const shapeType                = instance.getEditableObjectShapeType();\r\n\r\n        editableObjectProperties.bufferDistances[shapeType] = bufferDistance;\r\n\r\n        /*\r\n         * View listens to model.\r\n         */\r\n        if (editableObject && shapeType === 'CIRCLE') {\r\n          editableObject.setRadius(bufferDistance);\r\n        }\r\n\r\n        const controls = viewer.getControls();\r\n        controls.onEditableObjectBufferDistanceChanged(bufferDistance);\r\n        controls.onEditableObjectPropertyValidityChanged(\r\n          'bufferDistance', createEditableObjectPropertyValidity('bufferDistance', bufferDistance));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getEditableObjectName() {\r\n        return instance.getEditableObjectProperties().objectName;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param objectName\r\n       */\r\n      setEditableObjectName(objectName) {\r\n\r\n        /*\r\n         * Model.\r\n         */\r\n        const editableObjectProperties      = instance.getEditableObjectProperties();\r\n        editableObjectProperties.objectName = objectName;\r\n\r\n        /*\r\n         * View listens to model.\r\n         */\r\n        const controls = viewer.getControls();\r\n        controls.onEditableObjectNameChanged(objectName);\r\n        controls.onEditableObjectPropertyValidityChanged(\r\n          'objectName', createEditableObjectPropertyValidity('objectName', objectName));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param configName\r\n       */\r\n      setEditableObjectConfigName(configName) {\r\n\r\n        /*\r\n         * Model.\r\n         */\r\n        const editableObjectProperties      = instance.getEditableObjectProperties();\r\n        editableObjectProperties.configName = configName;\r\n\r\n        /*\r\n         * View listens to model.\r\n         */\r\n        viewer.getControls().onEditableObjectConfigNameChanged(configName);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      reset() {\r\n        instance.resetEditableObjectCoordinates();\r\n\r\n        if (clickListener) {\r\n          viewer.removeEventListener('click', clickListener);\r\n          clickListener = undefined;\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      destroy() {\r\n        instance.reset();\r\n        instance.setEditableObjectType(undefined);\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n  });\r\n\r\nexport { EditManager as default, EditManager };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/manager/edit-manager.js\n **/","/**\r\n * Created by Glenn on 2015-07-02.\r\n */\r\n\r\nconst RoutingManager = stampit()\r\n  .init(({ instance }) => {\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     *\r\n     */\r\n    let viewer;\r\n\r\n    /*\r\n     * View\r\n     */\r\n    let routingControls;\r\n\r\n    /*\r\n     *\r\n     */\r\n    const places    = [];\r\n    const waypoints = [];\r\n    const route     = {\r\n      routingType  : 'fastest',\r\n      transportMode: 'car',\r\n      trafficMode  : 'default',\r\n      features     : {\r\n        tollroad : 0,\r\n        motorway : 0,\r\n        boatFerry: 0,\r\n        tunnel   : 0,\r\n        dirtRoad : 0,\r\n        park     : 0,\r\n      },\r\n      path         : [],\r\n      line         : undefined,\r\n      legs         : [],\r\n      summary      : {\r\n        duration: NaN,\r\n        distance: NaN,\r\n      },\r\n      maneuvers    : [],\r\n    };\r\n\r\n    /*\r\n     *\r\n     */\r\n    let router;\r\n\r\n    /*\r\n     *\r\n     */\r\n    let routingLayer;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getViewerModuleName() {\r\n        return viewer.moduleName;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param mapViewer\r\n       */\r\n      setViewer: _.once(mapViewer => viewer = mapViewer),\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getRoutingControls() {\r\n        return routingControls;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param routingView\r\n       */\r\n      setRoutingControls(routingView) {\r\n        routingControls = routingView;\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      initRoutingEngine: _.once(() => {\r\n        router = viewer\r\n          .getRoutingEngineFactory()\r\n          .create({\r\n            viewer,\r\n            routingManager: instance,\r\n          });\r\n\r\n        routingLayer = viewer\r\n          .getLayerFactory()\r\n          .create({\r\n            viewer,\r\n          });\r\n        viewer.addOverlay(routingLayer);\r\n      }),\r\n\r\n      /* region Places operations */\r\n\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       */\r\n      getPlaces() {\r\n        return places;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param placesData\r\n       */\r\n      addPlaces(placesData) {\r\n        places.push(...placesData);\r\n        routingControls.onPlacesChanged(places);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      clearPlaces() {\r\n        _.pull(places, ...places);  // Fancy way for emptying array.\r\n        routingControls.onPlacesChanged(places);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param query\r\n       * @returns {*}\r\n       */\r\n      searchPlaces(query) {\r\n        return router.searchPlaces(query);\r\n      },\r\n\r\n      /* endregion Places operations */\r\n\r\n      /* region Waypoint view-model operations */\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       * @returns {boolean}\r\n       */\r\n      isWaypointValid(waypoint) {\r\n        return Boolean(\r\n          waypoint && _.isFinite(waypoint.lat) && _.isFinite(waypoint.lng));\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getValidWaypoints() {\r\n        return _.filter(instance.getWaypoints(), instance.isWaypointValid);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {Array}\r\n       */\r\n      getWaypoints() {\r\n        return waypoints;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       * @param [index]\r\n       */\r\n      addWaypoint(waypoint, index) {\r\n        const len = waypoints.length;\r\n        const i   = _.isFinite(index) ? index : len;\r\n\r\n        waypoints.splice(i, 0, waypoint);\r\n\r\n        waypoint.pin = instance.createWaypointPin(waypoint);\r\n        instance.addWaypointPin(waypoint.pin);\r\n        instance.updateWaypointLabels();\r\n\r\n        routingControls.onWaypointAdded(waypoint, i);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       * @param index\r\n       */\r\n      updateWaypoint(waypoint, index) {\r\n        const updatedWaypoint = _.assign(waypoints[index], waypoint);\r\n\r\n        waypoints.splice(index, 1, updatedWaypoint);\r\n\r\n        instance.updateWaypointPin(updatedWaypoint);\r\n\r\n        routingControls.onWaypointChanged(updatedWaypoint);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param fromIndex\r\n       * @param toIndex\r\n       */\r\n      reorderWaypoint(fromIndex, toIndex) {\r\n        const waypoint = waypoints.splice(fromIndex, 1)[0];\r\n\r\n        waypoints.splice(toIndex, 0, waypoint);\r\n\r\n        instance.updateWaypointLabels();\r\n\r\n        routingControls.onWaypointReordered(waypoint, toIndex);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param index\r\n       */\r\n      removeWaypoint(index) {\r\n        const waypoint = waypoints.splice(index, 1)[0];\r\n\r\n        instance.removeWaypointPin(waypoint.pin);\r\n        instance.updateWaypointLabels();\r\n\r\n        routingControls.onWaypointRemoved(waypoint);\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      updateWaypointLabels() {\r\n        const len = waypoints.length;\r\n\r\n        _.forEach(waypoints, (waypoint, i) => {\r\n\r\n          if (i === 0) {\r\n            waypoint.label = 'A';\r\n          } else if (i === len - 1) {\r\n            waypoint.label = 'B';\r\n          } else {\r\n            waypoint.label = i.toString();\r\n          }\r\n\r\n          instance.updateWaypointPin(waypoint);\r\n        });\r\n\r\n        routingControls.onWaypointsLabelChanged(waypoints);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       */\r\n      createWaypointPin(waypoint) {\r\n        let pin;\r\n\r\n        if (instance.isWaypointValid(waypoint)) {\r\n          const { lat, lng, label } = waypoint;\r\n\r\n          pin = viewer\r\n            .getMapObjectFactory()\r\n            .create({\r\n              viewer,\r\n              objectModel: {\r\n                shapeType  : 'marker',\r\n                coordinates: [lat, lng],\r\n                options    : {\r\n                  label,\r\n                },\r\n              },\r\n            });\r\n        }\r\n\r\n        return pin;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypointPin\r\n       */\r\n      addWaypointPin(waypointPin) {\r\n\r\n        if (waypointPin) {\r\n          routingLayer.add(waypointPin);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypoint\r\n       */\r\n      updateWaypointPin(waypoint) {\r\n        instance.removeWaypointPin(waypoint.pin);\r\n        waypoint.pin = instance.createWaypointPin(waypoint);\r\n        instance.addWaypointPin(waypoint.pin);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param waypointPin\r\n       */\r\n      removeWaypointPin(waypointPin) {\r\n\r\n        if (waypointPin) {\r\n          routingLayer.remove(waypointPin);\r\n        }\r\n      },\r\n\r\n      /* endregion Waypoint view-model operations */\r\n\r\n      /* region Routing mode operations */\r\n\r\n      /**\r\n       *\r\n       * @returns {string}\r\n       */\r\n      getRoutingType() {\r\n        return route.routingType;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {string}\r\n       */\r\n      getTransportMode() {\r\n        return route.transportMode;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {string}\r\n       */\r\n      getTrafficMode() {\r\n        return route.trafficMode;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {route.features|{tollroad, motorway, boatFerry, tunnel, dirtRoad, park}}\r\n       */\r\n      getRouteFeatures() {\r\n        return route.features;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param featureName\r\n       * @param avoided\r\n       */\r\n      setRouteFeatureAvoided(featureName, avoided) {\r\n        route.features[featureName] = avoided ? -1 : 0;\r\n\r\n        routingControls.onRouteFeatureChanged(featureName, avoided);\r\n      },\r\n\r\n      /* endregion Routing mode operations */\r\n\r\n      /* region Routing operations */\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      routeExists() {\r\n        return (route.path.length >= 2);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      canCalculateRoute() {\r\n        return (instance.getValidWaypoints().length >= 2);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      calculateRoute() {\r\n        const defer = $.Deferred();\r\n        let promise = defer.promise();\r\n\r\n        if (instance.canCalculateRoute()) {\r\n          promise = router.calculateRoute();\r\n        } else {\r\n          const routingResult = {\r\n            path     : [],\r\n            legs     : [],\r\n            summary  : {},\r\n            maneuvers: [],\r\n          };\r\n\r\n          defer.resolve(routingResult);\r\n        }\r\n\r\n        return promise;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param result\r\n       */\r\n      setRoutingResult({ path, legs, summary, maneuvers }) {\r\n        instance.setRoutePath(path);\r\n        instance.setRouteLegs(legs);\r\n        instance.setRouteSummary(summary);\r\n        instance.setRouteManeuvers(maneuvers);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param path\r\n       */\r\n      setRoutePath(path) {\r\n        route.path = path;\r\n\r\n        instance.redrawRouteLine();\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      redrawRouteLine() {\r\n        const mapObjectFactory = viewer.getMapObjectFactory();\r\n\r\n        instance.clearRouteLine();\r\n\r\n        if (instance.routeExists()) {\r\n          const line = mapObjectFactory.create({\r\n            viewer,\r\n            objectModel: {\r\n              shapeType  : 'line',\r\n              coordinates: mapObjectFactory.toCoordinates(route.path),\r\n              options    : {\r\n                styleName: 'routeLine',\r\n              },\r\n            },\r\n          });\r\n\r\n          route.line = line;\r\n          routingLayer.add(line);\r\n        }\r\n\r\n        viewer.setBoundingBox(routingLayer.getBounds());\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      clearRouteLine() {\r\n        const { line } = route;\r\n\r\n        if (line) {\r\n          route.line = undefined;\r\n          routingLayer.remove(line);\r\n        }\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param legs\r\n       */\r\n      setRouteLegs(legs) {\r\n        route.legs = legs;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param summary\r\n       */\r\n      setRouteSummary(summary) {\r\n        route.summary = summary;\r\n\r\n        routingControls.onRouteSummaryChanged(summary);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param maneuvers\r\n       */\r\n      setRouteManeuvers(maneuvers) {\r\n        route.maneuvers = maneuvers;\r\n\r\n        routingControls.onManeuversChanged(maneuvers);\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {{start: *, end: *, maneuvers: Array}}\r\n       */\r\n      getRouteDirections() {\r\n        return {\r\n          startingPoint: _.first(waypoints).name,\r\n          destination  : _.last(waypoints).name,\r\n          maneuvers    : route.maneuvers,\r\n        };\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {{}}\r\n       */\r\n      yieldSaveRouteRequestData() {\r\n        const data = {\r\n          path     : [],\r\n          waypoints: [],\r\n        };\r\n\r\n        if (instance.routeExists()) {\r\n          const { path, legs } = route;\r\n          const validWaypoints = _.filter(waypoints, instance.isWaypointValid);\r\n\r\n          _.assign(data, {\r\n            path: _.map(path, point => `${point.lat},${point.lng}`),\r\n\r\n            /*\r\n             * Create waypoint data from each leg.\r\n             * Number of legs = number of waypoints - 1.\r\n             */\r\n            waypoints: _.map(legs, (leg, i) => {\r\n              const { name, domainObjectType, domainObjectId } = validWaypoints[i];\r\n              const { firstPointIndex, length, traveltime } = leg;\r\n\r\n              return {\r\n                name,\r\n                length,\r\n                traveltime,\r\n                domainObjectType: domainObjectType || undefined,\r\n                domainObjectId  : domainObjectId || undefined,\r\n                index           : firstPointIndex,\r\n              };\r\n            }),\r\n          });\r\n\r\n          /*\r\n           * Do not forget to push the last waypoint\r\n           * (destination) to the list.\r\n           */\r\n          const lastWaypoint = _.last(validWaypoints);\r\n          const { name, domainObjectType, domainObjectId } = lastWaypoint;\r\n\r\n          data.waypoints.push({\r\n            name,\r\n            domainObjectType: domainObjectType || undefined,\r\n            domainObjectId  : domainObjectId || undefined,\r\n            index           : path.length - 1,\r\n            length          : 0,\r\n            traveltime      : 0,\r\n          });\r\n        }\r\n\r\n        return data;\r\n      },\r\n\r\n      /* endregion Routing operations */\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n  });\r\n\r\nexport { RoutingManager as default, RoutingManager };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/manager/routing-manager.js\n **/","/**\r\n * Created by Glenn on 2015-08-10.\r\n */\r\n\r\n/**\r\n * Separate dedicated stamp for map object's label. Things may get more\r\n * complicated sooner or later; \"Winter is coming.\"\r\n * @see https://jira.roamworks.com/browse/AI-232\r\n */\r\nconst MapObjectLabel = stampit()\r\n  .props({\r\n\r\n    /**\r\n     *\r\n     */\r\n    mapObject: undefined,\r\n  })\r\n  .init(({ instance }) => {\r\n    let object = instance.mapObject;\r\n\r\n    /* region private properties */\r\n\r\n    /*\r\n     *\r\n     */\r\n    let label;\r\n\r\n    /* endregion private properties */\r\n\r\n    /* region privileged methods */\r\n\r\n    _.assign(instance, {\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getNativeObject() {\r\n        return label;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param mapObject\r\n       * @returns {*}\r\n       */\r\n      setMapObject(mapObject) {\r\n        object = instance.mapObject = mapObject;\r\n\r\n        return instance;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param text\r\n       * @returns {*}\r\n       */\r\n      setText(text) {\r\n        label.text(text);\r\n\r\n        return instance;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      getPosition() {\r\n        return label.data('position');\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param x\r\n       * @param y\r\n       * @returns {*}\r\n       */\r\n      setPosition(x, y) {\r\n        label\r\n          .css({\r\n            left: x,\r\n            top : y,\r\n          })\r\n          .data('position', {\r\n            x,\r\n            y,\r\n          });\r\n\r\n        return instance;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param direction\r\n       * @param magnitude\r\n       * @returns {*}\r\n       */\r\n      shiftPosition(direction, magnitude) {\r\n        const labelData = label.data();\r\n\r\n        labelData.shiftDirection = direction;\r\n\r\n        if (object) {\r\n          const { viewer, getPosition } = object;\r\n          const geo = _.isFunction(getPosition) ?\r\n                      object.getPosition() : object.getCenterBounds();\r\n\r\n          labelData.origin = viewer.geoToPixel(geo);\r\n        }\r\n\r\n        const { x, y } = labelData.origin;\r\n        const x0               = x;\r\n        const y0               = y;\r\n        const m                = magnitude || 8;\r\n        const directionActions = {\r\n          E: () => instance.setPosition(x0 + m, y0),\r\n\r\n          //SE: () => instance.setPosition(x0 + m, y0 + m),\r\n          //S : () => instance.setPosition(x0, y0 + m),\r\n          //SW: () => instance.setPosition(x0 - m, y0 + m),\r\n          //W : () => instance.setPosition(x0 - m, y0),\r\n          //NW: () => instance.setPosition(x0 - m, y0 - m),\r\n          //N : () => instance.setPosition(x0, y0 - m),\r\n          //NE: () => instance.setPosition(x0 + m, y0 - m),\r\n        };\r\n\r\n        const directionAction = directionActions[direction];\r\n\r\n        if (!_.isFunction(directionAction)) {\r\n          throw new Error(`Invalid direction: ${shapeType}.`);\r\n        }\r\n\r\n        directionAction();\r\n\r\n        return instance;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {*}\r\n       */\r\n      updatePosition() {\r\n        instance.shiftPosition(label.data('shiftDirection'));\r\n\r\n        return instance;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isWithinMapBounds() {\r\n        let withinMapBounds = false;\r\n\r\n        if (object) {\r\n          const { x, y }  = instance.getPosition();\r\n          const { clientWidth, clientHeight } = object.viewer.container[0];\r\n\r\n          withinMapBounds = (x > 0 &&\r\n                             y > 0 &&\r\n                             x < clientWidth &&\r\n                             y < clientHeight);\r\n        }\r\n\r\n        return withinMapBounds;\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @returns {boolean}\r\n       */\r\n      isVisible() {\r\n        return label.data('visible');\r\n      },\r\n\r\n      /**\r\n       *\r\n       * @param visible\r\n       * @returns {*}\r\n       */\r\n      setVisible(visible) {\r\n        //label.detach();\r\n\r\n        /**\r\n         * Appending/removing DOM element (label element) has to\r\n         * be very efficient here. Use native browser operations\r\n         * in favour of jQuery.\r\n         * @see http://youmightnotneedjquery.com/\r\n         */\r\n        const elem = label[0];\r\n        let { parentNode } = elem;\r\n\r\n        if (visible && object && object.isVisible(true)) {\r\n          const { viewer } = object;\r\n\r\n          parentNode = viewer.container[0];\r\n          parentNode.appendChild(elem);\r\n\r\n          /*\r\n           * Cache the offset values of the label because when\r\n           * the label is not visible (removed from the DOM\r\n           * tree), the offset values can't be measured => 0.\r\n           * Only compute and cache them at the first time.\r\n           */\r\n          if (viewer.isAutoLabelingActivated() && (!elem.dimensionCached)) {\r\n            const { offsetWidth, offsetHeight } = elem;\r\n\r\n            elem.dimensionCached = true;\r\n            elem.cachedWidth     = offsetWidth;\r\n            elem.cachedHeight    = offsetHeight;\r\n          }\r\n        } else {\r\n\r\n          if (parentNode) {\r\n            parentNode.removeChild(elem);\r\n          }\r\n        }\r\n\r\n        label.data('visible', visible);\r\n\r\n        return instance;\r\n      },\r\n\r\n      /**\r\n       *\r\n       */\r\n      destroy() {\r\n        label.remove();\r\n      },\r\n    });\r\n\r\n    /* endregion privileged methods */\r\n\r\n    /* region init code */\r\n\r\n    label = $('<span>')\r\n\r\n    /*\r\n     * Use Bootstrap Labels.\r\n     * There are also styles like \"label-primary\",\r\n     * \"label-success\", \"label-info\", \"label-warning\" and\r\n     * \"label-danger\".\r\n     */\r\n      .addClass('label label-default')\r\n      .css({ position: 'absolute' })\r\n      .text(object ? object.getData('description') : '')\r\n      .data({\r\n        origin        : {\r\n          x: 0,\r\n          y: 0,\r\n        },\r\n        position      : {\r\n          x: 0,\r\n          y: 0,\r\n        },\r\n        shiftDirection: 'E',\r\n        visible       : false,\r\n      });\r\n\r\n    // Set default position to the \"East\" of the object.\r\n    instance.shiftPosition(label.data('shiftDirection'));\r\n\r\n    /* endregion init code */\r\n  })\r\n  .static({\r\n\r\n    /**\r\n     *\r\n     * @param labels\r\n     */\r\n    runAutomaticLabelPlacement(labels) {\r\n      const isColliding = (label, other) => {\r\n        const l1 = label.getNativeObject()[0];\r\n        const p1 = label.getPosition();\r\n        const x1 = p1.x;\r\n        const y1 = p1.y;\r\n        const w1 = l1.cachedWidth;\r\n        const h1 = l1.cachedHeight;\r\n\r\n        const l2 = other.getNativeObject()[0];\r\n        const p2 = other.getPosition();\r\n        const x2 = p2.x;\r\n        const y2 = p2.y;\r\n        const w2 = l2.cachedWidth;\r\n        const h2 = l2.cachedHeight;\r\n\r\n        /**\r\n         *\r\n         * @see https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection\r\n         * @see http://stackoverflow.com/questions/2440377/javascript-collision-detection\r\n         */\r\n        return ((x1 < x2 + w2) && (y1 < y2 + h2) &&\r\n                (x2 < x1 + w1) && (y2 < y1 + h1));\r\n      };\r\n\r\n      let wrapped = _(labels)\r\n        .chain()\r\n        .orderBy(['mapObject.roamObject.id'], ['desc'])\r\n        .forEach(label => label.setVisible(false))\r\n        .filter(label => label.mapObject.isWithinViewBounds())\r\n        .commit();\r\n\r\n      /*\r\n       * Give no threshold, and push to the limit (for now).\r\n       * \"To infinity and beyond!\" –Buzz Lightyear\r\n       */\r\n      const threshold = Infinity;\r\n\r\n      if (wrapped.size().value() > threshold) {\r\n        wrapped = wrapped\r\n          .sample(threshold)\r\n          .commit();\r\n      }\r\n\r\n      wrapped\r\n        .forEach((label) => {\r\n          const canPosition = wrapped\r\n            .every((other) => {\r\n              let colliding = false;\r\n\r\n              if ((other !== label) &&\r\n                  label.isWithinMapBounds() &&\r\n                  other.isVisible()) {\r\n\r\n                colliding = isColliding(label, other);\r\n              }\r\n\r\n              return !colliding;\r\n            })\r\n            .value();\r\n\r\n          if (canPosition) {\r\n            label.setVisible(true);\r\n          }\r\n        })\r\n        .value();\r\n    },\r\n  });\r\n\r\nexport { MapObjectLabel as default, MapObjectLabel };\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/maps/viewers/map-object-label.js\n **/","\"use strict\";\n\nrequire(\"core-js/shim\");\n\nrequire(\"babel-regenerator-runtime\");\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/lib/index.js\n **/","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./$.to-object')\n  , toIndex  = require('./$.to-index')\n  , toLength = require('./$.to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target/*= 0*/, start/*= 0, end = @length*/){\n  var O     = toObject(this)\n    , len   = toLength(O.length)\n    , to    = toIndex(target, len)\n    , from  = toIndex(start, len)\n    , $$    = arguments\n    , end   = $$.length > 2 ? $$[2] : undefined\n    , count = Math.min((end === undefined ? len : toIndex(end, len)) - from, len - to)\n    , inc   = 1;\n  if(from < to && to < from + count){\n    inc  = -1;\n    from += count - 1;\n    to   += count - 1;\n  }\n  while(count-- > 0){\n    if(from in O)O[to] = O[from];\n    else delete O[to];\n    to   += inc;\n    from += inc;\n  } return O;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.array-copy-within.js\n **/","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./$.to-object')\n  , toIndex  = require('./$.to-index')\n  , toLength = require('./$.to-length');\nmodule.exports = [].fill || function fill(value /*, start = 0, end = @length */){\n  var O      = toObject(this)\n    , length = toLength(O.length)\n    , $$     = arguments\n    , $$len  = $$.length\n    , index  = toIndex($$len > 1 ? $$[1] : undefined, length)\n    , end    = $$len > 2 ? $$[2] : undefined\n    , endPos = end === undefined ? length : toIndex(end, length);\n  while(endPos > index)O[index++] = value;\n  return O;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.array-fill.js\n **/","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar isObject = require('./$.is-object')\n  , isArray  = require('./$.is-array')\n  , SPECIES  = require('./$.wks')('species');\nmodule.exports = function(original, length){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.array-species-create.js\n **/","// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.enum-keys.js\n **/","var $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.keyof.js\n **/","var global    = require('./$.global')\n  , macrotask = require('./$.task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./$.cof')(process) == 'process'\n  , head, last, notify;\n\nvar flush = function(){\n  var parent, domain, fn;\n  if(isNode && (parent = process.domain)){\n    process.domain = null;\n    parent.exit();\n  }\n  while(head){\n    domain = head.domain;\n    fn     = head.fn;\n    if(domain)domain.enter();\n    fn(); // <- currently we use it only for Promise - try / catch not required\n    if(domain)domain.exit();\n    head = head.next;\n  } last = undefined;\n  if(parent)parent.enter();\n};\n\n// Node.js\nif(isNode){\n  notify = function(){\n    process.nextTick(flush);\n  };\n// browsers with MutationObserver\n} else if(Observer){\n  var toggle = 1\n    , node   = document.createTextNode('');\n  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n  notify = function(){\n    node.data = toggle = -toggle;\n  };\n// environments with maybe non-completely correct, but existent Promise\n} else if(Promise && Promise.resolve){\n  notify = function(){\n    Promise.resolve().then(flush);\n  };\n// for other environments - macrotask based on:\n// - setImmediate\n// - MessageChannel\n// - window.postMessag\n// - onreadystatechange\n// - setTimeout\n} else {\n  notify = function(){\n    // strange IE + webpack dev server bug - use .call(global)\n    macrotask.call(global, flush);\n  };\n}\n\nmodule.exports = function asap(fn){\n  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n  if(last)last.next = task;\n  if(!head){\n    head = task;\n    notify();\n  } last = task;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.microtask.js\n **/","// 19.1.2.1 Object.assign(target, source, ...)\nvar $        = require('./$')\n  , toObject = require('./$.to-object')\n  , IObject  = require('./$.iobject');\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = require('./$.fails')(function(){\n  var a = Object.assign\n    , A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return a({}, A)[S] != 7 || Object.keys(a({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , $$    = arguments\n    , $$len = $$.length\n    , index = 1\n    , getKeys    = $.getKeys\n    , getSymbols = $.getSymbols\n    , isEnum     = $.isEnum;\n  while($$len > index){\n    var S      = IObject($$[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  }\n  return T;\n} : Object.assign;\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.object-assign.js\n **/","'use strict';\nvar path      = require('./$.path')\n  , invoke    = require('./$.invoke')\n  , aFunction = require('./$.a-function');\nmodule.exports = function(/* ...pargs */){\n  var fn     = aFunction(this)\n    , length = arguments.length\n    , pargs  = Array(length)\n    , i      = 0\n    , _      = path._\n    , holder = false;\n  while(length > i)if((pargs[i] = arguments[i++]) === _)holder = true;\n  return function(/* ...args */){\n    var that  = this\n      , $$    = arguments\n      , $$len = $$.length\n      , j = 0, k = 0, args;\n    if(!holder && !$$len)return invoke(fn, pargs, that);\n    args = pargs.slice();\n    if(holder)for(;length > j; j++)if(args[j] === _)args[j] = $$[k++];\n    while($$len > k)args.push($$[k++]);\n    return invoke(fn, args, that);\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.partial.js\n **/","module.exports = require('./$.global');\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.path.js\n **/","module.exports = function(regExp, replace){\n  var replacer = replace === Object(replace) ? function(part){\n    return replace[part];\n  } : replace;\n  return function(it){\n    return String(it).replace(regExp, replacer);\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.replacer.js\n **/","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./$.an-object')\n  , aFunction = require('./$.a-function')\n  , SPECIES   = require('./$.wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.species-constructor.js\n **/","// 7.1.1 ToPrimitive(input [, PreferredType])\r\nvar isObject = require('./$.is-object');\r\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\r\n// and the second argument - flag - preferred type is a string\r\nmodule.exports = function(it, S){\r\n  if(!isObject(it))return it;\r\n  var fn, val;\r\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\r\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\r\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\r\n  throw TypeError(\"Can't convert object to primitive value\");\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/$.to-primitive.js\n **/","'use strict';\nvar $                 = require('./$')\n  , $export           = require('./$.export')\n  , DESCRIPTORS       = require('./$.descriptors')\n  , createDesc        = require('./$.property-desc')\n  , html              = require('./$.html')\n  , cel               = require('./$.dom-create')\n  , has               = require('./$.has')\n  , cof               = require('./$.cof')\n  , invoke            = require('./$.invoke')\n  , fails             = require('./$.fails')\n  , anObject          = require('./$.an-object')\n  , aFunction         = require('./$.a-function')\n  , isObject          = require('./$.is-object')\n  , toObject          = require('./$.to-object')\n  , toIObject         = require('./$.to-iobject')\n  , toInteger         = require('./$.to-integer')\n  , toIndex           = require('./$.to-index')\n  , toLength          = require('./$.to-length')\n  , IObject           = require('./$.iobject')\n  , IE_PROTO          = require('./$.uid')('__proto__')\n  , createArrayMethod = require('./$.array-methods')\n  , arrayIndexOf      = require('./$.array-includes')(false)\n  , ObjectProto       = Object.prototype\n  , ArrayProto        = Array.prototype\n  , arraySlice        = ArrayProto.slice\n  , arrayJoin         = ArrayProto.join\n  , defineProperty    = $.setDesc\n  , getOwnDescriptor  = $.getDesc\n  , defineProperties  = $.setDescs\n  , factories         = {}\n  , IE8_DOM_DEFINE;\n\nif(!DESCRIPTORS){\n  IE8_DOM_DEFINE = !fails(function(){\n    return defineProperty(cel('div'), 'a', {get: function(){ return 7; }}).a != 7;\n  });\n  $.setDesc = function(O, P, Attributes){\n    if(IE8_DOM_DEFINE)try {\n      return defineProperty(O, P, Attributes);\n    } catch(e){ /* empty */ }\n    if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n    if('value' in Attributes)anObject(O)[P] = Attributes.value;\n    return O;\n  };\n  $.getDesc = function(O, P){\n    if(IE8_DOM_DEFINE)try {\n      return getOwnDescriptor(O, P);\n    } catch(e){ /* empty */ }\n    if(has(O, P))return createDesc(!ObjectProto.propertyIsEnumerable.call(O, P), O[P]);\n  };\n  $.setDescs = defineProperties = function(O, Properties){\n    anObject(O);\n    var keys   = $.getKeys(Properties)\n      , length = keys.length\n      , i = 0\n      , P;\n    while(length > i)$.setDesc(O, P = keys[i++], Properties[P]);\n    return O;\n  };\n}\n$export($export.S + $export.F * !DESCRIPTORS, 'Object', {\n  // 19.1.2.6 / 15.2.3.3 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $.getDesc,\n  // 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n  defineProperty: $.setDesc,\n  // 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n  defineProperties: defineProperties\n});\n\n  // IE 8- don't enum bug keys\nvar keys1 = ('constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,' +\n            'toLocaleString,toString,valueOf').split(',')\n  // Additional keys for getOwnPropertyNames\n  , keys2 = keys1.concat('length', 'prototype')\n  , keysLen1 = keys1.length;\n\n// Create object with `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = cel('iframe')\n    , i      = keysLen1\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write('<script>document.F=Object</script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict.prototype[keys1[i]];\n  return createDict();\n};\nvar createGetKeys = function(names, length){\n  return function(object){\n    var O      = toIObject(object)\n      , i      = 0\n      , result = []\n      , key;\n    for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n    // Don't enum bug & hidden keys\n    while(length > i)if(has(O, key = names[i++])){\n      ~arrayIndexOf(result, key) || result.push(key);\n    }\n    return result;\n  };\n};\nvar Empty = function(){};\n$export($export.S, 'Object', {\n  // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\n  getPrototypeOf: $.getProto = $.getProto || function(O){\n    O = toObject(O);\n    if(has(O, IE_PROTO))return O[IE_PROTO];\n    if(typeof O.constructor == 'function' && O instanceof O.constructor){\n      return O.constructor.prototype;\n    } return O instanceof Object ? ObjectProto : null;\n  },\n  // 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $.getNames = $.getNames || createGetKeys(keys2, keys2.length, true),\n  // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n  create: $.create = $.create || function(O, /*?*/Properties){\n    var result;\n    if(O !== null){\n      Empty.prototype = anObject(O);\n      result = new Empty();\n      Empty.prototype = null;\n      // add \"__proto__\" for Object.getPrototypeOf shim\n      result[IE_PROTO] = O;\n    } else result = createDict();\n    return Properties === undefined ? result : defineProperties(result, Properties);\n  },\n  // 19.1.2.14 / 15.2.3.14 Object.keys(O)\n  keys: $.getKeys = $.getKeys || createGetKeys(keys1, keysLen1, false)\n});\n\nvar construct = function(F, len, args){\n  if(!(len in factories)){\n    for(var n = [], i = 0; i < len; i++)n[i] = 'a[' + i + ']';\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  }\n  return factories[len](F, args);\n};\n\n// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\n$export($export.P, 'Function', {\n  bind: function bind(that /*, args... */){\n    var fn       = aFunction(this)\n      , partArgs = arraySlice.call(arguments, 1);\n    var bound = function(/* args... */){\n      var args = partArgs.concat(arraySlice.call(arguments));\n      return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n    };\n    if(isObject(fn.prototype))bound.prototype = fn.prototype;\n    return bound;\n  }\n});\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * fails(function(){\n  if(html)arraySlice.call(html);\n}), 'Array', {\n  slice: function(begin, end){\n    var len   = toLength(this.length)\n      , klass = cof(this);\n    end = end === undefined ? len : end;\n    if(klass == 'Array')return arraySlice.call(this, begin, end);\n    var start  = toIndex(begin, len)\n      , upTo   = toIndex(end, len)\n      , size   = toLength(upTo - start)\n      , cloned = Array(size)\n      , i      = 0;\n    for(; i < size; i++)cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n$export($export.P + $export.F * (IObject != Object), 'Array', {\n  join: function join(separator){\n    return arrayJoin.call(IObject(this), separator === undefined ? ',' : separator);\n  }\n});\n\n// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\n$export($export.S, 'Array', {isArray: require('./$.is-array')});\n\nvar createArrayReduce = function(isRight){\n  return function(callbackfn, memo){\n    aFunction(callbackfn);\n    var O      = IObject(this)\n      , length = toLength(O.length)\n      , index  = isRight ? length - 1 : 0\n      , i      = isRight ? -1 : 1;\n    if(arguments.length < 2)for(;;){\n      if(index in O){\n        memo = O[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if(isRight ? index < 0 : length <= index){\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for(;isRight ? index >= 0 : length > index; index += i)if(index in O){\n      memo = callbackfn(memo, O[index], index, this);\n    }\n    return memo;\n  };\n};\n\nvar methodize = function($fn){\n  return function(arg1/*, arg2 = undefined */){\n    return $fn(this, arg1, arguments[1]);\n  };\n};\n\n$export($export.P, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: $.each = $.each || methodize(createArrayMethod(0)),\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: methodize(createArrayMethod(1)),\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: methodize(createArrayMethod(2)),\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: methodize(createArrayMethod(3)),\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: methodize(createArrayMethod(4)),\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: createArrayReduce(false),\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: createArrayReduce(true),\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: methodize(arrayIndexOf),\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function(el, fromIndex /* = @[*-1] */){\n    var O      = toIObject(this)\n      , length = toLength(O.length)\n      , index  = length - 1;\n    if(arguments.length > 1)index = Math.min(index, toInteger(fromIndex));\n    if(index < 0)index = toLength(length + index);\n    for(;index >= 0; index--)if(index in O)if(O[index] === el)return index;\n    return -1;\n  }\n});\n\n// 20.3.3.1 / 15.9.4.4 Date.now()\n$export($export.S, 'Date', {now: function(){ return +new Date; }});\n\nvar lz = function(num){\n  return num > 9 ? num : '0' + num;\n};\n\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (fails(function(){\n  return new Date(-5e13 - 1).toISOString() != '0385-07-25T07:06:39.999Z';\n}) || !fails(function(){\n  new Date(NaN).toISOString();\n})), 'Date', {\n  toISOString: function toISOString(){\n    if(!isFinite(this))throw RangeError('Invalid time value');\n    var d = this\n      , y = d.getUTCFullYear()\n      , m = d.getUTCMilliseconds()\n      , s = y < 0 ? '-' : y > 9999 ? '+' : '';\n    return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n      '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n      'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n      ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es5.js\n **/","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./$.export');\n\n$export($export.P, 'Array', {copyWithin: require('./$.array-copy-within')});\n\nrequire('./$.add-to-unscopables')('copyWithin');\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.array.copy-within.js\n **/","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./$.export');\n\n$export($export.P, 'Array', {fill: require('./$.array-fill')});\n\nrequire('./$.add-to-unscopables')('fill');\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.array.fill.js\n **/","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./$.export')\n  , $find   = require('./$.array-methods')(6)\n  , KEY     = 'findIndex'\n  , forced  = true;\n// Shouldn't skip holes\nif(KEY in [])Array(1)[KEY](function(){ forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn/*, that = undefined */){\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./$.add-to-unscopables')(KEY);\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.array.find-index.js\n **/","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./$.export')\n  , $find   = require('./$.array-methods')(5)\n  , KEY     = 'find'\n  , forced  = true;\n// Shouldn't skip holes\nif(KEY in [])Array(1)[KEY](function(){ forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn/*, that = undefined */){\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./$.add-to-unscopables')(KEY);\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.array.find.js\n **/","'use strict';\nvar ctx         = require('./$.ctx')\n  , $export     = require('./$.export')\n  , toObject    = require('./$.to-object')\n  , call        = require('./$.iter-call')\n  , isArrayIter = require('./$.is-array-iter')\n  , toLength    = require('./$.to-length')\n  , getIterFn   = require('./core.get-iterator-method');\n$export($export.S + $export.F * !require('./$.iter-detect')(function(iter){ Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\n    var O       = toObject(arrayLike)\n      , C       = typeof this == 'function' ? this : Array\n      , $$      = arguments\n      , $$len   = $$.length\n      , mapfn   = $$len > 1 ? $$[1] : undefined\n      , mapping = mapfn !== undefined\n      , index   = 0\n      , iterFn  = getIterFn(O)\n      , length, result, step, iterator;\n    if(mapping)mapfn = ctx(mapfn, $$len > 2 ? $$[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){\n      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){\n        result[index] = mapping ? call(iterator, mapfn, [step.value, index], true) : step.value;\n      }\n    } else {\n      length = toLength(O.length);\n      for(result = new C(length); length > index; index++){\n        result[index] = mapping ? mapfn(O[index], index) : O[index];\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.array.from.js\n **/","'use strict';\nvar $export = require('./$.export');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./$.fails')(function(){\n  function F(){}\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */){\n    var index  = 0\n      , $$     = arguments\n      , $$len  = $$.length\n      , result = new (typeof this == 'function' ? this : Array)($$len);\n    while($$len > index)result[index] = $$[index++];\n    result.length = $$len;\n    return result;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.array.of.js\n **/","require('./$.set-species')('Array');\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.array.species.js\n **/","'use strict';\nvar $             = require('./$')\n  , isObject      = require('./$.is-object')\n  , HAS_INSTANCE  = require('./$.wks')('hasInstance')\n  , FunctionProto = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif(!(HAS_INSTANCE in FunctionProto))$.setDesc(FunctionProto, HAS_INSTANCE, {value: function(O){\n  if(typeof this != 'function' || !isObject(O))return false;\n  if(!isObject(this.prototype))return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while(O = $.getProto(O))if(this.prototype === O)return true;\n  return false;\n}});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.function.has-instance.js\n **/","var setDesc    = require('./$').setDesc\n  , createDesc = require('./$.property-desc')\n  , has        = require('./$.has')\n  , FProto     = Function.prototype\n  , nameRE     = /^\\s*function ([^ (]*)/\n  , NAME       = 'name';\n// 19.2.4.2 name\nNAME in FProto || require('./$.descriptors') && setDesc(FProto, NAME, {\n  configurable: true,\n  get: function(){\n    var match = ('' + this).match(nameRE)\n      , name  = match ? match[1] : '';\n    has(this, NAME) || setDesc(this, NAME, createDesc(5, name));\n    return name;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.function.name.js\n **/","'use strict';\nvar strong = require('./$.collection-strong');\n\n// 23.1 Map Objects\nrequire('./$.collection')('Map', function(get){\n  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key){\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value){\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.map.js\n **/","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./$.export')\n  , log1p   = require('./$.math-log1p')\n  , sqrt    = Math.sqrt\n  , $acosh  = Math.acosh;\n\n// V8 bug https://code.google.com/p/v8/issues/detail?id=3509\n$export($export.S + $export.F * !($acosh && Math.floor($acosh(Number.MAX_VALUE)) == 710), 'Math', {\n  acosh: function acosh(x){\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.acosh.js\n **/","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./$.export');\n\nfunction asinh(x){\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n$export($export.S, 'Math', {asinh: asinh});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.asinh.js\n **/","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./$.export');\n\n$export($export.S, 'Math', {\n  atanh: function atanh(x){\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.atanh.js\n **/","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./$.export')\n  , sign    = require('./$.math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x){\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.cbrt.js\n **/","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./$.export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x){\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.clz32.js\n **/","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./$.export')\n  , exp     = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x){\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.cosh.js\n **/","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./$.export');\n\n$export($export.S, 'Math', {expm1: require('./$.math-expm1')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.expm1.js\n **/","// 20.2.2.16 Math.fround(x)\nvar $export   = require('./$.export')\n  , sign      = require('./$.math-sign')\n  , pow       = Math.pow\n  , EPSILON   = pow(2, -52)\n  , EPSILON32 = pow(2, -23)\n  , MAX32     = pow(2, 127) * (2 - EPSILON32)\n  , MIN32     = pow(2, -126);\n\nvar roundTiesToEven = function(n){\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\n\n$export($export.S, 'Math', {\n  fround: function fround(x){\n    var $abs  = Math.abs(x)\n      , $sign = sign(x)\n      , a, result;\n    if($abs < MIN32)return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n    a = (1 + EPSILON32 / EPSILON) * $abs;\n    result = a - (a - $abs);\n    if(result > MAX32 || result != result)return $sign * Infinity;\n    return $sign * result;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.fround.js\n **/","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./$.export')\n  , abs     = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2){ // eslint-disable-line no-unused-vars\n    var sum   = 0\n      , i     = 0\n      , $$    = arguments\n      , $$len = $$.length\n      , larg  = 0\n      , arg, div;\n    while(i < $$len){\n      arg = abs($$[i++]);\n      if(larg < arg){\n        div  = larg / arg;\n        sum  = sum * div * div + 1;\n        larg = arg;\n      } else if(arg > 0){\n        div  = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.hypot.js\n **/","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./$.export')\n  , $imul   = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./$.fails')(function(){\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y){\n    var UINT16 = 0xffff\n      , xn = +x\n      , yn = +y\n      , xl = UINT16 & xn\n      , yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.imul.js\n **/","// 20.2.2.21 Math.log10(x)\nvar $export = require('./$.export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x){\n    return Math.log(x) / Math.LN10;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.log10.js\n **/","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./$.export');\n\n$export($export.S, 'Math', {log1p: require('./$.math-log1p')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.log1p.js\n **/","// 20.2.2.22 Math.log2(x)\nvar $export = require('./$.export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x){\n    return Math.log(x) / Math.LN2;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.log2.js\n **/","// 20.2.2.28 Math.sign(x)\nvar $export = require('./$.export');\n\n$export($export.S, 'Math', {sign: require('./$.math-sign')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.sign.js\n **/","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./$.export')\n  , expm1   = require('./$.math-expm1')\n  , exp     = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./$.fails')(function(){\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x){\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.sinh.js\n **/","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./$.export')\n  , expm1   = require('./$.math-expm1')\n  , exp     = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x){\n    var a = expm1(x = +x)\n      , b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.tanh.js\n **/","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./$.export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it){\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.math.trunc.js\n **/","'use strict';\nvar $           = require('./$')\n  , global      = require('./$.global')\n  , has         = require('./$.has')\n  , cof         = require('./$.cof')\n  , toPrimitive = require('./$.to-primitive')\n  , fails       = require('./$.fails')\n  , $trim       = require('./$.string-trim').trim\n  , NUMBER      = 'Number'\n  , $Number     = global[NUMBER]\n  , Base        = $Number\n  , proto       = $Number.prototype\n  // Opera ~12 has broken Object#toString\n  , BROKEN_COF  = cof($.create(proto)) == NUMBER\n  , TRIM        = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function(argument){\n  var it = toPrimitive(argument, false);\n  if(typeof it == 'string' && it.length > 2){\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0)\n      , third, radix, maxCode;\n    if(first === 43 || first === 45){\n      third = it.charCodeAt(2);\n      if(third === 88 || third === 120)return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if(first === 48){\n      switch(it.charCodeAt(1)){\n        case 66 : case 98  : radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79 : case 111 : radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default : return +it;\n      }\n      for(var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++){\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if(code < 48 || code > maxCode)return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif(!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')){\n  $Number = function Number(value){\n    var it = arguments.length < 1 ? 0 : value\n      , that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function(){ proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? new Base(toNumber(it)) : toNumber(it);\n  };\n  $.each.call(require('./$.descriptors') ? $.getNames(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), function(key){\n    if(has(Base, key) && !has($Number, key)){\n      $.setDesc($Number, key, $.getDesc(Base, key));\n    }\n  });\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./$.redefine')(global, NUMBER, $Number);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.constructor.js\n **/","// 20.1.2.1 Number.EPSILON\nvar $export = require('./$.export');\n\n$export($export.S, 'Number', {EPSILON: Math.pow(2, -52)});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.epsilon.js\n **/","// 20.1.2.2 Number.isFinite(number)\nvar $export   = require('./$.export')\n  , _isFinite = require('./$.global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it){\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.is-finite.js\n **/","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./$.export');\n\n$export($export.S, 'Number', {isInteger: require('./$.is-integer')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.is-integer.js\n **/","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./$.export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number){\n    return number != number;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.is-nan.js\n **/","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export   = require('./$.export')\n  , isInteger = require('./$.is-integer')\n  , abs       = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number){\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.is-safe-integer.js\n **/","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./$.export');\n\n$export($export.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.max-safe-integer.js\n **/","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./$.export');\n\n$export($export.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.min-safe-integer.js\n **/","// 20.1.2.12 Number.parseFloat(string)\nvar $export = require('./$.export');\n\n$export($export.S, 'Number', {parseFloat: parseFloat});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.parse-float.js\n **/","// 20.1.2.13 Number.parseInt(string, radix)\nvar $export = require('./$.export');\n\n$export($export.S, 'Number', {parseInt: parseInt});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.number.parse-int.js\n **/","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./$.export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./$.object-assign')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.assign.js\n **/","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./$.is-object');\n\nrequire('./$.object-sap')('freeze', function($freeze){\n  return function freeze(it){\n    return $freeze && isObject(it) ? $freeze(it) : it;\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.freeze.js\n **/","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./$.to-iobject');\n\nrequire('./$.object-sap')('getOwnPropertyDescriptor', function($getOwnPropertyDescriptor){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.get-own-property-descriptor.js\n **/","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./$.object-sap')('getOwnPropertyNames', function(){\n  return require('./$.get-names').get;\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.get-own-property-names.js\n **/","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('getPrototypeOf', function($getPrototypeOf){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.get-prototype-of.js\n **/","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./$.is-object');\n\nrequire('./$.object-sap')('isExtensible', function($isExtensible){\n  return function isExtensible(it){\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.is-extensible.js\n **/","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./$.is-object');\n\nrequire('./$.object-sap')('isFrozen', function($isFrozen){\n  return function isFrozen(it){\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.is-frozen.js\n **/","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./$.is-object');\n\nrequire('./$.object-sap')('isSealed', function($isSealed){\n  return function isSealed(it){\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.is-sealed.js\n **/","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {is: require('./$.same-value')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.is.js\n **/","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('keys', function($keys){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.keys.js\n **/","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./$.is-object');\n\nrequire('./$.object-sap')('preventExtensions', function($preventExtensions){\n  return function preventExtensions(it){\n    return $preventExtensions && isObject(it) ? $preventExtensions(it) : it;\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.prevent-extensions.js\n **/","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./$.is-object');\n\nrequire('./$.object-sap')('seal', function($seal){\n  return function seal(it){\n    return $seal && isObject(it) ? $seal(it) : it;\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.seal.js\n **/","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.set-prototype-of.js\n **/","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./$.classof')\n  , test    = {};\ntest[require('./$.wks')('toStringTag')] = 'z';\nif(test + '' != '[object z]'){\n  require('./$.redefine')(Object.prototype, 'toString', function toString(){\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.object.to-string.js\n **/","'use strict';\nvar $          = require('./$')\n  , LIBRARY    = require('./$.library')\n  , global     = require('./$.global')\n  , ctx        = require('./$.ctx')\n  , classof    = require('./$.classof')\n  , $export    = require('./$.export')\n  , isObject   = require('./$.is-object')\n  , anObject   = require('./$.an-object')\n  , aFunction  = require('./$.a-function')\n  , strictNew  = require('./$.strict-new')\n  , forOf      = require('./$.for-of')\n  , setProto   = require('./$.set-proto').set\n  , same       = require('./$.same-value')\n  , SPECIES    = require('./$.wks')('species')\n  , speciesConstructor = require('./$.species-constructor')\n  , asap       = require('./$.microtask')\n  , PROMISE    = 'Promise'\n  , process    = global.process\n  , isNode     = classof(process) == 'process'\n  , P          = global[PROMISE]\n  , Wrapper;\n\nvar testResolve = function(sub){\n  var test = new P(function(){});\n  if(sub)test.constructor = Object;\n  return P.resolve(test) === test;\n};\n\nvar USE_NATIVE = function(){\n  var works = false;\n  function P2(x){\n    var self = new P(x);\n    setProto(self, P2.prototype);\n    return self;\n  }\n  try {\n    works = P && P.resolve && testResolve();\n    setProto(P2, P);\n    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n    // actual Firefox has broken subclass support, test that\n    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n      works = false;\n    }\n    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n    if(works && require('./$.descriptors')){\n      var thenableThenGotten = false;\n      P.resolve($.setDesc({}, 'then', {\n        get: function(){ thenableThenGotten = true; }\n      }));\n      works = thenableThenGotten;\n    }\n  } catch(e){ works = false; }\n  return works;\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // library wrapper special case\n  if(LIBRARY && a === P && b === Wrapper)return true;\n  return same(a, b);\n};\nvar getConstructor = function(C){\n  var S = anObject(C)[SPECIES];\n  return S != undefined ? S : C;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar PromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve),\n  this.reject  = aFunction(reject)\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(record, isReject){\n  if(record.n)return;\n  record.n = true;\n  var chain = record.c;\n  asap(function(){\n    var value = record.v\n      , ok    = record.s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , result, then;\n      try {\n        if(handler){\n          if(!ok)record.h = true;\n          result = handler === true ? value : handler(value);\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    chain.length = 0;\n    record.n = false;\n    if(isReject)setTimeout(function(){\n      var promise = record.p\n        , handler, console;\n      if(isUnhandled(promise)){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      } record.a = undefined;\n    }, 1);\n  });\n};\nvar isUnhandled = function(promise){\n  var record = promise._d\n    , chain  = record.a || record.c\n    , i      = 0\n    , reaction;\n  if(record.h)return false;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar $reject = function(value){\n  var record = this;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  record.v = value;\n  record.s = 2;\n  record.a = record.c.slice();\n  notify(record, true);\n};\nvar $resolve = function(value){\n  var record = this\n    , then;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  try {\n    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      asap(function(){\n        var wrapper = {r: record, d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      record.v = value;\n      record.s = 1;\n      notify(record, false);\n    }\n  } catch(e){\n    $reject.call({r: record, d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  P = function Promise(executor){\n    aFunction(executor);\n    var record = this._d = {\n      p: strictNew(this, P, PROMISE),         // <- promise\n      c: [],                                  // <- awaiting reactions\n      a: undefined,                           // <- checked in isUnhandled reactions\n      s: 0,                                   // <- state\n      d: false,                               // <- done\n      v: undefined,                           // <- value\n      h: false,                               // <- handled rejection\n      n: false                                // <- notify\n    };\n    try {\n      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n    } catch(err){\n      $reject.call(record, err);\n    }\n  };\n  require('./$.redefine-all')(P.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction = new PromiseCapability(speciesConstructor(this, P))\n        , promise  = reaction.promise\n        , record   = this._d;\n      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      record.c.push(reaction);\n      if(record.a)record.a.push(reaction);\n      if(record.s)notify(record, false);\n      return promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\nrequire('./$.set-to-string-tag')(P, PROMISE);\nrequire('./$.set-species')(PROMISE);\nWrapper = require('./$.core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = new PromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n    var capability = new PromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./$.iter-detect')(function(iter){\n  P.all(iter)['catch'](function(){});\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject\n      , values     = [];\n    var abrupt = perform(function(){\n      forOf(iterable, false, values.push, values);\n      var remaining = values.length\n        , results   = Array(remaining);\n      if(remaining)$.each.call(values, function(promise, index){\n        var alreadyCalled = false;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled = true;\n          results[index] = value;\n          --remaining || resolve(results);\n        }, reject);\n      });\n      else resolve(results);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.promise.js\n **/","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./$.export')\n  , _apply  = Function.apply;\n\n$export($export.S, 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList){\n    return _apply.call(target, thisArgument, argumentsList);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.apply.js\n **/","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $         = require('./$')\n  , $export   = require('./$.export')\n  , aFunction = require('./$.a-function')\n  , anObject  = require('./$.an-object')\n  , isObject  = require('./$.is-object')\n  , bind      = Function.bind || require('./$.core').Function.prototype.bind;\n\n// MS Edge supports only 2 arguments\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\n$export($export.S + $export.F * require('./$.fails')(function(){\n  function F(){}\n  return !(Reflect.construct(function(){}, [], F) instanceof F);\n}), 'Reflect', {\n  construct: function construct(Target, args /*, newTarget*/){\n    aFunction(Target);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if(Target == newTarget){\n      // w/o altered newTarget, optimization for 0-4 arguments\n      if(args != undefined)switch(anObject(args).length){\n        case 0: return new Target;\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args));\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto    = newTarget.prototype\n      , instance = $.create(isObject(proto) ? proto : Object.prototype)\n      , result   = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.construct.js\n **/","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar $        = require('./$')\n  , $export  = require('./$.export')\n  , anObject = require('./$.an-object');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./$.fails')(function(){\n  Reflect.defineProperty($.setDesc({}, 1, {value: 1}), 1, {value: 2});\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes){\n    anObject(target);\n    try {\n      $.setDesc(target, propertyKey, attributes);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.define-property.js\n **/","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export  = require('./$.export')\n  , getDesc  = require('./$').getDesc\n  , anObject = require('./$.an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey){\n    var desc = getDesc(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.delete-property.js\n **/","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export  = require('./$.export')\n  , anObject = require('./$.an-object');\nvar Enumerate = function(iterated){\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = []       // keys\n    , key;\n  for(key in iterated)keys.push(key);\n};\nrequire('./$.iter-create')(Enumerate, 'Object', function(){\n  var that = this\n    , keys = that._k\n    , key;\n  do {\n    if(that._i >= keys.length)return {value: undefined, done: true};\n  } while(!((key = keys[that._i++]) in that._t));\n  return {value: key, done: false};\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target){\n    return new Enumerate(target);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.enumerate.js\n **/","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar $        = require('./$')\n  , $export  = require('./$.export')\n  , anObject = require('./$.an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey){\n    return $.getDesc(anObject(target), propertyKey);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.get-own-property-descriptor.js\n **/","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export  = require('./$.export')\n  , getProto = require('./$').getProto\n  , anObject = require('./$.an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target){\n    return getProto(anObject(target));\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.get-prototype-of.js\n **/","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar $        = require('./$')\n  , has      = require('./$.has')\n  , $export  = require('./$.export')\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\n\nfunction get(target, propertyKey/*, receiver*/){\n  var receiver = arguments.length < 3 ? target : arguments[2]\n    , desc, proto;\n  if(anObject(target) === receiver)return target[propertyKey];\n  if(desc = $.getDesc(target, propertyKey))return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if(isObject(proto = $.getProto(target)))return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', {get: get});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.get.js\n **/","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./$.export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey){\n    return propertyKey in target;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.has.js\n **/","// 26.1.10 Reflect.isExtensible(target)\nvar $export       = require('./$.export')\n  , anObject      = require('./$.an-object')\n  , $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target){\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.is-extensible.js\n **/","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./$.export');\n\n$export($export.S, 'Reflect', {ownKeys: require('./$.own-keys')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.own-keys.js\n **/","// 26.1.12 Reflect.preventExtensions(target)\nvar $export            = require('./$.export')\n  , anObject           = require('./$.an-object')\n  , $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target){\n    anObject(target);\n    try {\n      if($preventExtensions)$preventExtensions(target);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.prevent-extensions.js\n **/","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export  = require('./$.export')\n  , setProto = require('./$.set-proto');\n\nif(setProto)$export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto){\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.set-prototype-of.js\n **/","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar $          = require('./$')\n  , has        = require('./$.has')\n  , $export    = require('./$.export')\n  , createDesc = require('./$.property-desc')\n  , anObject   = require('./$.an-object')\n  , isObject   = require('./$.is-object');\n\nfunction set(target, propertyKey, V/*, receiver*/){\n  var receiver = arguments.length < 4 ? target : arguments[3]\n    , ownDesc  = $.getDesc(anObject(target), propertyKey)\n    , existingDescriptor, proto;\n  if(!ownDesc){\n    if(isObject(proto = $.getProto(target))){\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if(has(ownDesc, 'value')){\n    if(ownDesc.writable === false || !isObject(receiver))return false;\n    existingDescriptor = $.getDesc(receiver, propertyKey) || createDesc(0);\n    existingDescriptor.value = V;\n    $.setDesc(receiver, propertyKey, existingDescriptor);\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', {set: set});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.reflect.set.js\n **/","var $        = require('./$')\n  , global   = require('./$.global')\n  , isRegExp = require('./$.is-regexp')\n  , $flags   = require('./$.flags')\n  , $RegExp  = global.RegExp\n  , Base     = $RegExp\n  , proto    = $RegExp.prototype\n  , re1      = /a/g\n  , re2      = /a/g\n  // \"new\" creates a new object, old webkit buggy here\n  , CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif(require('./$.descriptors') && (!CORRECT_NEW || require('./$.fails')(function(){\n  re2[require('./$.wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))){\n  $RegExp = function RegExp(p, f){\n    var piRE = isRegExp(p)\n      , fiU  = f === undefined;\n    return !(this instanceof $RegExp) && piRE && p.constructor === $RegExp && fiU ? p\n      : CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f);\n  };\n  $.each.call($.getNames(Base), function(key){\n    key in $RegExp || $.setDesc($RegExp, key, {\n      configurable: true,\n      get: function(){ return Base[key]; },\n      set: function(it){ Base[key] = it; }\n    });\n  });\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./$.redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./$.set-species')('RegExp');\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.regexp.constructor.js\n **/","// 21.2.5.3 get RegExp.prototype.flags()\nvar $ = require('./$');\nif(require('./$.descriptors') && /./g.flags != 'g')$.setDesc(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./$.flags')\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.regexp.flags.js\n **/","// @@match logic\nrequire('./$.fix-re-wks')('match', 1, function(defined, MATCH){\n  // 21.1.3.11 String.prototype.match(regexp)\n  return function match(regexp){\n    'use strict';\n    var O  = defined(this)\n      , fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.regexp.match.js\n **/","// @@replace logic\nrequire('./$.fix-re-wks')('replace', 2, function(defined, REPLACE, $replace){\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return function replace(searchValue, replaceValue){\n    'use strict';\n    var O  = defined(this)\n      , fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.regexp.replace.js\n **/","// @@search logic\nrequire('./$.fix-re-wks')('search', 1, function(defined, SEARCH){\n  // 21.1.3.15 String.prototype.search(regexp)\n  return function search(regexp){\n    'use strict';\n    var O  = defined(this)\n      , fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.regexp.search.js\n **/","// @@split logic\nrequire('./$.fix-re-wks')('split', 2, function(defined, SPLIT, $split){\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return function split(separator, limit){\n    'use strict';\n    var O  = defined(this)\n      , fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined\n      ? fn.call(separator, O, limit)\n      : $split.call(String(O), separator, limit);\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.regexp.split.js\n **/","'use strict';\nvar strong = require('./$.collection-strong');\n\n// 23.2 Set Objects\nrequire('./$.collection')('Set', function(get){\n  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value){\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.set.js\n **/","'use strict';\nvar $export = require('./$.export')\n  , $at     = require('./$.string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos){\n    return $at(this, pos);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.code-point-at.js\n **/","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export   = require('./$.export')\n  , toLength  = require('./$.to-length')\n  , context   = require('./$.string-context')\n  , ENDS_WITH = 'endsWith'\n  , $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./$.fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /*, endPosition = @length */){\n    var that = context(this, searchString, ENDS_WITH)\n      , $$   = arguments\n      , endPosition = $$.length > 1 ? $$[1] : undefined\n      , len    = toLength(that.length)\n      , end    = endPosition === undefined ? len : Math.min(toLength(endPosition), len)\n      , search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.ends-with.js\n **/","var $export        = require('./$.export')\n  , toIndex        = require('./$.to-index')\n  , fromCharCode   = String.fromCharCode\n  , $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x){ // eslint-disable-line no-unused-vars\n    var res   = []\n      , $$    = arguments\n      , $$len = $$.length\n      , i     = 0\n      , code;\n    while($$len > i){\n      code = +$$[i++];\n      if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.from-code-point.js\n **/","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export  = require('./$.export')\n  , context  = require('./$.string-context')\n  , INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./$.fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /*, position = 0 */){\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.includes.js\n **/","'use strict';\nvar $at  = require('./$.string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./$.iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.iterator.js\n **/","var $export   = require('./$.export')\n  , toIObject = require('./$.to-iobject')\n  , toLength  = require('./$.to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite){\n    var tpl   = toIObject(callSite.raw)\n      , len   = toLength(tpl.length)\n      , $$    = arguments\n      , $$len = $$.length\n      , res   = []\n      , i     = 0;\n    while(len > i){\n      res.push(String(tpl[i++]));\n      if(i < $$len)res.push(String($$[i]));\n    } return res.join('');\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.raw.js\n **/","var $export = require('./$.export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./$.string-repeat')\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.repeat.js\n **/","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export     = require('./$.export')\n  , toLength    = require('./$.to-length')\n  , context     = require('./$.string-context')\n  , STARTS_WITH = 'startsWith'\n  , $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./$.fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /*, position = 0 */){\n    var that   = context(this, searchString, STARTS_WITH)\n      , $$     = arguments\n      , index  = toLength(Math.min($$.length > 1 ? $$[1] : undefined, that.length))\n      , search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.starts-with.js\n **/","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./$.string-trim')('trim', function($trim){\n  return function trim(){\n    return $trim(this, 3);\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.string.trim.js\n **/","'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.symbol.js\n **/","'use strict';\nvar $            = require('./$')\n  , redefine     = require('./$.redefine')\n  , weak         = require('./$.collection-weak')\n  , isObject     = require('./$.is-object')\n  , has          = require('./$.has')\n  , frozenStore  = weak.frozenStore\n  , WEAK         = weak.WEAK\n  , isExtensible = Object.isExtensible || isObject\n  , tmp          = {};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = require('./$.collection')('WeakMap', function(get){\n  return function WeakMap(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key){\n    if(isObject(key)){\n      if(!isExtensible(key))return frozenStore(this).get(key);\n      if(has(key, WEAK))return key[WEAK][this._i];\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value){\n    return weak.def(this, key, value);\n  }\n}, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif(new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7){\n  $.each.call(['delete', 'has', 'get', 'set'], function(key){\n    var proto  = $WeakMap.prototype\n      , method = proto[key];\n    redefine(proto, key, function(a, b){\n      // store frozen objects on leaky map\n      if(isObject(a) && !isExtensible(a)){\n        var result = frozenStore(this)[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.weak-map.js\n **/","'use strict';\nvar weak = require('./$.collection-weak');\n\n// 23.4 WeakSet Objects\nrequire('./$.collection')('WeakSet', function(get){\n  return function WeakSet(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value){\n    return weak.def(this, value, true);\n  }\n}, weak, false, true);\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es6.weak-set.js\n **/","'use strict';\nvar $export   = require('./$.export')\n  , $includes = require('./$.array-includes')(true);\n\n$export($export.P, 'Array', {\n  // https://github.com/domenic/Array.prototype.includes\n  includes: function includes(el /*, fromIndex = 0 */){\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./$.add-to-unscopables')('includes');\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.array.includes.js\n **/","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./$.export');\n\n$export($export.P, 'Map', {toJSON: require('./$.collection-to-json')('Map')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.map.to-json.js\n **/","// http://goo.gl/XkBrjD\nvar $export  = require('./$.export')\n  , $entries = require('./$.object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it){\n    return $entries(it);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.object.entries.js\n **/","// https://gist.github.com/WebReflection/9353781\nvar $          = require('./$')\n  , $export    = require('./$.export')\n  , ownKeys    = require('./$.own-keys')\n  , toIObject  = require('./$.to-iobject')\n  , createDesc = require('./$.property-desc');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object){\n    var O       = toIObject(object)\n      , setDesc = $.setDesc\n      , getDesc = $.getDesc\n      , keys    = ownKeys(O)\n      , result  = {}\n      , i       = 0\n      , key, D;\n    while(keys.length > i){\n      D = getDesc(O, key = keys[i++]);\n      if(key in result)setDesc(result, key, createDesc(0, D));\n      else result[key] = D;\n    } return result;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.object.get-own-property-descriptors.js\n **/","// http://goo.gl/XkBrjD\nvar $export = require('./$.export')\n  , $values = require('./$.object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it){\n    return $values(it);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.object.values.js\n **/","// https://github.com/benjamingr/RexExp.escape\nvar $export = require('./$.export')\n  , $re     = require('./$.replacer')(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', {escape: function escape(it){ return $re(it); }});\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.regexp.escape.js\n **/","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./$.export');\n\n$export($export.P, 'Set', {toJSON: require('./$.collection-to-json')('Set')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.set.to-json.js\n **/","'use strict';\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = require('./$.export')\n  , $at     = require('./$.string-at')(true);\n\n$export($export.P, 'String', {\n  at: function at(pos){\n    return $at(this, pos);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.string.at.js\n **/","'use strict';\nvar $export = require('./$.export')\n  , $pad    = require('./$.string-pad');\n\n$export($export.P, 'String', {\n  padLeft: function padLeft(maxLength /*, fillString = ' ' */){\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.string.pad-left.js\n **/","'use strict';\nvar $export = require('./$.export')\n  , $pad    = require('./$.string-pad');\n\n$export($export.P, 'String', {\n  padRight: function padRight(maxLength /*, fillString = ' ' */){\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.string.pad-right.js\n **/","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./$.string-trim')('trimLeft', function($trim){\n  return function trimLeft(){\n    return $trim(this, 1);\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.string.trim-left.js\n **/","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./$.string-trim')('trimRight', function($trim){\n  return function trimRight(){\n    return $trim(this, 2);\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/es7.string.trim-right.js\n **/","// JavaScript 1.6 / Strawman array statics shim\nvar $       = require('./$')\n  , $export = require('./$.export')\n  , $ctx    = require('./$.ctx')\n  , $Array  = require('./$.core').Array || Array\n  , statics = {};\nvar setStatics = function(keys, length){\n  $.each.call(keys.split(','), function(key){\n    if(length == undefined && key in $Array)statics[key] = $Array[key];\n    else if(key in [])statics[key] = $ctx(Function.call, [][key], length);\n  });\n};\nsetStatics('pop,reverse,shift,keys,values,entries', 1);\nsetStatics('indexOf,every,some,forEach,map,filter,find,findIndex,includes', 3);\nsetStatics('join,slice,concat,push,splice,unshift,sort,lastIndexOf,' +\n           'reduce,reduceRight,copyWithin,fill');\n$export($export.S, 'Array', statics);\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/js.array.statics.js\n **/","require('./es6.array.iterator');\nvar global      = require('./$.global')\n  , hide        = require('./$.hide')\n  , Iterators   = require('./$.iterators')\n  , ITERATOR    = require('./$.wks')('iterator')\n  , NL          = global.NodeList\n  , HTC         = global.HTMLCollection\n  , NLProto     = NL && NL.prototype\n  , HTCProto    = HTC && HTC.prototype\n  , ArrayValues = Iterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\nif(NLProto && !NLProto[ITERATOR])hide(NLProto, ITERATOR, ArrayValues);\nif(HTCProto && !HTCProto[ITERATOR])hide(HTCProto, ITERATOR, ArrayValues);\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/web.dom.iterable.js\n **/","var $export = require('./$.export')\n  , $task   = require('./$.task');\n$export($export.G + $export.B, {\n  setImmediate:   $task.set,\n  clearImmediate: $task.clear\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/web.immediate.js\n **/","// ie9- setTimeout & setInterval additional parameters fix\nvar global     = require('./$.global')\n  , $export    = require('./$.export')\n  , invoke     = require('./$.invoke')\n  , partial    = require('./$.partial')\n  , navigator  = global.navigator\n  , MSIE       = !!navigator && /MSIE .\\./.test(navigator.userAgent); // <- dirty ie9- check\nvar wrap = function(set){\n  return MSIE ? function(fn, time /*, ...args */){\n    return set(invoke(\n      partial,\n      [].slice.call(arguments, 2),\n      typeof fn == 'function' ? fn : Function(fn)\n    ), time);\n  } : set;\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout:  wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/modules/web.timers.js\n **/","require('./modules/es5');\nrequire('./modules/es6.symbol');\nrequire('./modules/es6.object.assign');\nrequire('./modules/es6.object.is');\nrequire('./modules/es6.object.set-prototype-of');\nrequire('./modules/es6.object.to-string');\nrequire('./modules/es6.object.freeze');\nrequire('./modules/es6.object.seal');\nrequire('./modules/es6.object.prevent-extensions');\nrequire('./modules/es6.object.is-frozen');\nrequire('./modules/es6.object.is-sealed');\nrequire('./modules/es6.object.is-extensible');\nrequire('./modules/es6.object.get-own-property-descriptor');\nrequire('./modules/es6.object.get-prototype-of');\nrequire('./modules/es6.object.keys');\nrequire('./modules/es6.object.get-own-property-names');\nrequire('./modules/es6.function.name');\nrequire('./modules/es6.function.has-instance');\nrequire('./modules/es6.number.constructor');\nrequire('./modules/es6.number.epsilon');\nrequire('./modules/es6.number.is-finite');\nrequire('./modules/es6.number.is-integer');\nrequire('./modules/es6.number.is-nan');\nrequire('./modules/es6.number.is-safe-integer');\nrequire('./modules/es6.number.max-safe-integer');\nrequire('./modules/es6.number.min-safe-integer');\nrequire('./modules/es6.number.parse-float');\nrequire('./modules/es6.number.parse-int');\nrequire('./modules/es6.math.acosh');\nrequire('./modules/es6.math.asinh');\nrequire('./modules/es6.math.atanh');\nrequire('./modules/es6.math.cbrt');\nrequire('./modules/es6.math.clz32');\nrequire('./modules/es6.math.cosh');\nrequire('./modules/es6.math.expm1');\nrequire('./modules/es6.math.fround');\nrequire('./modules/es6.math.hypot');\nrequire('./modules/es6.math.imul');\nrequire('./modules/es6.math.log10');\nrequire('./modules/es6.math.log1p');\nrequire('./modules/es6.math.log2');\nrequire('./modules/es6.math.sign');\nrequire('./modules/es6.math.sinh');\nrequire('./modules/es6.math.tanh');\nrequire('./modules/es6.math.trunc');\nrequire('./modules/es6.string.from-code-point');\nrequire('./modules/es6.string.raw');\nrequire('./modules/es6.string.trim');\nrequire('./modules/es6.string.iterator');\nrequire('./modules/es6.string.code-point-at');\nrequire('./modules/es6.string.ends-with');\nrequire('./modules/es6.string.includes');\nrequire('./modules/es6.string.repeat');\nrequire('./modules/es6.string.starts-with');\nrequire('./modules/es6.array.from');\nrequire('./modules/es6.array.of');\nrequire('./modules/es6.array.iterator');\nrequire('./modules/es6.array.species');\nrequire('./modules/es6.array.copy-within');\nrequire('./modules/es6.array.fill');\nrequire('./modules/es6.array.find');\nrequire('./modules/es6.array.find-index');\nrequire('./modules/es6.regexp.constructor');\nrequire('./modules/es6.regexp.flags');\nrequire('./modules/es6.regexp.match');\nrequire('./modules/es6.regexp.replace');\nrequire('./modules/es6.regexp.search');\nrequire('./modules/es6.regexp.split');\nrequire('./modules/es6.promise');\nrequire('./modules/es6.map');\nrequire('./modules/es6.set');\nrequire('./modules/es6.weak-map');\nrequire('./modules/es6.weak-set');\nrequire('./modules/es6.reflect.apply');\nrequire('./modules/es6.reflect.construct');\nrequire('./modules/es6.reflect.define-property');\nrequire('./modules/es6.reflect.delete-property');\nrequire('./modules/es6.reflect.enumerate');\nrequire('./modules/es6.reflect.get');\nrequire('./modules/es6.reflect.get-own-property-descriptor');\nrequire('./modules/es6.reflect.get-prototype-of');\nrequire('./modules/es6.reflect.has');\nrequire('./modules/es6.reflect.is-extensible');\nrequire('./modules/es6.reflect.own-keys');\nrequire('./modules/es6.reflect.prevent-extensions');\nrequire('./modules/es6.reflect.set');\nrequire('./modules/es6.reflect.set-prototype-of');\nrequire('./modules/es7.array.includes');\nrequire('./modules/es7.string.at');\nrequire('./modules/es7.string.pad-left');\nrequire('./modules/es7.string.pad-right');\nrequire('./modules/es7.string.trim-left');\nrequire('./modules/es7.string.trim-right');\nrequire('./modules/es7.regexp.escape');\nrequire('./modules/es7.object.get-own-property-descriptors');\nrequire('./modules/es7.object.values');\nrequire('./modules/es7.object.entries');\nrequire('./modules/es7.map.to-json');\nrequire('./modules/es7.set.to-json');\nrequire('./modules/js.array.statics');\nrequire('./modules/web.timers');\nrequire('./modules/web.immediate');\nrequire('./modules/web.dom.iterable');\nmodule.exports = require('./modules/$.core');\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-polyfill/~/core-js/shim.js\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === \"function\" && Symbol.iterator || \"@@iterator\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, \"next\");\n    var invokeThrow = invoke.bind(generator, \"throw\");\n    var invokeReturn = invoke.bind(generator, \"return\");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          context._sent = arg;\n\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-regenerator-runtime/runtime.js\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/process/browser.js\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** (webpack)/buildin/module.js\n **/","module.exports = \"<ul class=mc-panelbar> <li class=\\\"mc-panel mc-panel-mapview\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-mapview\\\"></span> <span class=mc-panel-name data-phrase=\\\"Map View\\\">Map View</span> <ul class=mc-panelbar> <li class=\\\"mc-panel mc-panel-viewbehavior k-state-active\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-viewbehavior\\\"></span> <span class=mc-panel-name data-phrase=\\\"View Behavior\\\">View Behavior</span> <div class=mc-panel-body> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=auto-refresh /> <span class=checkbox-name data-phrase=\\\"Auto Refresh\\\">Auto Refresh</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=auto-focus /> <span class=checkbox-name data-phrase=\\\"Auto Focus\\\">Auto Focus</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=auto-labeling /> <span class=checkbox-name data-phrase=\\\"Auto Labeling\\\">Auto Labeling</span> </label> </div> <div class=text-right> <button class=k-button name=save-viewport data-phrase=\\\"Save View\\\">Save View</button> <button class=k-button name=restore-viewport data-phrase=\\\"Restore View\\\">Restore View</button> </div> </div> </li> <li class=\\\"mc-panel mc-panel-viewarea\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-viewarea\\\"></span> <span class=mc-panel-name data-phrase=\\\"Map Area\\\">Map Area</span> <div class=mc-panel-body> <div class=mc-control-group> <label><span data-phrase=Scale>Scale</span>:</label> <select name=zoom-to-scale> <option value=-1 data-phrase=\\\"Choose zoom scale\\\">Choose zoom scale</option> <option value=50000>1 : 50000</option> <option value=100000>1 : 100000</option> <option value=500000>1 : 500000</option> <option value=1000000>1 : 1000000</option> <option value=1000000000 data-phrase=World>World</option> </select> </div> <div class=mc-control-group> <label><span data-phrase=\\\"Zoom level\\\">Zoom level</span>:</label> <select name=zoom-to-level> <option value=-1 data-phrase=\\\"Choose zoom level\\\">Choose zoom level</option> <option value=18 data-phrase=Street>Street</option> <option value=14 data-phrase=Town>Town</option> <option value=8 data-phrase=Region>Region</option> <option value=4 data-phrase=Country>Country</option> <option value=2 data-phrase=Continent>Continent</option> <option value=1 data-phrase=World>World</option> </select> </div> <div class=\\\"mc-control-group hidden\\\"> <form> <fieldset disabled=disabled> <div class=\\\"form-group form-group-sm\\\"> <label><span data-phrase=Region>Region</span>:</label> <select name=zoom-to-region> <option value=-1:-1:-1 data-phrase=\\\"Choose zoom region\\\">Choose zoom region</option> <option value=-180,-90,180,90 data-phrase=World>World</option> <option value=-40.96,-34.16,79.63,39.23 data-phrase=Africa>Africa</option> <option value=43.12,-14.86,163.70,53.80 data-phrase=Asia>Asia</option> <option value=-45.97,25.48,74.62,71.97 data-phrase=Europe>Europe</option> <option value=-172.00,12.73,-51.42,67.27 data-phrase=\\\"North America\\\">North America</option> <option value=-121.90,-52.27,-1.32,17.31 data-phrase=\\\"South America\\\">South America</option> <option value=97.646,-53.12,218.23,15.96 data-phrase=Oceania>Oceania</option> </select> </div> <button type=button class=k-button name=save-region data-phrase=\\\"Save Region\\\">Save Region</button> </fieldset> </form> </div> </div> </li> </ul> </li> <li class=\\\"mc-panel mc-panel-intervals\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-intervals\\\"></span> <span class=mc-panel-name data-phrase=Intervals>Intervals</span> <div class=mc-panel-body> <form> <fieldset> <div class=\\\"form-group radio\\\"> <label> <input type=radio name=history-mode value=CURRENT checked=checked /> <span class=radio-name data-phrase=\\\"All (Latest)\\\">All (Latest)</span> </label> </div> <div class=\\\"form-group radio\\\"> <label> <input type=radio name=history-mode value=INTERVAL /> <span class=radio-name data-phrase=Interval>Interval</span> </label> </div> <div class=mc-control-group> <div class=\\\"panel panel-default\\\"> <div class=panel-heading data-phrase=\\\"Interval selection\\\"> Interval selection </div> <fieldset class=panel-fieldset name=interval-selection disabled=disabled> <div class=\\\"form-group form-group-sm\\\"> <label><span data-phrase=Presets>Presets</span>:</label> <select name=preset-intervals> <option value=- data-phrase=\\\"Choose interval\\\">Choose interval</option> <option value=TODAY data-phrase=Today>Today</option> <option value=YESTERDAY data-phrase=Yesterday>Yesterday</option> <option value=LAST_24H data-phrase=\\\"Last 24 Hours\\\" selected=selected>Last 24 Hours</option> <option value=LAST_48H data-phrase=\\\"Last 48 Hours\\\">Last 48 Hours</option> </select> </div> <div class=\\\"form-group form-group-sm\\\"> <label><span data-phrase=From>From</span>:</label> <input class=datetime-picker name=datetime-from value=\\\"1970-01-01 00:00 AM\\\"/> </div> <div class=\\\"form-group form-group-sm\\\"> <label><span data-phrase=To>To</span>:</label> <input class=datetime-picker name=datetime-to value=\\\"1970-01-01 01:00 AM\\\"/> </div> </fieldset> </div> </div> <div class=text-right> <button type=button class=k-button name=fetch-positions title=\\\"Shows the positions for the selected time\\\" data-toggle=tooltip data-phrase=\\\"Fetch Positions\\\"> Fetch Positions </button> </div> </fieldset> </form> </div> </li> <li class=\\\"mc-panel mc-panel-navigation k-state-active\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-navigation\\\"></span> <span class=mc-panel-name data-phrase=Navigation>Navigation</span> <span class=\\\"badge position-count\\\">0</span> <div class=mc-panel-body> <div class=\\\"mc-control-group scrollable\\\"> <div class=\\\"list-group position-list\\\"></div> </div> <div class=\\\"mc-control-group scrollable scrollable-sm hidden\\\"> <div class=\\\"object-tree position-tree\\\">Positions Tree</div> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=positions-visibility /> <span class=checkbox-name data-phrase=\\\"Show/Hide all\\\">Show/Hide all</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=asset-labels /> <span class=checkbox-name data-phrase=\\\"Show Asset Labels\\\">Show Asset Labels</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=use-clusters disabled=disabled /> <span class=checkbox-name data-phrase=\\\"Use Clusters\\\">Use Clusters</span> </label> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox name=positions-connector disabled=disabled /> <span class=checkbox-name data-phrase=\\\"Connect History Positions\\\">Connect History Positions</span> </label> </div> <div class=mc-control-group> <label class=\\\"status-filters-container hidden\\\"> <span class=status-filters-name data-phrase=\\\"Asset status filters\\\">Asset status filters</span>: <select multiple=multiple name=status-filters data-placeholder=\\\"Select filters...\\\"> </select> </label> </div> <div class=text-right> <button class=k-button name=animation data-phrase=\\\"Activate Animation Panel\\\" disabled=disabled> Activate Animation Panel </button> </div> </div> </li> <li class=\\\"mc-panel mc-panel-animation hidden\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-animation\\\"></span> <span class=mc-panel-name data-phrase=Animation>Animation</span> <div class=mc-panel-body> <div class=mc-control-group> <span class=\\\"label label-primary animation-label\\\"> <span class=step-current>${stepCurrent}</span> / <span class=step-max>${stepMax}</span> </span> </div> <div class=\\\"mc-control-group text-center\\\"> <span class=animation-info> <span class=event-time>${eventTime}</span> <span class=event-name>${eventName}</span> </span> </div> <div class=\\\"mc-control-group text-center\\\"> <button class=\\\"btn btn-warning btn-xs btn-animation\\\" name=animation-pause> <span class=\\\"glyphicon glyphicon-pause\\\"></span> </button> <button class=\\\"btn btn-danger btn-xs btn-animation\\\" name=animation-stop> <span class=\\\"glyphicon glyphicon-stop\\\"></span> </button> <button class=\\\"btn btn-success btn-xs btn-animation\\\" name=animation-play> <span class=\\\"glyphicon glyphicon-play\\\"></span> </button> </div> <div class=\\\"mc-control-group text-center animation-slider-container\\\"> <input name=animation-slider /> </div> <div class=mc-control-group> <label><span data-phrase=\\\"Animation Speed\\\">Animation Speed</span>:</label> <select name=animation-speed> <option value=1 data-phrase=Slow>Slow</option> <option value=0.5 data-phrase=Medium selected=selected>Medium</option> <option value=0.2 data-phrase=Fast>Fast</option> </select> </div> <div class=mc-control-group> <label><span data-phrase=\\\"Trail Length\\\">Trail Length</span>:</label> <select name=trail-length> <option value=1>1</option> <option value=3 selected=selected>3</option> <option value=5>5</option> <option value=7>7</option> <option value=11>11</option> </select> </div> </div> </li> <li class=\\\"mc-panel mc-panel-locations\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-locations\\\"></span> <span class=mc-panel-name data-phrase=Locations>Locations</span> <span class=\\\"badge location-count\\\">0</span> <div class=mc-panel-body> <div class=\\\"mc-control-group scrollable scrollable-sm\\\"> <div class=\\\"object-tree location-tree\\\">Locations Tree</div> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox class=toggle-labels name=location-labels /> <span class=checkbox-name data-phrase=\\\"Show Location Labels\\\">Show Location Labels</span> </label> </div> <div class=mc-control-group> <div class=\\\"text-right editmode-activator\\\"> <button type=button class=k-button name=location-editmode-activator data-phrase=\\\"Create Location\\\"> Create Location </button> </div> <div class=\\\"panel panel-default object-editor location-editor hidden\\\" data-objecttype=location> <div class=\\\"panel-heading form-name\\\" data-phrase=\\\"Create Location\\\"> Create Location </div> <form> <fieldset class=\\\"panel-fieldset editor-fieldset\\\" disabled=disabled> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Coordinates>Coordinates</label> <input type=text class=\\\"form-control editableobject-coordinates\\\" name=location-coordinates placeholder=\\\"Enter (latitude, longitude)\\\" title=\\\"Or click any position on the map.\\\" data-toggle=tooltip data-placement=bottom /> <span class=\\\"help-block hidden\\\">Or click any position on the map.</span> <div class=\\\"alert alert-danger invalid-block invalid-coordinates hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Latitude must be in the range of -90 to +90, and longitude must be in the range of -180 to 180.</span> </div> </div> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Name>Name</label> <input type=text class=\\\"form-control editableobject-objectname\\\" name=location-objectname placeholder=\\\"Enter name\\\"/> <div class=\\\"alert alert-danger invalid-block invalid-objectname hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Object name must have at least 3 characters.</span> </div> </div> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Config>Config</label> <select class=editableobject-configname name=location-configname></select> </div> <div class=text-right> <button type=button class=\\\"k-button cancel-object-creation\\\" name=cancel-location-creation data-phrase=Cancel disabled=disabled> Cancel </button> <button type=button class=\\\"k-button confirm-object-creation\\\" name=confirm-location-creation data-phrase=\\\"Create location\\\" disabled=disabled> Create location </button> </div> </fieldset> </form> </div> </div> </div> </li> <li class=\\\"mc-panel mc-panel-geofences\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-geofences\\\"></span> <span class=mc-panel-name data-phrase=Geofences>Geofences</span> <span class=\\\"badge geofence-count\\\">0</span> <div class=mc-panel-body> <div class=\\\"mc-control-group scrollable scrollable-sm\\\"> <div class=\\\"object-tree geofence-tree\\\">Geofences Tree</div> </div> <div class=\\\"mc-control-group checkbox\\\"> <label> <input type=checkbox class=toggle-labels name=geofence-labels /> <span class=checkbox-name data-phrase=\\\"Show Geofence Labels\\\">Show Geofence Labels</span> </label> </div> <div class=mc-control-group> <div class=\\\"text-right editmode-activator\\\"> <button type=button class=k-button name=geofence-editmode-activator data-phrase=\\\"Create Geofence\\\"> Create Geofence </button> </div> <div class=\\\"panel panel-default object-editor geofence-editor hidden\\\" data-objecttype=geofence> <div class=\\\"panel-heading form-name\\\" data-phrase=\\\"Create Geofence\\\"> Create Geofence </div> <form> <fieldset class=\\\"panel-fieldset editor-fieldset\\\" disabled=disabled> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Shape>Shape</label> <div class=btn-group> <button type=button class=\\\"btn btn-default editableobject-shapetype active\\\" name=geofence-shapetype title=Polygon data-shapetype=POLYGON> <span class=\\\"glyphicon glyphicon-tent\\\" title=Polygon data-toggle=tooltip data-placement=top></span> <span class=hidden data-phrase=Polygon>Polygon</span> </button> <button type=button class=\\\"btn btn-default editableobject-shapetype\\\" name=geofence-shapetype title=Rectangle data-shapetype=RECTANGLE> <span class=\\\"glyphicon glyphicon-unchecked\\\" title=Rectangle data-toggle=tooltip data-placement=top></span> <span class=hidden data-phrase=Rectangle>Rectangle</span> </button> <button type=button class=\\\"btn btn-default editableobject-shapetype\\\" name=geofence-shapetype title=Circle data-shapetype=CIRCLE> <span class=\\\"glyphicon glyphicon-cd\\\" title=Circle data-toggle=tooltip data-placement=top></span> <span class=hidden data-phrase=Circle>Circle</span> </button> <button type=button class=\\\"btn btn-default editableobject-shapetype\\\" name=geofence-shapetype title=Pass data-shapetype=PASS> <span class=\\\"glyphicon glyphicon-road\\\" title=Pass data-toggle=tooltip data-placement=top></span> <span class=hidden data-phrase=Pass>Pass</span> </button> </div> <div class=\\\"editableobject-coordinates geofence-coordinates\\\"></div> <div class=\\\"alert alert-danger invalid-block invalid-coordinates hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>${shapeType} needs at least ${pointCount}.</span> </div> </div> <fieldset class=shapeparameter-fieldset> <div class=\\\"form-group form-group-sm hidden\\\" data-shapetype=CIRCLE> <label class=control-label data-phrase=Radius>Radius</label> <input type=text class=\\\"form-control editableobject-bufferdistance\\\" name=geofence-bufferdistance value=10000 placeholder=\\\"Enter radius\\\"/> <div class=\\\"alert alert-danger invalid-block invalid-bufferdistance hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Radius must be > 10.</span> </div> </div> <div class=\\\"form-group form-group-sm hidden\\\" data-shapetype=PASS> <label class=control-label data-phrase=Width>Width</label> <input type=text class=\\\"form-control editableobject-bufferdistance\\\" name=geofence-bufferdistance value=100 placeholder=\\\"Enter width\\\"/> <div class=\\\"alert alert-danger invalid-block invalid-bufferdistance hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Pass distance must be > 10.</span> </div> </div> </fieldset> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Name>Name</label> <input type=text class=\\\"form-control editableobject-objectname\\\" name=geofence-objectname placeholder=\\\"Enter name\\\"/> <div class=\\\"alert alert-danger invalid-block invalid-objectname hidden\\\"> <span class=\\\"glyphicon glyphicon-exclamation-sign\\\"></span> <span class=invalid-text>Object name must have at least 3 characters.</span> </div> </div> <div class=\\\"form-group form-group-sm\\\"> <label class=control-label data-phrase=Config>Config</label> <select class=editableobject-configname name=geofence-configname> <option value=\\\"Exclusive Security\\\" selected=selected>Exclusive Security</option> <option value=\\\"Inclusive Security\\\">Inclusive Security</option> <option value=Waypoint>Waypoint</option> </select> </div> <div class=text-right> <button type=button class=\\\"k-button cancel-object-creation\\\" name=cancel-geofence-creation data-phrase=Cancel disabled=disabled> Cancel </button> <button type=button class=\\\"k-button confirm-object-creation\\\" name=confirm-geofence-creation data-phrase=\\\"Create geofence\\\" disabled=disabled> Create geofence </button> </div> </fieldset> </form> </div> </div> </div> </li> </ul>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/maps/ui/tpl/controls.tpl.html\n ** module id = 239\n ** module chunks = 0\n **/","module.exports = \"<div class=container> <div class=\\\"row mp-top-15\\\"> <img class=mp-logo /> <span class=\\\"lead mp-directions hidden\\\"> ${directions.startingPoint} to ${directions.destination} </span> </div> <div class=\\\"row mp-top-15\\\"> <div class=mp-screenshot> </div> </div> <div class=\\\"row mp-top-15\\\"> <div class=\\\"col-sm-6 mp-directions hidden\\\"> <div class=\\\"row mp-top-15\\\"> <h4>${directions.startingPoint}</h4> </div> <div class=\\\"row mp-top-15\\\"> <div class=\\\"col-sm-12 maneuver-list\\\"> <% _.forEach(directions.maneuvers, function (maneuver, i) { %> <div class=\\\"row mp-maneuver\\\"> <div class=col-sm-12> <img class=mp-maneuver-icon data-iconpath=images/maps/icons/maneuver/${maneuver.baseCssAction}/${maneuver.action}.png /> ${i + 1}. ${maneuver.instruction} </div> </div> <% }); %> </div> </div> <div class=\\\"row mp-top-15\\\"> <h4>${directions.destination}</h4> </div> </div> </div> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/maps/ui/tpl/print.tpl.html\n ** module id = 240\n ** module chunks = 0\n **/","module.exports = \"<li class=\\\"mc-panel mc-panel-routing\\\"> <span class=\\\"mc-icon mc-icon-panel mc-icon-routing\\\"></span> <span class=mc-panel-name data-phrase=Routing>Routing</span> <div class=mc-panel-body> <div class=mc-control-group> <ul class=waypoint-list> </ul> </div> <button class=\\\"btn btn-link\\\" name=add-waypoint> <span class=\\\"glyphicon glyphicon-plus\\\"></span> <span data-phrase=\\\"add stop-over\\\">add stop-over</span> </button> <div class=mc-control-group> <div class=\\\"panel panel-default route-features\\\"> <div class=panel-heading> <span data-phrase=\\\"Include route features\\\">Include route features</span>: </div> <div class=\\\"row route-features-body\\\"> <div class=\\\"col-sm-6 col-route-features\\\"> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-tollroads data-featurename=tollroad checked=checked /> <span class=checkbox-name data-phrase=\\\"Toll roads\\\">Toll roads</span> </label> </div> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-motorways data-featurename=motorway checked=checked /> <span class=checkbox-name data-phrase=Highways>Highways</span> </label> </div> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-ferries data-featurename=boatFerry checked=checked /> <span class=checkbox-name data-phrase=Ferries>Ferries</span> </label> </div> </div> <div class=\\\"col-sm-6 col-route-features\\\"> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-tunnels data-featurename=tunnel checked=checked /> <span class=checkbox-name data-phrase=Tunnels>Tunnels</span> </label> </div> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-dirtroads data-featurename=dirtRoad checked=checked /> <span class=checkbox-name data-phrase=\\\"Dirt roads\\\">Dirt roads</span> </label> </div> <div class=checkbox> <label> <input type=checkbox class=route-feature name=include-parks data-featurename=park checked=checked /> <span class=checkbox-name data-phrase=Parks>Parks</span> </label> </div> </div> </div> </div> </div> <div class=mc-control-group> <div class=\\\"panel panel-default route-summary hidden\\\"> <div class=panel-heading data-phrase=\\\"Route Summary\\\">Route Summary</div> <div class=route-summary-text>-</div> </div> </div> <div class=mc-control-group> <div class=\\\"panel panel-default route-directions hidden\\\"> <div class=panel-heading> <span data-phrase=Directions>Directions</span> <span class=\\\"glyphicon glyphicon-print pull-right print-route\\\"></span> </div> <div class=scrollable> <ul class=\\\"list-group maneuver-list\\\"> </ul> </div> </div> </div> <div class=text-right> <button class=k-button name=save-route disabled=disabled>Save Route</button> </div> </div> </li>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/maps/ui/tpl/routing.tpl.html\n ** module id = 241\n ** module chunks = 0\n **/","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1560 1560\\\" width=\\\"18\\\" height=\\\"18\\\">\\r\\n    <g transform=\\\"rotate(${rotation} 780 780)\\\">\\r\\n        <circle fill=\\\"${backgroundColor}\\\" stroke=\\\"none\\\" cx=\\\"780\\\" cy=\\\"780\\\" r=\\\"770\\\"/>\\r\\n        <path fill=\\\"${color}\\\" stroke=\\\"none\\\" d=\\\"m840,1292l-128,0q-26,0 -45,-19q-19,-19 -19,-45l0,-502l-189,189q-19,19 -45,19q-26,0 -45,-19l-91,-91q-18,-18 -18,-45q0,-27 18,-45l362,-362l91,-91q18,-18 45,-18q27,0 45,18l91,91l362,362q18,18 18,45q0,27 -18,45l-91,91q-18,18 -45,18q-27,0 -45,-18l-189,-189l0,502q0,26 -19,45q-19,19 -45,19z\\\"/>\\r\\n    </g>\\r\\n</svg>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/maps/ui/svg/arrow.tpl.svg\n ** module id = 249\n ** module chunks = 0\n **/","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1560 1560\\\" width=\\\"18\\\" height=\\\"18\\\">\\r\\n    <circle fill=\\\"${backgroundColor}\\\" stroke=\\\"none\\\" cx=\\\"780\\\" cy=\\\"780\\\" r=\\\"770\\\"/>\\r\\n</svg>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/maps/ui/svg/dot.tpl.svg\n ** module id = 250\n ** module chunks = 0\n **/","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1560 1560\\\" width=\\\"18\\\" height=\\\"18\\\">\\r\\n    <g>\\r\\n        <circle fill=\\\"${backgroundColor}\\\" stroke=\\\"none\\\" cx=\\\"780\\\" cy=\\\"780\\\" r=\\\"770\\\"/>\\r\\n        <path fill=\\\"${color}\\\" stroke=\\\"none\\\" d=\\\"m700,210l-380,600h380l-300,600l750,-750h-380l460,-450z\\\"/>\\r\\n    </g>\\r\\n</svg>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/maps/ui/svg/generator.tpl.svg\n ** module id = 251\n ** module chunks = 0\n **/","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:svg=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1560 1560\\\" width=\\\"18\\\" height=\\\"18\\\">\\r\\n    <g>\\r\\n        <circle fill=\\\"${backgroundColor}\\\" stroke=\\\"none\\\" cx=\\\"780\\\" cy=\\\"780\\\" r=\\\"770\\\"/>\\r\\n        <g style=\\\"fill: ${color}; stroke: none;\\\">\\r\\n            <circle r=\\\"80\\\" cy=\\\"780\\\" cx=\\\"780\\\"/>\\r\\n            <path d=\\\"m715.0296,176.51082c-82.49176,12.40086 -143.95697,31.27121 -204.8822,61.46432c-122.92953,62.00426 -225.90973,170.37581 -280.36548,295.4615c-33.96735,77.1004 -35.04546,71.16992 17.2532,71.16992l45.2901,0l15.0961,-35.58539c98.12784,-224.83075 342.36975,-348.29933 584.99268,-296.00058c136.4068,29.65402 263.64777,122.9295 336.43732,248.55429c2.1582,3.77423 -38.81689,22.64551 -90.58179,43.133c-51.7561,20.4884 -94.35181,38.28064 -94.35181,39.89868l339.13635,172.53204c22.10815,-82.49176 85.72864,-342.3689 85.19141,-342.90793c-0.54626,-0.53906 -33.98181,11.86093 -73.87317,28.03598c-39.8916,16.17523 -74.93896,29.11505 -78.17126,29.11505c-2.70422,0 -12.40186,-11.86182 -20.49646,-26.95795c-8.08594,-14.55792 -28.57349,-43.13297 -44.74487,-63.08234c-97.59326,-119.69431 -232.38281,-197.87277 -379.57318,-219.97833c-46.90723,-7.54849 -123.46857,-9.70471 -156.35693,-4.85236l0,0l0,0l0,0l0,0l0,0l0,0l0,0.00002l0,0.00003l0,0.00003z\\\"/>\\r\\n            <path d=\\\"m91.21716,1120.04187c0.53914,0.54626 33.96727,-11.85559 73.86536,-28.03601c39.89771,-16.17139 74.94406,-29.11047 78.17836,-29.11047c2.69615,0 11.8618,11.8645 19.94936,25.87793c32.35019,57.69275 102.4411,132.09436 173.61102,183.85925c40.43686,29.64783 129.39902,71.7063 181.15866,86.26611c288.992,78.71741 593.61652,-65.77856 711.69733,-338.06079c33.96362,-77.09772 35.04736,-71.16724 -17.25488,-71.16724l-45.29126,0l-15.09692,35.5827c-118.07178,270.66156 -441.03387,386.04706 -706.30231,251.79474c-84.1098,-42.5957 -153.66165,-106.76245 -208.11655,-193.56555l-10.78369,-16.70801l94.35358,-37.2052c51.75961,-20.4884 94.35355,-38.28064 94.35355,-39.89868l-339.13359,-172.53204l-85.188,342.90326z\\\"/>\\r\\n        </g>\\r\\n    </g>\\r\\n</svg>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/maps/ui/svg/pump.tpl.svg\n ** module id = 252\n ** module chunks = 0\n **/"],"sourceRoot":""}