webpackJsonprequire([2],{35:function(e,t){e.exports=google.maps},58:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Viewer=t["default"]=void 0;var n=r(35),s=i(n),o=r(27),a=r(62),l=r(98),u=r(97),c=r(99),g=r(100),p={maps:s["default"]},d=o.project.bbox,m=stampit().init(function(e){var t=e.instance,r=t.container,i=void 0,n={click:"click",dragstart:"dragstart",drag:"drag",dragend:"dragend",mousedown:"click",mouseup:"click",mouseenter:"mouseover",mouseleave:"mouseout",mousemove:"mousemove",mapviewchange:"bounds_changed",mapviewchangeend:"idle"},s=void 0,o=void 0;_.assign(t,{getNativeObject:function(){return i},addEventListener:function(e,t){var r=n[e];if(!_.isString(r))throw new Error("Invalid event type: "+e+".");t.mapsEventListener=p.maps.event.addListener(i,r,t)},removeEventListener:function(e,t){var r=n[e];if(!_.isString(r))throw new Error("Invalid event type: "+e+".");p.maps.event.removeListener(t.mapsEventListener)},onceEventListener:function(e,t){var r=n[e];if(!_.isString(r))throw new Error("Invalid event type: "+e+".");t.mapsEventListener=p.maps.event.addListenerOnce(i,r,t)},addOverlay:function(e){e.getNativeObject().setMap(i)},addObjects:function(e){_.forEach(e,function(e){return e.getNativeObject().setMap(i)})},removeObjects:function(e){_.forEach(e,function(e){var r=e.getNativeObject(),i=r.get("editModeClickListener");i&&t.removeEventListener("click",i),p.maps.event.clearInstanceListeners(r),r.setMap(void 0)})},getLayerFactory:function(){return l.Layer},getClusteringLayerFactory:function(){return u.ClusteringLayer},getMapObjectFactory:function(){return c.MapObject},getRoutingEngineFactory:function(){return g.RoutingEngine},pixelToGeo:function(e){return o.fromContainerPixelToLatLng(new p.maps.Point(e.x,e.y))},geoToPixel:function(e){return o.fromLatLngToContainerPixel(new p.maps.LatLng(e.lat,e.lng))},getBoundingBox:function(){var e=i.getBounds(),t=e.getNorthEast(),r=e.getSouthWest();return{left:t.lng(),bottom:r.lat(),right:r.lng(),top:t.lat(),getNativeBounds:_.constant(e)}},setBoundingBox:function(e){if(e){var t=e.bottom,r=e.right,n=e.top,s=e.left,o=new p.maps.LatLngBounds(new p.maps.LatLng(t,r),new p.maps.LatLng(n,s));i.fitBounds(o)}},getCenter:function(){var e=i.getCenter();return{lat:e.lat(),lng:e.lng()}},setCenter:function(e){i.setCenter(e)},getZoom:function(){return i.getZoom()},zoomToLevel:function(e){e>=0&&i.setZoom(e)},refresh:function(){p.maps.event.trigger(i,"idle")},resize:function(){p.maps.event.trigger(i,"resize")},shake:function(){t.refresh()},resolveProjection:function(){return v.promise()}}),i=new p.maps.Map(r[0]);var a=p.maps.ControlPosition.RIGHT_CENTER,m=p.maps.MapTypeId,h=m.ROADMAP,f=m.SATELLITE;i.setOptions({mapTypeId:App.config.map.defaultMapTypeSatelliteEnabled?f:h,streetViewControlOptions:{position:a},zoomControlOptions:{position:a}}),t.addEventListener("click",t.createDefaultClickListener()),t.addEventListener("mapviewchangeend",t.createDefaultMapViewChangeEndListener()),t.addEventListener("mousemove",t.createDefaultMouseMoveListener()),s=new p.maps.OverlayView;var v=$.Deferred();_.assign(s,{onAdd:function(){o=s.getProjection(),v.resolve()},onRemove:_.noop,draw:_.noop}).setMap(i),t.setBoundingBox(d)}),h=stampit.compose(a.Viewer,m);t["default"]=h,t.Viewer=h},97:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ClusteringLayer=t["default"]=void 0;var n=r(35),s=i(n),o=r(256),a=i(o),l=r(37),u=r(15),c={maps:s["default"]},g=u.Styler.getInstance(),p=stampit().init(function(e){var t=e.instance,r=t.viewer,i=void 0,n={},s={},o={gridSize:60,maxZoom:1/0,zoomOnClick:!0,averageCenter:!1,minimumClusterSize:3,ignoreHidden:!0,imagePath:g.getClusterIconsDir()+"m"},l=$.Deferred();_.assign(t,{getNativeObject:function(){return i},getData:function(e){return n[e]},setData:function(e,t){_.isPlainObject(e)?_.assign(n,e):n[e]=t},isVisible:function(){return Boolean(t.getData("visible"))},setVisible:function(e){t.setData("visible",e);var n=e?r.getNativeObject():void 0;i.activeMap_=n,i.setMap(n)},getObjects:function(){return _(s).map().compact().value()},add:function(e){var t=_.map(e,function(e){return s[e.id]=e,e.getNativeObject()});i.addMarkers(t)},remove:function(e){var t=_.map(e,function(e){return delete s[e.id],e.getNativeObject()});i.removeMarkers(t)},clear:function(){s={},i.clearMarkers()},getBounds:function(){var e=i.getMarkers(),t=void 0;return e.length>0&&!function(){var r=new c.maps.LatLngBounds;_.forEach(e,function(e){return r.extend(e.getPosition())});var i=r.getNorthEast(),n=r.getSouthWest();t={left:i.lng(),bottom:n.lat(),right:n.lng(),top:i.lat()}}(),t},isClusteringSupported:function(){return!0},performClustering:function(e){l=$.Deferred();var n=[];i&&(n=i.getMarkers(),i.clearMarkers());var s=t.isClusteringEnabled(),u=_.merge({},o,{minimumClusterSize:s?void 0:1/0},e);t.setData("clustered",_.isFinite(u.minimumClusterSize)),i=new a["default"](r.getNativeObject(),n,u),c.maps.event.addListenerOnce(i,"clusteringend",function(){return l.resolve()})},resolveClustering:function(){return l.promise()}}),r.addEventListener("mapviewchangeend",function(){if(t.isClusteringEnabled()){var e=t.getData("clustered");r.getZoom()>=20?e&&t.performClustering({minWeight:1/0}):e||t.performClustering()}}),t.setClusteringEnabled(!0),t.setVisible(!0),t.setData("wrapper",t)}),d=stampit.compose(l.Layer,p);t["default"]=d,t.ClusteringLayer=d},98:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=t["default"]=void 0;var n=r(35),s=i(n),o=r(37),a={maps:s["default"]},l=stampit().init(function(e){var t=e.instance,r=t.viewer,i=new a.maps.OverlayView,n={};_.assign(t,{getNativeObject:function(){return i},getData:function(e){return i.get(e)},setData:function(e,t){_.isPlainObject(e)?i.setValues(e):i.set(e,t)},isVisible:function(){return Boolean(i.getMap())},setVisible:function(e){var t=e?r.getNativeObject():void 0;i.setMap(t),_.forOwn(n,function(e){return e.getNativeObject().setMap(t)})},getObjects:function(){return _(n).map().compact().value()},add:function(e){e=_.isArray(e)?e:[e],_.forEach(e,function(e){n[e.id]=e,e.getNativeObject().setMap(r.getNativeObject())})},remove:function(e){e=_.isArray(e)?e:[e],_.forEach(e,function(e){delete n[e.id];var t=e.getNativeObject();t.setMap(void 0),a.maps.event.clearInstanceListeners(t)})},clear:function(){t.remove(_(n).map().compact().value()),n={}},getBounds:function(){var e=t.getObjects(),r=void 0;return e.length>0&&!function(){var t=e[0].getNativeObject(),i=new a.maps.LatLngBounds;t instanceof a.maps.Marker?_.forEach(e,function(e){return i.extend(e.getNativeObject().getPosition())}):_.forEach(e,function(e){var t=e.getBounds(),r=t.bottom,n=t.right,s=t.top,o=t.left,l=new a.maps.LatLngBounds(new a.maps.LatLng(r,n),new a.maps.LatLng(s,o));i.union(l)});var n=i.getNorthEast(),s=i.getSouthWest();r={left:n.lng(),bottom:s.lat(),right:s.lng(),top:n.lat()}}(),r}}),_.assign(i,{draw:_.noop,onAdd:_.noop,onRemove:_.noop}).setMap(r.getNativeObject()),t.setVisible(!0),t.setData("wrapper",t)}),u=stampit.compose(o.Layer,l);t["default"]=u,t.Layer=u},99:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MapObject=t["default"]=void 0;var n=function(){function e(e,t){var r=[],i=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(l){n=!0,s=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},o=r(35),a=i(o),l=r(60),u=r(15),c={maps:a["default"]},g=u.Styler.getInstance(),p=stampit().init(function(e){var t=e.instance,r=t.roamObject,i=t.viewer,n=t.objectModel,o=void 0,a={click:"click",dragstart:"dragstart",drag:"drag",dragend:"dragend",mousedown:"mousedown",mouseup:"mouseup",mouseenter:"mouseover",mouseleave:"mouseout",mousemove:"mousemove",visibilitychange:"visible_changed",mapchange:"map_changed"};_.assign(t,{getNativeObject:function(){return o},addEventListener:function(e,t){var r=a[e];if(!_.isString(r))throw new Error("Invalid event type: "+e+".");t.mapsEventListener=c.maps.event.addListener(o,r,t)},removeEventListener:function(e,t){var r=a[e];if(!_.isString(r))throw new Error("Invalid event type: "+e+".");c.maps.event.removeListener(t.mapsEventListener)},getData:function(e){return o.get(e)},setData:function(e,t){_.isPlainObject(e)?o.setValues(e):o.set(e,t)},isVisible:function(e){var t=o.getVisible();return e&&(t=t&&Boolean(o.getMap())),t},setVisible:function(e){o.setVisible(e)},isWithinViewBounds:function(){var e=i.getBoundingBox().getNativeBounds(),t=!1;return t=o instanceof c.maps.Marker?e.contains(o.getPosition()):_.isFunction(o.getBounds)?e.intersects(o.getBounds()):_.some(o.getPath().getArray(),function(t){return e.contains(t)})}}),n=t.objectModel=n||t.createDefaultObjectModel(),n.options=s({},n.options);var l=t.getFactoryMethod(n.shapeType);if(o=l(n,i),o instanceof c.maps.Marker?_.assign(t,{getPosition:function(){var e=o.getPosition();return{lat:e.lat(),lng:e.lng()}},setPosition:function(e){var t=e.lat,r=e.lng;n.coordinates=[t,r];var i=o.getPosition(),s=new c.maps.LatLng(t,r);s.equals(i)||o.setPosition(s)},getIcon:function(){return o.getIcon()},setIcon:function(e){var t=e.model,r=e.options,i=t;i.match(/<svg/i)&&(i="data:image/svg+xml;charset=UTF-8;base64,"+btoa(i)),o.setIcon(s({url:i},r))},updateIcon:function(){t.setData("originalIcon",t.getIcon()),t.setIcon({model:g.getRoamIcon(t.roamObject,!kendo.support.browser.msie)}),t.bounce()},revertIcon:function(){var e=t.getData("originalIcon");e&&t.setIcon({model:e.url})},setOpacity:function(e){o.setOpacity(e)},bounce:function(){var e=3e3;o.setAnimation(c.maps.Animation.BOUNCE),setTimeout(function(){return o.setAnimation(void 0)},e)}}):o instanceof c.maps.Circle?_.assign(t,{setCenter:function(e){var t=e.lat,r=e.lng;n.coordinates[0]=t,n.coordinates[1]=r;var i=o.getCenter(),s=new c.maps.LatLng(t,r);s.equals(i)||o.setCenter(s)},setRadius:function(e){n.coordinates[2]=e,e!==o.getRadius()&&o.setRadius(e)}}):(_.assign(t,{getBounds:function(){var e=new c.maps.LatLngBounds;if(_.isFunction(o.getBounds))e=o.getBounds();else{var t=o.getPath();_.forEach(t.getArray(),function(t){return e.extend(t)})}var r=e.getNorthEast(),i=e.getSouthWest();return{left:r.lng(),bottom:i.lat(),right:i.lng(),top:r.lat()}},getCenterBounds:function(){var e=t.getBounds(),r=e.right,i=e.left,n=e.top,s=e.bottom,o=(r-i)/2,a=(n-s)/2;return{lat:s+a,lng:i+o}}}),o instanceof c.maps.Rectangle?_.assign(t,{setBounds:function(e){var t=e.right,r=e.left,i=e.top,s=e.bottom;n.coordinates=[i,r,s,t];var a=o.getBounds(),l=new c.maps.LatLngBounds(new c.maps.LatLng(s,t),new c.maps.LatLng(i,r));l.equals(a)||o.setBounds(l)}}):_.assign(t,{setCoordinates:function(e){n.coordinates=e;var t=o.getPath(),r=!0;t&&!function(){var i=t.getArray();r=_.some(e,function(e,t){return e!==i[t]})}(),r&&o.setPath(i.getMapObjectFactory().toPoints(e))}})),r){t.setData(t.createDefaultRoamData()),t.addEventListener("click",t.createDefaultClickListener()),t.addEventListener("mouseenter",t.createDefaultMouseEnterListener()),t.addEventListener("mouseleave",t.createDefaultMouseLeaveListener());var u=t.createDefaultVisibilityChangedListener();t.addEventListener("visibilitychange",u),t.addEventListener("mapchange",u)}t.setData("wrapper",t)})["static"]({createMarker:function(e,t){var r=e.coordinates,i=e.options,o=i.label,a=i.icon,l=i.editable,u=i.draggable,g=e.lat,p=e.lng;if(!_.isFinite(g)||!_.isFinite(p)){var d=n(r,2);g=d[0],p=d[1]}var m=new c.maps.Marker({label:o,position:new c.maps.LatLng(g,p)});if(a&&a.model){var h=a.model;h.match(/svg/i)&&(h="data:image/svg+xml;charset=UTF-8;base64,"+btoa(h)),m.setIcon(s({url:h},i))}var f=t.getEditManager();if(u&&(m.setDraggable(!0),c.maps.event.addListener(m,"drag",function(e){var t=e.latLng,r=t.lat(),i=t.lng(),n=[r,i];m.get("wrapper").setPosition({lat:r,lng:i}),l&&f.setEditableObjectCoordinates(n)})),l){var v=function(e){var t=e.latLng;f.setEditableObjectCoordinates([t.lat(),t.lng()])};m.set("editModeClickListener",v),t.addEventListener("click",v)}return m},createPolyline:function(e,t){var r=e.coordinates,i=e.options,n=i.draggable,s=i.editable,o=i.styleName,a=t.getMapObjectFactory(),l=new c.maps.Polyline({draggable:n,path:a.toPoints(r)});if(s&&(l=a.toEditablePolyShape(l,e,t)),o){var u=a.createNormalizedShapeStyle(o,t),g=u.strokeColor,p=u.strokeOpacity,d=u.strokeWeight,m=u.fillColor,h=u.fillOpacity,f=u.icons;l.setOptions({strokeColor:g,strokeOpacity:p,strokeWeight:d,fillColor:m,fillOpacity:h,icons:f})}return l},createPolygon:function(e,t){var r=e.coordinates,i=e.options,n=i.draggable,s=i.editable,o=i.styleName,a=t.getMapObjectFactory(),l=new c.maps.Polygon({draggable:n,paths:a.toPoints(r)});if(s&&(l=a.toEditablePolyShape(l,e,t)),o){var u=a.createNormalizedShapeStyle(o,t),g=u.strokeColor,p=u.strokeWeight,d=u.fillColor,m=u.fillOpacity;l.setOptions({strokeColor:g,strokeWeight:p,fillColor:d,fillOpacity:m})}return l},toEditablePolyShape:function(e,t,r){function i(e){var t=e.latLng,i=a.getEditableObjectCoordinates(),n=a.getEditableObject(),l=n.getNativeObject();if(i.push(t.lat(),t.lng()),l instanceof c.maps.Marker){var u=n,g=u.objectModel;n=o.create({viewer:r,objectModel:s({},g,{coordinates:i})}),a.setEditableObject(n)}else a.setEditableObjectCoordinates(i)}var n=t.coordinates,o=r.getMapObjectFactory(),a=r.getEditManager(),l=_.floor(n.length/2);if(1===l)e=o.createMarker(t,r),r.removeEventListener("click",e.get("editModeClickListener"));else{var u=function(){a.setEditableObjectCoordinates(o.toCoordinates(e.getPath()))};e.setEditable(!0);var g=e.getPath();c.maps.event.addListener(g,"insert_at",u),c.maps.event.addListener(g,"remove_at",u),c.maps.event.addListener(g,"set_at",u)}return e.set("editModeClickListener",i),r.addEventListener("click",i),e},createRectangle:function(e,t){var r=e.coordinates,i=e.options,s=i.draggable,o=i.editable,a=i.styleName,l=t.getMapObjectFactory(),u=l.toPoints(r),g=n(u,2),p=g[0],d=g[1],m=new c.maps.LatLngBounds(new c.maps.LatLng(p.lat,p.lng));d&&m.extend(new c.maps.LatLng(d.lat,d.lng));var h=new c.maps.Rectangle({bounds:m,draggable:s});if(o&&!function(){h.setEditable(!0);var e=t.getEditManager(),i=m.getNorthEast(),n=e.getEditableObjectBufferDistance()||1e4,s=135,o=c.maps.geometry.spherical.computeOffset(i,n,s);r.push(o.lat(),o.lng()),m.extend(o),c.maps.event.addListener(h,"bounds_changed",function(){var t=h.getBounds(),r=t.getNorthEast(),i=t.getSouthWest(),n=[r.lat(),r.lng(),i.lat(),i.lng()];e.setEditableObjectCoordinates(n)})}(),a){var f=l.createNormalizedShapeStyle(a,t),_=f.strokeColor,v=f.strokeWeight,C=f.fillColor,k=f.fillOpacity;h.setOptions({strokeColor:_,strokeWeight:v,fillColor:C,fillOpacity:k})}return h},createCircle:function(e,t){var r=e.coordinates,i=e.options,n=i.draggable,s=i.editable,o=i.styleName,a=t.getMapObjectFactory(),l=new c.maps.Circle({draggable:n,center:new c.maps.LatLng(r[0],r[1]),radius:r[2]});if(s&&!function(){var e=function(){var e=l.getCenter(),t=l.getRadius(),r=[e.lat(),e.lng(),t];i.setEditableObjectCoordinates(r),i.setEditableObjectBufferDistance(t)};l.setEditable(!0);var i=t.getEditManager(),n=i.getEditableObjectBufferDistance()||1e4;r[2]=n,l.setRadius(n),c.maps.event.addListener(l,"radius_changed",e),c.maps.event.addListener(l,"center_changed",e)}(),o){var u=a.createNormalizedShapeStyle(o,t),g=u.strokeColor,p=u.strokeWeight,d=u.fillColor,m=u.fillOpacity;l.setOptions({strokeColor:g,strokeWeight:p,fillColor:d,fillOpacity:m})}return l},normalizeShapeStyle:function(e){var t={strokeColor:"#0055aa",strokeOpacity:.6,strokeWeight:2,fillColor:"#0055aa",fillOpacity:.4},r=s({},t,e),i=r.arrows;if(i){var n={icon:{path:c.maps.SymbolPath.FORWARD_CLOSED_ARROW,scale:1.92,strokeColor:"#0055aa",strokeOpacity:.5,strokeWeight:.5,fillColor:"#ffffff",fillOpacity:.75},repeat:"5%"},o=i.length,a=i.width,l=i.fillColor,u=i.fillOpacity,g=i.frequency,p={icon:{fillColor:l,fillOpacity:u,scale:_.isFinite(o)&&_.isFinite(a)?o*a:void 0},repeat:_.isFinite(g)?g+"%":void 0};r.icons=[_.merge({},n,p)]}return r}}),d=stampit.compose(l.MapObject,p);t["default"]=d,t.MapObject=d},100:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingEngine=t["default"]=void 0;var n=r(35),s=(i(n),r(61)),o=stampit().init(function(e){var t=e.instance,r=t.routingManager,i=t.viewer,n=void 0,s=void 0;_.assign(t,{searchPlaces:function(e){var t=$.Deferred(),r=i.getBoundingBox(),s=r.bottom,o=r.right,a=r.top,l=r.left;return n.textSearch({query:e,bounds:new google.maps.LatLngBounds(new google.maps.LatLng(s,o),new google.maps.LatLng(a,l))},function(e,r){if(r===google.maps.places.PlacesServiceStatus.OK){var i=_.map(e,function(e){var t=e.geometry,r=e.name,i=e.formatted_address,n=t.location;return{icon:"mc-icon-routing-typeaddress",lat:n.lat(),lng:n.lng(),name:r+", "+i}});t.resolve(i)}else t.reject({message:r})}),t.promise()},calculateRoute:function(){var e=$.Deferred(),t=r.getValidWaypoints(),i=t.shift(),n=t.pop(),o=r.getRouteFeatures(),a=o.tollroad,l=o.motorway,u=o.boatFerry,c={avoidTolls:0>a,avoidHighways:0>l,avoidFerries:0>u,travelMode:google.maps.TravelMode.DRIVING,origin:new google.maps.LatLng(i.lat,i.lng),destination:new google.maps.LatLng(n.lat,n.lng),waypoints:_.map(t,function(e){return{location:new google.maps.LatLng(e.lat,e.lng),stopover:!0}})};return s.route(c,function(t,r){r===google.maps.DirectionsStatus.OK?!function(){var r=t.routes[0],i={path:[],legs:[],summary:{},maneuvers:[]},n=i.path,s=i.legs,o=i.summary,a=i.maneuvers;_.forEach(r.legs,function(e){var t=e.distance,r=e.duration;s.push({firstPointIndex:n.length,length:t.value,traveltime:r.value}),_.forEach(e.steps,function(e){var t=e.instructions,r=e.maneuver;a.push({instruction:t,baseCssAction:"adp-maneuver",action:r}),_.forEach(e.path,function(e){n.push({lat:parseFloat(e.lat().toFixed(8)),lng:parseFloat(e.lng().toFixed(8))})})})}),_.assign(o,_.transform(s,function(e,t){var r=t.traveltime,i=t.length;e.duration=e.duration+r,e.distance=e.distance+i}),{duration:0,distance:0}),e.resolve(i)}():e.reject({message:r})}),e.promise()}}),n=new google.maps.places.PlacesService(i.getNativeObject()),s=new google.maps.DirectionsService}),a=stampit.compose(s.RoutingEngine,o);t["default"]=a,t.RoutingEngine=a},230:function(e,t,r){"use strict";r(23)(r(242))},242:function(e,t){e.exports='function ClusterIcon(cluster,styles){cluster.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.cluster_=cluster,this.className_=cluster.getMarkerClusterer().getClusterClass(),this.styles_=styles,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(cluster.getMap())}function Cluster(mc){this.markerClusterer_=mc,this.map_=mc.getMap(),this.gridSize_=mc.getGridSize(),this.minClusterSize_=mc.getMinimumClusterSize(),this.averageCenter_=mc.getAverageCenter(),this.hideLabel_=mc.getHideLabel(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,mc.getStyles())}function MarkerClusterer(map,opt_markers,opt_options){this.extend(MarkerClusterer,google.maps.OverlayView),opt_markers=opt_markers||[],opt_options=opt_options||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=opt_options.gridSize||60,this.minClusterSize_=opt_options.minimumClusterSize||2,this.maxZoom_=opt_options.maxZoom||null,this.styles_=opt_options.styles||[],this.title_=opt_options.title||"",this.zoomOnClick_=!0,void 0!==opt_options.zoomOnClick&&(this.zoomOnClick_=opt_options.zoomOnClick),this.averageCenter_=!1,void 0!==opt_options.averageCenter&&(this.averageCenter_=opt_options.averageCenter),this.ignoreHidden_=!1,void 0!==opt_options.ignoreHidden&&(this.ignoreHidden_=opt_options.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==opt_options.enableRetinaIcons&&(this.enableRetinaIcons_=opt_options.enableRetinaIcons),this.hideLabel_=!1,void 0!==opt_options.hideLabel&&(this.hideLabel_=opt_options.hideLabel),this.imagePath_=opt_options.imagePath||MarkerClusterer.IMAGE_PATH,this.imageExtension_=opt_options.imageExtension||MarkerClusterer.IMAGE_EXTENSION,this.imageSizes_=opt_options.imageSizes||MarkerClusterer.IMAGE_SIZES,this.calculator_=opt_options.calculator||MarkerClusterer.CALCULATOR,this.batchSize_=opt_options.batchSize||MarkerClusterer.BATCH_SIZE,this.batchSizeIE_=opt_options.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE,this.clusterClass_=opt_options.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(opt_markers,!0),this.setMap(map)}ClusterIcon.prototype.onAdd=function(){var cMouseDownInCluster,cDraggingMapByCluster,cClusterIcon=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){cDraggingMapByCluster=cMouseDownInCluster}),google.maps.event.addDomListener(this.div_,"mousedown",function(){cMouseDownInCluster=!0,cDraggingMapByCluster=!1}),google.maps.event.addDomListener(this.div_,"click",function(e){if(cMouseDownInCluster=!1,!cDraggingMapByCluster){var theBounds,mz,mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"click",cClusterIcon.cluster_),google.maps.event.trigger(mc,"clusterclick",cClusterIcon.cluster_),mc.getZoomOnClick()&&(mz=mc.getMaxZoom(),theBounds=cClusterIcon.cluster_.getBounds(),mc.getMap().fitBounds(theBounds),setTimeout(function(){mc.getMap().fitBounds(theBounds),null!==mz&&mc.getMap().getZoom()>mz&&mc.getMap().setZoom(mz+1)},100)),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"mouseover",cClusterIcon.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"mouseout",cClusterIcon.cluster_)})},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.draw=function(){if(this.visible_){var pos=this.getPosFromLatLng_(this.center_);this.div_.style.top=pos.y+"px",this.div_.style.left=pos.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var img="",bp=this.backgroundPosition_.split(" "),spriteH=parseInt(bp[0].trim(),10),spriteV=parseInt(bp[1].trim(),10),pos=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(pos),img="<img src=\'"+this.url_+"\' style=\'position: absolute; top: "+spriteV+"px; left: "+spriteH+"px; ",img+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*spriteV+"px, "+(-1*spriteH+this.width_)+"px, "+(-1*spriteV+this.height_)+"px, "+-1*spriteH+"px);",img+="\'>",this.div_.innerHTML=img+"<div style=\'position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;\'>"+(this.cluster_.hideLabel_?" ":this.sums_.text)+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.useStyle=function(sums){this.sums_=sums;var index=Math.max(0,sums.index-1);index=Math.min(this.styles_.length-1,index);var style=this.styles_[index];this.url_=style.url,this.height_=style.height,this.width_=style.width,this.anchorText_=style.anchorText||[0,0],this.anchorIcon_=style.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=style.textColor||"black",this.textSize_=style.textSize||11,this.textDecoration_=style.textDecoration||"none",this.fontWeight_=style.fontWeight||"bold",this.fontStyle_=style.fontStyle||"normal",this.fontFamily_=style.fontFamily||"Arial,sans-serif",this.backgroundPosition_=style.backgroundPosition||"0 0"},ClusterIcon.prototype.setCenter=function(center){this.center_=center},ClusterIcon.prototype.createCss=function(pos){var style=[];return style.push("cursor: pointer;"),style.push("position: absolute; top: "+pos.y+"px; left: "+pos.x+"px;"),style.push("width: "+this.width_+"px; height: "+this.height_+"px;"),style.join("")},ClusterIcon.prototype.getPosFromLatLng_=function(latlng){var pos=this.getProjection().fromLatLngToDivPixel(latlng);return pos.x-=this.anchorIcon_[1],pos.y-=this.anchorIcon_[0],pos.x=parseInt(pos.x,10),pos.y=parseInt(pos.y,10),pos},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){var i,bounds=new google.maps.LatLngBounds(this.center_,this.center_),markers=this.getMarkers();for(i=0;i<markers.length;i++)bounds.extend(markers[i].getPosition());return bounds},Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},Cluster.prototype.addMarker=function(marker){var i,mCount,mz;if(this.isMarkerAlreadyAdded_(marker))return!1;if(this.center_){if(this.averageCenter_){var l=this.markers_.length+1,lat=(this.center_.lat()*(l-1)+marker.getPosition().lat())/l,lng=(this.center_.lng()*(l-1)+marker.getPosition().lng())/l;this.center_=new google.maps.LatLng(lat,lng),this.calculateBounds_()}}else this.center_=marker.getPosition(),this.calculateBounds_();if(marker.isAdded=!0,this.markers_.push(marker),mCount=this.markers_.length,mz=this.markerClusterer_.getMaxZoom(),null!==mz&&this.map_.getZoom()>mz)marker.getMap()!==this.map_&&marker.setMap(this.map_);else if(mCount<this.minClusterSize_)marker.getMap()!==this.map_&&marker.setMap(this.map_);else if(mCount===this.minClusterSize_)for(i=0;mCount>i;i++)this.markers_[i].setMap(null);else marker.setMap(null);return!0},Cluster.prototype.isMarkerInClusterBounds=function(marker){return this.bounds_.contains(marker.getPosition())},Cluster.prototype.calculateBounds_=function(){var bounds=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(bounds)},Cluster.prototype.updateIcon_=function(){var mCount=this.markers_.length,mz=this.markerClusterer_.getMaxZoom();if(null!==mz&&this.map_.getZoom()>mz)return void this.clusterIcon_.hide();if(mCount<this.minClusterSize_)return void this.clusterIcon_.hide();var numStyles=this.markerClusterer_.getStyles().length,sums=this.markerClusterer_.getCalculator()(this.markers_,numStyles);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(sums),this.clusterIcon_.show()},Cluster.prototype.isMarkerAlreadyAdded_=function(marker){for(var i=0,n=this.markers_.length;n>i;i++)if(marker===this.markers_[i])return!0;return!1},MarkerClusterer.prototype.onAdd=function(){var cMarkerClusterer=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){cMarkerClusterer.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){cMarkerClusterer.redraw_()})]},MarkerClusterer.prototype.onRemove=function(){var i;for(i=0;i<this.markers_.length;i++)this.markers_[i].getMap()!==this.activeMap_&&this.markers_[i].setMap(this.activeMap_);for(i=0;i<this.clusters_.length;i++)this.clusters_[i].remove();for(this.clusters_=[],i=0;i<this.listeners_.length;i++)google.maps.event.removeListener(this.listeners_[i]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){var i,size;if(!(this.styles_.length>0))for(i=0;i<this.imageSizes_.length;i++)size=this.imageSizes_[i],this.styles_.push({url:this.imagePath_+(i+1)+"."+this.imageExtension_,height:size,width:size})},MarkerClusterer.prototype.fitMapToMarkers=function(){var i,markers=this.getMarkers(),bounds=new google.maps.LatLngBounds;for(i=0;i<markers.length;i++)bounds.extend(markers[i].getPosition());this.getMap().fitBounds(bounds)},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(gridSize){this.gridSize_=gridSize},MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinimumClusterSize=function(minimumClusterSize){this.minClusterSize_=minimumClusterSize},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.setMaxZoom=function(maxZoom){this.maxZoom_=maxZoom},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.setStyles=function(styles){this.styles_=styles},MarkerClusterer.prototype.getTitle=function(){return this.title_},MarkerClusterer.prototype.setTitle=function(title){this.title_=title},MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.setZoomOnClick=function(zoomOnClick){this.zoomOnClick_=zoomOnClick},MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.setAverageCenter=function(averageCenter){this.averageCenter_=averageCenter},MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},MarkerClusterer.prototype.setIgnoreHidden=function(ignoreHidden){this.ignoreHidden_=ignoreHidden},MarkerClusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},MarkerClusterer.prototype.setEnableRetinaIcons=function(enableRetinaIcons){this.enableRetinaIcons_=enableRetinaIcons},MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_},MarkerClusterer.prototype.setImageExtension=function(imageExtension){this.imageExtension_=imageExtension},MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_},MarkerClusterer.prototype.setImagePath=function(imagePath){this.imagePath_=imagePath},MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_},MarkerClusterer.prototype.setImageSizes=function(imageSizes){this.imageSizes_=imageSizes},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.setCalculator=function(calculator){this.calculator_=calculator},MarkerClusterer.prototype.setHideLabel=function(hideLabel){this.hideLabel_=hideLabel},MarkerClusterer.prototype.getHideLabel=function(){return this.hideLabel_},MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},MarkerClusterer.prototype.setBatchSizeIE=function(batchSizeIE){this.batchSizeIE_=batchSizeIE},MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_},MarkerClusterer.prototype.setClusterClass=function(clusterClass){this.clusterClass_=clusterClass},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.getClusters=function(){return this.clusters_},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.addMarker=function(marker,opt_nodraw){this.pushMarkerTo_(marker),opt_nodraw||this.redraw_()},MarkerClusterer.prototype.addMarkers=function(markers,opt_nodraw){var key;for(key in markers)markers.hasOwnProperty(key)&&this.pushMarkerTo_(markers[key]);opt_nodraw||this.redraw_()},MarkerClusterer.prototype.pushMarkerTo_=function(marker){if(marker.getDraggable()){var cMarkerClusterer=this;google.maps.event.addListener(marker,"dragend",function(){cMarkerClusterer.ready_&&(this.isAdded=!1,cMarkerClusterer.repaint())})}marker.isAdded=!1,this.markers_.push(marker)},MarkerClusterer.prototype.removeMarker=function(marker,opt_nodraw,opt_noMapRemove){var removeFromMap=!0&&!opt_noMapRemove,removed=this.removeMarker_(marker,removeFromMap);return!opt_nodraw&&removed&&this.repaint(),removed},MarkerClusterer.prototype.removeMarkers=function(markers,opt_nodraw,opt_noMapRemove){var i,r,removed=!1,removeFromMap=!0&&!opt_noMapRemove;for(i=0;i<markers.length;i++)r=this.removeMarker_(markers[i],removeFromMap),removed=removed||r;return!opt_nodraw&&removed&&this.repaint(),removed},MarkerClusterer.prototype.removeMarker_=function(marker,removeFromMap){var i,index=-1;if(this.markers_.indexOf)index=this.markers_.indexOf(marker);else for(i=0;i<this.markers_.length;i++)if(marker===this.markers_[i]){index=i;break}return-1===index?!1:(removeFromMap&&marker.setMap(null),this.markers_.splice(index,1),!0)},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},MarkerClusterer.prototype.repaint=function(){var oldClusters=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var i;for(i=0;i<oldClusters.length;i++)oldClusters[i].remove()},0)},MarkerClusterer.prototype.getExtendedBounds=function(bounds){var projection=this.getProjection(),tr=new google.maps.LatLng(bounds.getNorthEast().lat(),bounds.getNorthEast().lng()),bl=new google.maps.LatLng(bounds.getSouthWest().lat(),bounds.getSouthWest().lng()),trPix=projection.fromLatLngToDivPixel(tr);trPix.x+=this.gridSize_,trPix.y-=this.gridSize_;var blPix=projection.fromLatLngToDivPixel(bl);blPix.x-=this.gridSize_,blPix.y+=this.gridSize_;var ne=projection.fromDivPixelToLatLng(trPix),sw=projection.fromDivPixelToLatLng(blPix);return bounds.extend(ne),bounds.extend(sw),bounds},MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)},MarkerClusterer.prototype.resetViewport_=function(opt_hide){var i,marker;for(i=0;i<this.clusters_.length;i++)this.clusters_[i].remove();for(this.clusters_=[],i=0;i<this.markers_.length;i++)marker=this.markers_[i],marker.isAdded=!1,opt_hide&&marker.setMap(null)},MarkerClusterer.prototype.distanceBetweenPoints_=function(p1,p2){var R=6371,dLat=(p2.lat()-p1.lat())*Math.PI/180,dLon=(p2.lng()-p1.lng())*Math.PI/180,a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(p1.lat()*Math.PI/180)*Math.cos(p2.lat()*Math.PI/180)*Math.sin(dLon/2)*Math.sin(dLon/2),c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),d=R*c;return d},MarkerClusterer.prototype.isMarkerInBounds_=function(marker,bounds){return bounds.contains(marker.getPosition())},MarkerClusterer.prototype.addToClosestCluster_=function(marker){var i,d,cluster,center,distance=4e4,clusterToAddTo=null;for(i=0;i<this.clusters_.length;i++)cluster=this.clusters_[i],center=cluster.getCenter(),center&&(d=this.distanceBetweenPoints_(center,marker.getPosition()),distance>d&&(distance=d,clusterToAddTo=cluster));clusterToAddTo&&clusterToAddTo.isMarkerInClusterBounds(marker)?clusterToAddTo.addMarker(marker):(cluster=new Cluster(this),cluster.addMarker(marker),this.clusters_.push(cluster))},MarkerClusterer.prototype.createClusters_=function(iFirst){var i,marker,mapBounds,cMarkerClusterer=this;if(this.ready_){0===iFirst&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),mapBounds=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var bounds=this.getExtendedBounds(mapBounds),iLast=Math.min(iFirst+this.batchSize_,this.markers_.length);for(i=iFirst;iLast>i;i++)marker=this.markers_[i],!marker.isAdded&&this.isMarkerInBounds_(marker,bounds)&&(!this.ignoreHidden_||this.ignoreHidden_&&marker.getVisible())&&this.addToClosestCluster_(marker);if(iLast<this.markers_.length)this.timerRefStatic=setTimeout(function(){cMarkerClusterer.createClusters_(iLast)},0);else for(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this),i=0;i<this.clusters_.length;i++)this.clusters_[i].updateIcon_()}},MarkerClusterer.prototype.extend=function(obj1,obj2){return function(object){var property;for(property in object.prototype)this.prototype[property]=object.prototype[property];return this}.apply(obj1,[obj2])},MarkerClusterer.CALCULATOR=function(markers,numStyles){for(var index=0,title="",count=markers.length.toString(),dv=count;0!==dv;)dv=parseInt(dv/10,10),index++;return index=Math.min(index,numStyles),{text:count,index:index,title:title}},MarkerClusterer.BATCH_SIZE=2e3,MarkerClusterer.BATCH_SIZE_IE=500,MarkerClusterer.IMAGE_PATH="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/images/m",MarkerClusterer.IMAGE_EXTENSION="png",MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,"")});';
},256:function(e,t){e.exports=MarkerClusterer}});
//# sourceMappingURL=googlemaps.chunk.js.map